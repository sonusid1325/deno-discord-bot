import { iconHashToBigInt } from '../index.js';
export function transformWidget(bot, payload) {
    const widget = {
        id: bot.transformers.snowflake(payload.id),
        name: payload.name,
        instant_invite: payload.instant_invite,
        channels: payload.channels.map((channel)=>({
                id: bot.transformers.snowflake(channel.id),
                name: channel.name,
                position: channel.position
            })),
        members: payload.members.map((member)=>({
                id: bot.transformers.snowflake(member.id),
                username: member.username,
                discriminator: member.discriminator,
                avatar: member.avatar ? iconHashToBigInt(member.avatar) : undefined,
                status: member.status,
                avatarUrl: member.avatar_url
            })),
        presenceCount: payload.presence_count
    };
    return bot.transformers.customizers.widget(bot, payload, widget);
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy90cmFuc2Zvcm1lcnMvd2lkZ2V0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgRGlzY29yZEd1aWxkV2lkZ2V0IH0gZnJvbSAnQGRpc2NvcmRlbm8vdHlwZXMnXG5pbXBvcnQgeyB0eXBlIEJvdCwgdHlwZSBHdWlsZFdpZGdldCwgaWNvbkhhc2hUb0JpZ0ludCB9IGZyb20gJy4uL2luZGV4LmpzJ1xuXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtV2lkZ2V0KGJvdDogQm90LCBwYXlsb2FkOiBEaXNjb3JkR3VpbGRXaWRnZXQpOiBHdWlsZFdpZGdldCB7XG4gIGNvbnN0IHdpZGdldCA9IHtcbiAgICBpZDogYm90LnRyYW5zZm9ybWVycy5zbm93Zmxha2UocGF5bG9hZC5pZCksXG4gICAgbmFtZTogcGF5bG9hZC5uYW1lLFxuICAgIGluc3RhbnRfaW52aXRlOiBwYXlsb2FkLmluc3RhbnRfaW52aXRlLFxuICAgIGNoYW5uZWxzOiBwYXlsb2FkLmNoYW5uZWxzLm1hcCgoY2hhbm5lbCkgPT4gKHtcbiAgICAgIGlkOiBib3QudHJhbnNmb3JtZXJzLnNub3dmbGFrZShjaGFubmVsLmlkKSxcbiAgICAgIG5hbWU6IGNoYW5uZWwubmFtZSxcbiAgICAgIHBvc2l0aW9uOiBjaGFubmVsLnBvc2l0aW9uLFxuICAgIH0pKSxcbiAgICBtZW1iZXJzOiBwYXlsb2FkLm1lbWJlcnMubWFwKChtZW1iZXIpID0+ICh7XG4gICAgICBpZDogYm90LnRyYW5zZm9ybWVycy5zbm93Zmxha2UobWVtYmVyLmlkKSxcbiAgICAgIHVzZXJuYW1lOiBtZW1iZXIudXNlcm5hbWUsXG4gICAgICBkaXNjcmltaW5hdG9yOiBtZW1iZXIuZGlzY3JpbWluYXRvcixcbiAgICAgIGF2YXRhcjogbWVtYmVyLmF2YXRhciA/IGljb25IYXNoVG9CaWdJbnQobWVtYmVyLmF2YXRhcikgOiB1bmRlZmluZWQsXG4gICAgICBzdGF0dXM6IG1lbWJlci5zdGF0dXMsXG4gICAgICBhdmF0YXJVcmw6IG1lbWJlci5hdmF0YXJfdXJsLFxuICAgIH0pKSxcbiAgICBwcmVzZW5jZUNvdW50OiBwYXlsb2FkLnByZXNlbmNlX2NvdW50LFxuICB9IGFzIEd1aWxkV2lkZ2V0XG5cbiAgcmV0dXJuIGJvdC50cmFuc2Zvcm1lcnMuY3VzdG9taXplcnMud2lkZ2V0KGJvdCwgcGF5bG9hZCwgd2lkZ2V0KVxufVxuIl0sIm5hbWVzIjpbImljb25IYXNoVG9CaWdJbnQiLCJ0cmFuc2Zvcm1XaWRnZXQiLCJib3QiLCJwYXlsb2FkIiwid2lkZ2V0IiwiaWQiLCJ0cmFuc2Zvcm1lcnMiLCJzbm93Zmxha2UiLCJuYW1lIiwiaW5zdGFudF9pbnZpdGUiLCJjaGFubmVscyIsIm1hcCIsImNoYW5uZWwiLCJwb3NpdGlvbiIsIm1lbWJlcnMiLCJtZW1iZXIiLCJ1c2VybmFtZSIsImRpc2NyaW1pbmF0b3IiLCJhdmF0YXIiLCJ1bmRlZmluZWQiLCJzdGF0dXMiLCJhdmF0YXJVcmwiLCJhdmF0YXJfdXJsIiwicHJlc2VuY2VDb3VudCIsInByZXNlbmNlX2NvdW50IiwiY3VzdG9taXplcnMiXSwibWFwcGluZ3MiOiJBQUNBLFNBQXFDQSxnQkFBZ0IsUUFBUSxjQUFhO0FBRTFFLE9BQU8sU0FBU0MsZ0JBQWdCQyxHQUFRLEVBQUVDLE9BQTJCO0lBQ25FLE1BQU1DLFNBQVM7UUFDYkMsSUFBSUgsSUFBSUksWUFBWSxDQUFDQyxTQUFTLENBQUNKLFFBQVFFLEVBQUU7UUFDekNHLE1BQU1MLFFBQVFLLElBQUk7UUFDbEJDLGdCQUFnQk4sUUFBUU0sY0FBYztRQUN0Q0MsVUFBVVAsUUFBUU8sUUFBUSxDQUFDQyxHQUFHLENBQUMsQ0FBQ0MsVUFBYSxDQUFBO2dCQUMzQ1AsSUFBSUgsSUFBSUksWUFBWSxDQUFDQyxTQUFTLENBQUNLLFFBQVFQLEVBQUU7Z0JBQ3pDRyxNQUFNSSxRQUFRSixJQUFJO2dCQUNsQkssVUFBVUQsUUFBUUMsUUFBUTtZQUM1QixDQUFBO1FBQ0FDLFNBQVNYLFFBQVFXLE9BQU8sQ0FBQ0gsR0FBRyxDQUFDLENBQUNJLFNBQVksQ0FBQTtnQkFDeENWLElBQUlILElBQUlJLFlBQVksQ0FBQ0MsU0FBUyxDQUFDUSxPQUFPVixFQUFFO2dCQUN4Q1csVUFBVUQsT0FBT0MsUUFBUTtnQkFDekJDLGVBQWVGLE9BQU9FLGFBQWE7Z0JBQ25DQyxRQUFRSCxPQUFPRyxNQUFNLEdBQUdsQixpQkFBaUJlLE9BQU9HLE1BQU0sSUFBSUM7Z0JBQzFEQyxRQUFRTCxPQUFPSyxNQUFNO2dCQUNyQkMsV0FBV04sT0FBT08sVUFBVTtZQUM5QixDQUFBO1FBQ0FDLGVBQWVwQixRQUFRcUIsY0FBYztJQUN2QztJQUVBLE9BQU90QixJQUFJSSxZQUFZLENBQUNtQixXQUFXLENBQUNyQixNQUFNLENBQUNGLEtBQUtDLFNBQVNDO0FBQzNEIn0=