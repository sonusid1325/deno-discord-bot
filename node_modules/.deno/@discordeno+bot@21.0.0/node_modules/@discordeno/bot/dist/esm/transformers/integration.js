import { iconHashToBigInt } from '../index.js';
export function transformIntegration(bot, payload) {
    const integration = {
        guildId: bot.transformers.snowflake(payload.guild_id),
        id: bot.transformers.snowflake(payload.id),
        name: payload.name,
        type: payload.type,
        enabled: payload.enabled,
        syncing: payload.syncing,
        roleId: payload.role_id ? bot.transformers.snowflake(payload.role_id) : undefined,
        enableEmoticons: payload.enable_emoticons,
        expireBehavior: payload.expire_behavior,
        expireGracePeriod: payload.expire_grace_period,
        user: payload.user ? bot.transformers.user(bot, payload.user) : undefined,
        account: {
            id: bot.transformers.snowflake(payload.account.id),
            name: payload.account.name
        },
        syncedAt: payload.synced_at ? Date.parse(payload.synced_at) : undefined,
        subscriberCount: payload.subscriber_count,
        revoked: payload.revoked,
        application: payload.application ? {
            id: bot.transformers.snowflake(payload.application.id),
            name: payload.application.name,
            icon: payload.application.icon ? iconHashToBigInt(payload.application.icon) : undefined,
            description: payload.application.description,
            bot: payload.application.bot ? bot.transformers.user(bot, payload.application.bot) : undefined
        } : undefined,
        scopes: payload.scopes
    };
    return bot.transformers.customizers.integration(bot, payload, integration);
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy90cmFuc2Zvcm1lcnMvaW50ZWdyYXRpb24udHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBEaXNjb3JkSW50ZWdyYXRpb25DcmVhdGVVcGRhdGUgfSBmcm9tICdAZGlzY29yZGVuby90eXBlcydcbmltcG9ydCB7IHR5cGUgQm90LCB0eXBlIEludGVncmF0aW9uLCBpY29uSGFzaFRvQmlnSW50IH0gZnJvbSAnLi4vaW5kZXguanMnXG5cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm1JbnRlZ3JhdGlvbihib3Q6IEJvdCwgcGF5bG9hZDogRGlzY29yZEludGVncmF0aW9uQ3JlYXRlVXBkYXRlKTogSW50ZWdyYXRpb24ge1xuICBjb25zdCBpbnRlZ3JhdGlvbiA9IHtcbiAgICBndWlsZElkOiBib3QudHJhbnNmb3JtZXJzLnNub3dmbGFrZShwYXlsb2FkLmd1aWxkX2lkKSxcbiAgICBpZDogYm90LnRyYW5zZm9ybWVycy5zbm93Zmxha2UocGF5bG9hZC5pZCksXG4gICAgbmFtZTogcGF5bG9hZC5uYW1lLFxuICAgIHR5cGU6IHBheWxvYWQudHlwZSxcbiAgICBlbmFibGVkOiBwYXlsb2FkLmVuYWJsZWQsXG4gICAgc3luY2luZzogcGF5bG9hZC5zeW5jaW5nLFxuICAgIHJvbGVJZDogcGF5bG9hZC5yb2xlX2lkID8gYm90LnRyYW5zZm9ybWVycy5zbm93Zmxha2UocGF5bG9hZC5yb2xlX2lkKSA6IHVuZGVmaW5lZCxcbiAgICBlbmFibGVFbW90aWNvbnM6IHBheWxvYWQuZW5hYmxlX2Vtb3RpY29ucyxcbiAgICBleHBpcmVCZWhhdmlvcjogcGF5bG9hZC5leHBpcmVfYmVoYXZpb3IsXG4gICAgZXhwaXJlR3JhY2VQZXJpb2Q6IHBheWxvYWQuZXhwaXJlX2dyYWNlX3BlcmlvZCxcbiAgICB1c2VyOiBwYXlsb2FkLnVzZXIgPyBib3QudHJhbnNmb3JtZXJzLnVzZXIoYm90LCBwYXlsb2FkLnVzZXIpIDogdW5kZWZpbmVkLFxuICAgIGFjY291bnQ6IHtcbiAgICAgIGlkOiBib3QudHJhbnNmb3JtZXJzLnNub3dmbGFrZShwYXlsb2FkLmFjY291bnQuaWQpLFxuICAgICAgbmFtZTogcGF5bG9hZC5hY2NvdW50Lm5hbWUsXG4gICAgfSxcbiAgICBzeW5jZWRBdDogcGF5bG9hZC5zeW5jZWRfYXQgPyBEYXRlLnBhcnNlKHBheWxvYWQuc3luY2VkX2F0KSA6IHVuZGVmaW5lZCxcbiAgICBzdWJzY3JpYmVyQ291bnQ6IHBheWxvYWQuc3Vic2NyaWJlcl9jb3VudCxcbiAgICByZXZva2VkOiBwYXlsb2FkLnJldm9rZWQsXG4gICAgYXBwbGljYXRpb246IHBheWxvYWQuYXBwbGljYXRpb25cbiAgICAgID8ge1xuICAgICAgICAgIGlkOiBib3QudHJhbnNmb3JtZXJzLnNub3dmbGFrZShwYXlsb2FkLmFwcGxpY2F0aW9uLmlkKSxcbiAgICAgICAgICBuYW1lOiBwYXlsb2FkLmFwcGxpY2F0aW9uLm5hbWUsXG4gICAgICAgICAgaWNvbjogcGF5bG9hZC5hcHBsaWNhdGlvbi5pY29uID8gaWNvbkhhc2hUb0JpZ0ludChwYXlsb2FkLmFwcGxpY2F0aW9uLmljb24pIDogdW5kZWZpbmVkLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBwYXlsb2FkLmFwcGxpY2F0aW9uLmRlc2NyaXB0aW9uLFxuICAgICAgICAgIGJvdDogcGF5bG9hZC5hcHBsaWNhdGlvbi5ib3QgPyBib3QudHJhbnNmb3JtZXJzLnVzZXIoYm90LCBwYXlsb2FkLmFwcGxpY2F0aW9uLmJvdCkgOiB1bmRlZmluZWQsXG4gICAgICAgIH1cbiAgICAgIDogdW5kZWZpbmVkLFxuICAgIHNjb3BlczogcGF5bG9hZC5zY29wZXMsXG4gIH0gYXMgSW50ZWdyYXRpb25cblxuICByZXR1cm4gYm90LnRyYW5zZm9ybWVycy5jdXN0b21pemVycy5pbnRlZ3JhdGlvbihib3QsIHBheWxvYWQsIGludGVncmF0aW9uKVxufVxuIl0sIm5hbWVzIjpbImljb25IYXNoVG9CaWdJbnQiLCJ0cmFuc2Zvcm1JbnRlZ3JhdGlvbiIsImJvdCIsInBheWxvYWQiLCJpbnRlZ3JhdGlvbiIsImd1aWxkSWQiLCJ0cmFuc2Zvcm1lcnMiLCJzbm93Zmxha2UiLCJndWlsZF9pZCIsImlkIiwibmFtZSIsInR5cGUiLCJlbmFibGVkIiwic3luY2luZyIsInJvbGVJZCIsInJvbGVfaWQiLCJ1bmRlZmluZWQiLCJlbmFibGVFbW90aWNvbnMiLCJlbmFibGVfZW1vdGljb25zIiwiZXhwaXJlQmVoYXZpb3IiLCJleHBpcmVfYmVoYXZpb3IiLCJleHBpcmVHcmFjZVBlcmlvZCIsImV4cGlyZV9ncmFjZV9wZXJpb2QiLCJ1c2VyIiwiYWNjb3VudCIsInN5bmNlZEF0Iiwic3luY2VkX2F0IiwiRGF0ZSIsInBhcnNlIiwic3Vic2NyaWJlckNvdW50Iiwic3Vic2NyaWJlcl9jb3VudCIsInJldm9rZWQiLCJhcHBsaWNhdGlvbiIsImljb24iLCJkZXNjcmlwdGlvbiIsInNjb3BlcyIsImN1c3RvbWl6ZXJzIl0sIm1hcHBpbmdzIjoiQUFDQSxTQUFxQ0EsZ0JBQWdCLFFBQVEsY0FBYTtBQUUxRSxPQUFPLFNBQVNDLHFCQUFxQkMsR0FBUSxFQUFFQyxPQUF1QztJQUNwRixNQUFNQyxjQUFjO1FBQ2xCQyxTQUFTSCxJQUFJSSxZQUFZLENBQUNDLFNBQVMsQ0FBQ0osUUFBUUssUUFBUTtRQUNwREMsSUFBSVAsSUFBSUksWUFBWSxDQUFDQyxTQUFTLENBQUNKLFFBQVFNLEVBQUU7UUFDekNDLE1BQU1QLFFBQVFPLElBQUk7UUFDbEJDLE1BQU1SLFFBQVFRLElBQUk7UUFDbEJDLFNBQVNULFFBQVFTLE9BQU87UUFDeEJDLFNBQVNWLFFBQVFVLE9BQU87UUFDeEJDLFFBQVFYLFFBQVFZLE9BQU8sR0FBR2IsSUFBSUksWUFBWSxDQUFDQyxTQUFTLENBQUNKLFFBQVFZLE9BQU8sSUFBSUM7UUFDeEVDLGlCQUFpQmQsUUFBUWUsZ0JBQWdCO1FBQ3pDQyxnQkFBZ0JoQixRQUFRaUIsZUFBZTtRQUN2Q0MsbUJBQW1CbEIsUUFBUW1CLG1CQUFtQjtRQUM5Q0MsTUFBTXBCLFFBQVFvQixJQUFJLEdBQUdyQixJQUFJSSxZQUFZLENBQUNpQixJQUFJLENBQUNyQixLQUFLQyxRQUFRb0IsSUFBSSxJQUFJUDtRQUNoRVEsU0FBUztZQUNQZixJQUFJUCxJQUFJSSxZQUFZLENBQUNDLFNBQVMsQ0FBQ0osUUFBUXFCLE9BQU8sQ0FBQ2YsRUFBRTtZQUNqREMsTUFBTVAsUUFBUXFCLE9BQU8sQ0FBQ2QsSUFBSTtRQUM1QjtRQUNBZSxVQUFVdEIsUUFBUXVCLFNBQVMsR0FBR0MsS0FBS0MsS0FBSyxDQUFDekIsUUFBUXVCLFNBQVMsSUFBSVY7UUFDOURhLGlCQUFpQjFCLFFBQVEyQixnQkFBZ0I7UUFDekNDLFNBQVM1QixRQUFRNEIsT0FBTztRQUN4QkMsYUFBYTdCLFFBQVE2QixXQUFXLEdBQzVCO1lBQ0V2QixJQUFJUCxJQUFJSSxZQUFZLENBQUNDLFNBQVMsQ0FBQ0osUUFBUTZCLFdBQVcsQ0FBQ3ZCLEVBQUU7WUFDckRDLE1BQU1QLFFBQVE2QixXQUFXLENBQUN0QixJQUFJO1lBQzlCdUIsTUFBTTlCLFFBQVE2QixXQUFXLENBQUNDLElBQUksR0FBR2pDLGlCQUFpQkcsUUFBUTZCLFdBQVcsQ0FBQ0MsSUFBSSxJQUFJakI7WUFDOUVrQixhQUFhL0IsUUFBUTZCLFdBQVcsQ0FBQ0UsV0FBVztZQUM1Q2hDLEtBQUtDLFFBQVE2QixXQUFXLENBQUM5QixHQUFHLEdBQUdBLElBQUlJLFlBQVksQ0FBQ2lCLElBQUksQ0FBQ3JCLEtBQUtDLFFBQVE2QixXQUFXLENBQUM5QixHQUFHLElBQUljO1FBQ3ZGLElBQ0FBO1FBQ0ptQixRQUFRaEMsUUFBUWdDLE1BQU07SUFDeEI7SUFFQSxPQUFPakMsSUFBSUksWUFBWSxDQUFDOEIsV0FBVyxDQUFDaEMsV0FBVyxDQUFDRixLQUFLQyxTQUFTQztBQUNoRSJ9