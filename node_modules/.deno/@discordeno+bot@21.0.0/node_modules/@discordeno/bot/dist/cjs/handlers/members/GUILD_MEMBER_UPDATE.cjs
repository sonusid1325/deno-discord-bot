"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "handleGuildMemberUpdate", {
    enumerable: true,
    get: function() {
        return handleGuildMemberUpdate;
    }
});
async function handleGuildMemberUpdate(bot, data) {
    if (!bot.events.guildMemberUpdate) return;
    const payload = data.d;
    const user = bot.transformers.user(bot, payload.user);
    // @ts-expect-error Flags in the update are nullable, while on the member they are be always present
    bot.events.guildMemberUpdate(bot.transformers.member(bot, payload, bot.transformers.snowflake(payload.guild_id), user.id), user);
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9oYW5kbGVycy9tZW1iZXJzL0dVSUxEX01FTUJFUl9VUERBVEUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBEaXNjb3JkR2F0ZXdheVBheWxvYWQsIERpc2NvcmRHdWlsZE1lbWJlclVwZGF0ZSB9IGZyb20gJ0BkaXNjb3JkZW5vL3R5cGVzJ1xuaW1wb3J0IHR5cGUgeyBCb3QgfSBmcm9tICcuLi8uLi9pbmRleC5qcydcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZUd1aWxkTWVtYmVyVXBkYXRlKGJvdDogQm90LCBkYXRhOiBEaXNjb3JkR2F0ZXdheVBheWxvYWQpOiBQcm9taXNlPHZvaWQ+IHtcbiAgaWYgKCFib3QuZXZlbnRzLmd1aWxkTWVtYmVyVXBkYXRlKSByZXR1cm5cblxuICBjb25zdCBwYXlsb2FkID0gZGF0YS5kIGFzIERpc2NvcmRHdWlsZE1lbWJlclVwZGF0ZVxuXG4gIGNvbnN0IHVzZXIgPSBib3QudHJhbnNmb3JtZXJzLnVzZXIoYm90LCBwYXlsb2FkLnVzZXIpXG4gIC8vIEB0cy1leHBlY3QtZXJyb3IgRmxhZ3MgaW4gdGhlIHVwZGF0ZSBhcmUgbnVsbGFibGUsIHdoaWxlIG9uIHRoZSBtZW1iZXIgdGhleSBhcmUgYmUgYWx3YXlzIHByZXNlbnRcbiAgYm90LmV2ZW50cy5ndWlsZE1lbWJlclVwZGF0ZShib3QudHJhbnNmb3JtZXJzLm1lbWJlcihib3QsIHBheWxvYWQsIGJvdC50cmFuc2Zvcm1lcnMuc25vd2ZsYWtlKHBheWxvYWQuZ3VpbGRfaWQpLCB1c2VyLmlkKSwgdXNlcilcbn1cbiJdLCJuYW1lcyI6WyJoYW5kbGVHdWlsZE1lbWJlclVwZGF0ZSIsImJvdCIsImRhdGEiLCJldmVudHMiLCJndWlsZE1lbWJlclVwZGF0ZSIsInBheWxvYWQiLCJkIiwidXNlciIsInRyYW5zZm9ybWVycyIsIm1lbWJlciIsInNub3dmbGFrZSIsImd1aWxkX2lkIiwiaWQiXSwibWFwcGluZ3MiOiI7Ozs7K0JBR3NCQTs7O2VBQUFBOzs7QUFBZixlQUFlQSx3QkFBd0JDLEdBQVEsRUFBRUMsSUFBMkI7SUFDakYsSUFBSSxDQUFDRCxJQUFJRSxNQUFNLENBQUNDLGlCQUFpQixFQUFFO0lBRW5DLE1BQU1DLFVBQVVILEtBQUtJLENBQUM7SUFFdEIsTUFBTUMsT0FBT04sSUFBSU8sWUFBWSxDQUFDRCxJQUFJLENBQUNOLEtBQUtJLFFBQVFFLElBQUk7SUFDcEQsb0dBQW9HO0lBQ3BHTixJQUFJRSxNQUFNLENBQUNDLGlCQUFpQixDQUFDSCxJQUFJTyxZQUFZLENBQUNDLE1BQU0sQ0FBQ1IsS0FBS0ksU0FBU0osSUFBSU8sWUFBWSxDQUFDRSxTQUFTLENBQUNMLFFBQVFNLFFBQVEsR0FBR0osS0FBS0ssRUFBRSxHQUFHTDtBQUM3SCJ9