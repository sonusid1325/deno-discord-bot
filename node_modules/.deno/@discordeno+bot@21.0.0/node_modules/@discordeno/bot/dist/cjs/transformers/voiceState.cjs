"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "transformVoiceState", {
    enumerable: true,
    get: function() {
        return transformVoiceState;
    }
});
const _voice = require("./toggles/voice.cjs");
function transformVoiceState(bot, payload) {
    const props = bot.transformers.desiredProperties.voiceState;
    const voiceState = {};
    if (props.requestToSpeakTimestamp && payload.voiceState.request_to_speak_timestamp) voiceState.requestToSpeakTimestamp = Date.parse(payload.voiceState.request_to_speak_timestamp);
    if (props.channelId && payload.voiceState.channel_id) voiceState.channelId = bot.transformers.snowflake(payload.voiceState.channel_id);
    if (props.guildId) voiceState.guildId = bot.transformers.snowflake(payload.guildId);
    if (props.toggles) voiceState.toggles = new _voice.VoiceStateToggles(payload.voiceState);
    if (props.sessionId) voiceState.sessionId = payload.voiceState.session_id;
    if (props.userId && payload.voiceState.user_id) voiceState.userId = bot.transformers.snowflake(payload.voiceState.user_id) ?? 0n;
    return bot.transformers.customizers.voiceState(bot, payload.voiceState, voiceState);
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy90cmFuc2Zvcm1lcnMvdm9pY2VTdGF0ZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IEJpZ1N0cmluZywgRGlzY29yZFZvaWNlU3RhdGUgfSBmcm9tICdAZGlzY29yZGVuby90eXBlcydcbmltcG9ydCB0eXBlIHsgSW50ZXJuYWxCb3QsIFZvaWNlU3RhdGUgfSBmcm9tICcuLi9pbmRleC5qcydcbmltcG9ydCB7IFZvaWNlU3RhdGVUb2dnbGVzIH0gZnJvbSAnLi90b2dnbGVzL3ZvaWNlLmpzJ1xuXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtVm9pY2VTdGF0ZShcbiAgYm90OiBJbnRlcm5hbEJvdCxcbiAgcGF5bG9hZDogeyB2b2ljZVN0YXRlOiBEaXNjb3JkVm9pY2VTdGF0ZTsgZ3VpbGRJZDogQmlnU3RyaW5nIH0sXG4pOiB0eXBlb2YgYm90LnRyYW5zZm9ybWVycy4kaW5mZXJyZWRUeXBlcy52b2ljZVN0YXRlIHtcbiAgY29uc3QgcHJvcHMgPSBib3QudHJhbnNmb3JtZXJzLmRlc2lyZWRQcm9wZXJ0aWVzLnZvaWNlU3RhdGVcbiAgY29uc3Qgdm9pY2VTdGF0ZSA9IHt9IGFzIFZvaWNlU3RhdGVcblxuICBpZiAocHJvcHMucmVxdWVzdFRvU3BlYWtUaW1lc3RhbXAgJiYgcGF5bG9hZC52b2ljZVN0YXRlLnJlcXVlc3RfdG9fc3BlYWtfdGltZXN0YW1wKVxuICAgIHZvaWNlU3RhdGUucmVxdWVzdFRvU3BlYWtUaW1lc3RhbXAgPSBEYXRlLnBhcnNlKHBheWxvYWQudm9pY2VTdGF0ZS5yZXF1ZXN0X3RvX3NwZWFrX3RpbWVzdGFtcClcbiAgaWYgKHByb3BzLmNoYW5uZWxJZCAmJiBwYXlsb2FkLnZvaWNlU3RhdGUuY2hhbm5lbF9pZCkgdm9pY2VTdGF0ZS5jaGFubmVsSWQgPSBib3QudHJhbnNmb3JtZXJzLnNub3dmbGFrZShwYXlsb2FkLnZvaWNlU3RhdGUuY2hhbm5lbF9pZClcbiAgaWYgKHByb3BzLmd1aWxkSWQpIHZvaWNlU3RhdGUuZ3VpbGRJZCA9IGJvdC50cmFuc2Zvcm1lcnMuc25vd2ZsYWtlKHBheWxvYWQuZ3VpbGRJZClcbiAgaWYgKHByb3BzLnRvZ2dsZXMpIHZvaWNlU3RhdGUudG9nZ2xlcyA9IG5ldyBWb2ljZVN0YXRlVG9nZ2xlcyhwYXlsb2FkLnZvaWNlU3RhdGUpXG4gIGlmIChwcm9wcy5zZXNzaW9uSWQpIHZvaWNlU3RhdGUuc2Vzc2lvbklkID0gcGF5bG9hZC52b2ljZVN0YXRlLnNlc3Npb25faWRcbiAgaWYgKHByb3BzLnVzZXJJZCAmJiBwYXlsb2FkLnZvaWNlU3RhdGUudXNlcl9pZCkgdm9pY2VTdGF0ZS51c2VySWQgPSBib3QudHJhbnNmb3JtZXJzLnNub3dmbGFrZShwYXlsb2FkLnZvaWNlU3RhdGUudXNlcl9pZCkgPz8gMG5cblxuICByZXR1cm4gYm90LnRyYW5zZm9ybWVycy5jdXN0b21pemVycy52b2ljZVN0YXRlKGJvdCwgcGF5bG9hZC52b2ljZVN0YXRlLCB2b2ljZVN0YXRlKVxufVxuIl0sIm5hbWVzIjpbInRyYW5zZm9ybVZvaWNlU3RhdGUiLCJib3QiLCJwYXlsb2FkIiwicHJvcHMiLCJ0cmFuc2Zvcm1lcnMiLCJkZXNpcmVkUHJvcGVydGllcyIsInZvaWNlU3RhdGUiLCJyZXF1ZXN0VG9TcGVha1RpbWVzdGFtcCIsInJlcXVlc3RfdG9fc3BlYWtfdGltZXN0YW1wIiwiRGF0ZSIsInBhcnNlIiwiY2hhbm5lbElkIiwiY2hhbm5lbF9pZCIsInNub3dmbGFrZSIsImd1aWxkSWQiLCJ0b2dnbGVzIiwiVm9pY2VTdGF0ZVRvZ2dsZXMiLCJzZXNzaW9uSWQiLCJzZXNzaW9uX2lkIiwidXNlcklkIiwidXNlcl9pZCIsImN1c3RvbWl6ZXJzIl0sIm1hcHBpbmdzIjoiOzs7OytCQUlnQkE7OztlQUFBQTs7O3VCQUZrQjtBQUUzQixTQUFTQSxvQkFDZEMsR0FBZ0IsRUFDaEJDLE9BQThEO0lBRTlELE1BQU1DLFFBQVFGLElBQUlHLFlBQVksQ0FBQ0MsaUJBQWlCLENBQUNDLFVBQVU7SUFDM0QsTUFBTUEsYUFBYSxDQUFDO0lBRXBCLElBQUlILE1BQU1JLHVCQUF1QixJQUFJTCxRQUFRSSxVQUFVLENBQUNFLDBCQUEwQixFQUNoRkYsV0FBV0MsdUJBQXVCLEdBQUdFLEtBQUtDLEtBQUssQ0FBQ1IsUUFBUUksVUFBVSxDQUFDRSwwQkFBMEI7SUFDL0YsSUFBSUwsTUFBTVEsU0FBUyxJQUFJVCxRQUFRSSxVQUFVLENBQUNNLFVBQVUsRUFBRU4sV0FBV0ssU0FBUyxHQUFHVixJQUFJRyxZQUFZLENBQUNTLFNBQVMsQ0FBQ1gsUUFBUUksVUFBVSxDQUFDTSxVQUFVO0lBQ3JJLElBQUlULE1BQU1XLE9BQU8sRUFBRVIsV0FBV1EsT0FBTyxHQUFHYixJQUFJRyxZQUFZLENBQUNTLFNBQVMsQ0FBQ1gsUUFBUVksT0FBTztJQUNsRixJQUFJWCxNQUFNWSxPQUFPLEVBQUVULFdBQVdTLE9BQU8sR0FBRyxJQUFJQyx3QkFBaUIsQ0FBQ2QsUUFBUUksVUFBVTtJQUNoRixJQUFJSCxNQUFNYyxTQUFTLEVBQUVYLFdBQVdXLFNBQVMsR0FBR2YsUUFBUUksVUFBVSxDQUFDWSxVQUFVO0lBQ3pFLElBQUlmLE1BQU1nQixNQUFNLElBQUlqQixRQUFRSSxVQUFVLENBQUNjLE9BQU8sRUFBRWQsV0FBV2EsTUFBTSxHQUFHbEIsSUFBSUcsWUFBWSxDQUFDUyxTQUFTLENBQUNYLFFBQVFJLFVBQVUsQ0FBQ2MsT0FBTyxLQUFLLEVBQUU7SUFFaEksT0FBT25CLElBQUlHLFlBQVksQ0FBQ2lCLFdBQVcsQ0FBQ2YsVUFBVSxDQUFDTCxLQUFLQyxRQUFRSSxVQUFVLEVBQUVBO0FBQzFFIn0=