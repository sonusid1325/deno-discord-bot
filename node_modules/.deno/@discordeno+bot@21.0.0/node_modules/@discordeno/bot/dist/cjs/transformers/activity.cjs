"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    transformActivity: function() {
        return transformActivity;
    },
    transformActivityInstance: function() {
        return transformActivityInstance;
    },
    transformActivityLocation: function() {
        return transformActivityLocation;
    }
});
function transformActivity(bot, payload) {
    const activity = {
        name: payload.name,
        type: payload.type,
        url: payload.url ?? undefined,
        createdAt: payload.created_at,
        startedAt: payload.timestamps?.start,
        endedAt: payload.timestamps?.end,
        applicationId: payload.application_id ? bot.transformers.snowflake(payload.application_id) : undefined,
        details: payload.details ?? undefined,
        state: payload.state ?? undefined,
        emoji: payload.emoji ? {
            name: payload.emoji.name,
            animated: payload.emoji.animated,
            id: payload.emoji.id ? bot.transformers.snowflake(payload.emoji.id) : undefined
        } : undefined,
        partyId: payload.party?.id,
        partyCurrentSize: payload.party?.size?.[0],
        partyMaxSize: payload.party?.size?.[1],
        largeImage: payload.assets?.large_image,
        largeText: payload.assets?.large_text,
        smallImage: payload.assets?.small_image,
        smallText: payload.assets?.small_text,
        join: payload.secrets?.join,
        spectate: payload.secrets?.spectate,
        match: payload.secrets?.match,
        instance: payload.instance,
        flags: payload.flags,
        buttons: payload.buttons
    };
    return bot.transformers.customizers.activity(bot, payload, activity);
}
function transformActivityInstance(bot, payload) {
    const props = bot.transformers.desiredProperties.activityInstance;
    const activityInstance = {};
    if (props.applicationId && payload.application_id) activityInstance.applicationId = bot.transformers.snowflake(payload.application_id);
    if (props.instanceId && payload.instance_id) activityInstance.instanceId = payload.instance_id;
    if (props.launchId && payload.launch_id) activityInstance.launchId = bot.transformers.snowflake(payload.launch_id);
    if (props.location && payload.location) activityInstance.location = bot.transformers.activityLocation(bot, payload.location);
    if (props.users && payload.users) activityInstance.users = payload.users.map((x)=>bot.transformers.snowflake(x));
    return bot.transformers.customizers.activityInstance(bot, payload, activityInstance);
}
function transformActivityLocation(bot, payload) {
    const props = bot.transformers.desiredProperties.activityLocation;
    const activityLocation = {};
    if (props.id && payload.id) activityLocation.id = payload.id;
    if (props.kind && payload.kind) activityLocation.kind = payload.kind;
    if (props.channelId && payload.channel_id) activityLocation.channelId = bot.transformers.snowflake(payload.channel_id);
    if (props.guildId && payload.guild_id) activityLocation.guildId = bot.transformers.snowflake(payload.guild_id);
    return bot.transformers.customizers.activityLocation(bot, payload, activityLocation);
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy90cmFuc2Zvcm1lcnMvYWN0aXZpdHkudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUge1xuICBBY3Rpdml0eSxcbiAgQWN0aXZpdHlJbnN0YW5jZSxcbiAgQWN0aXZpdHlMb2NhdGlvbixcbiAgQm90LFxuICBEaXNjb3JkQWN0aXZpdHksXG4gIERpc2NvcmRBY3Rpdml0eUluc3RhbmNlLFxuICBEaXNjb3JkQWN0aXZpdHlMb2NhdGlvbixcbiAgSW50ZXJuYWxCb3QsXG59IGZyb20gJy4uL2luZGV4LmpzJ1xuXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtQWN0aXZpdHkoYm90OiBCb3QsIHBheWxvYWQ6IERpc2NvcmRBY3Rpdml0eSk6IEFjdGl2aXR5IHtcbiAgY29uc3QgYWN0aXZpdHkgPSB7XG4gICAgbmFtZTogcGF5bG9hZC5uYW1lLFxuICAgIHR5cGU6IHBheWxvYWQudHlwZSxcbiAgICB1cmw6IHBheWxvYWQudXJsID8/IHVuZGVmaW5lZCxcbiAgICBjcmVhdGVkQXQ6IHBheWxvYWQuY3JlYXRlZF9hdCxcbiAgICBzdGFydGVkQXQ6IHBheWxvYWQudGltZXN0YW1wcz8uc3RhcnQsXG4gICAgZW5kZWRBdDogcGF5bG9hZC50aW1lc3RhbXBzPy5lbmQsXG4gICAgYXBwbGljYXRpb25JZDogcGF5bG9hZC5hcHBsaWNhdGlvbl9pZCA/IGJvdC50cmFuc2Zvcm1lcnMuc25vd2ZsYWtlKHBheWxvYWQuYXBwbGljYXRpb25faWQpIDogdW5kZWZpbmVkLFxuICAgIGRldGFpbHM6IHBheWxvYWQuZGV0YWlscyA/PyB1bmRlZmluZWQsXG4gICAgc3RhdGU6IHBheWxvYWQuc3RhdGUgPz8gdW5kZWZpbmVkLFxuICAgIGVtb2ppOiBwYXlsb2FkLmVtb2ppXG4gICAgICA/IHtcbiAgICAgICAgICBuYW1lOiBwYXlsb2FkLmVtb2ppLm5hbWUsXG4gICAgICAgICAgYW5pbWF0ZWQ6IHBheWxvYWQuZW1vamkuYW5pbWF0ZWQsXG4gICAgICAgICAgaWQ6IHBheWxvYWQuZW1vamkuaWQgPyBib3QudHJhbnNmb3JtZXJzLnNub3dmbGFrZShwYXlsb2FkLmVtb2ppLmlkKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgfVxuICAgICAgOiB1bmRlZmluZWQsXG4gICAgcGFydHlJZDogcGF5bG9hZC5wYXJ0eT8uaWQsXG4gICAgcGFydHlDdXJyZW50U2l6ZTogcGF5bG9hZC5wYXJ0eT8uc2l6ZT8uWzBdLFxuICAgIHBhcnR5TWF4U2l6ZTogcGF5bG9hZC5wYXJ0eT8uc2l6ZT8uWzFdLFxuICAgIGxhcmdlSW1hZ2U6IHBheWxvYWQuYXNzZXRzPy5sYXJnZV9pbWFnZSxcbiAgICBsYXJnZVRleHQ6IHBheWxvYWQuYXNzZXRzPy5sYXJnZV90ZXh0LFxuICAgIHNtYWxsSW1hZ2U6IHBheWxvYWQuYXNzZXRzPy5zbWFsbF9pbWFnZSxcbiAgICBzbWFsbFRleHQ6IHBheWxvYWQuYXNzZXRzPy5zbWFsbF90ZXh0LFxuICAgIGpvaW46IHBheWxvYWQuc2VjcmV0cz8uam9pbixcbiAgICBzcGVjdGF0ZTogcGF5bG9hZC5zZWNyZXRzPy5zcGVjdGF0ZSxcbiAgICBtYXRjaDogcGF5bG9hZC5zZWNyZXRzPy5tYXRjaCxcbiAgICBpbnN0YW5jZTogcGF5bG9hZC5pbnN0YW5jZSxcbiAgICBmbGFnczogcGF5bG9hZC5mbGFncyxcbiAgICBidXR0b25zOiBwYXlsb2FkLmJ1dHRvbnMsXG4gIH0gYXMgQWN0aXZpdHlcblxuICByZXR1cm4gYm90LnRyYW5zZm9ybWVycy5jdXN0b21pemVycy5hY3Rpdml0eShib3QsIHBheWxvYWQsIGFjdGl2aXR5KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtQWN0aXZpdHlJbnN0YW5jZShcbiAgYm90OiBJbnRlcm5hbEJvdCxcbiAgcGF5bG9hZDogRGlzY29yZEFjdGl2aXR5SW5zdGFuY2UsXG4pOiB0eXBlb2YgYm90LnRyYW5zZm9ybWVycy4kaW5mZXJyZWRUeXBlcy5hY3Rpdml0eUluc3RhbmNlIHtcbiAgY29uc3QgcHJvcHMgPSBib3QudHJhbnNmb3JtZXJzLmRlc2lyZWRQcm9wZXJ0aWVzLmFjdGl2aXR5SW5zdGFuY2VcbiAgY29uc3QgYWN0aXZpdHlJbnN0YW5jZSA9IHt9IGFzIEFjdGl2aXR5SW5zdGFuY2VcblxuICBpZiAocHJvcHMuYXBwbGljYXRpb25JZCAmJiBwYXlsb2FkLmFwcGxpY2F0aW9uX2lkKSBhY3Rpdml0eUluc3RhbmNlLmFwcGxpY2F0aW9uSWQgPSBib3QudHJhbnNmb3JtZXJzLnNub3dmbGFrZShwYXlsb2FkLmFwcGxpY2F0aW9uX2lkKVxuICBpZiAocHJvcHMuaW5zdGFuY2VJZCAmJiBwYXlsb2FkLmluc3RhbmNlX2lkKSBhY3Rpdml0eUluc3RhbmNlLmluc3RhbmNlSWQgPSBwYXlsb2FkLmluc3RhbmNlX2lkXG4gIGlmIChwcm9wcy5sYXVuY2hJZCAmJiBwYXlsb2FkLmxhdW5jaF9pZCkgYWN0aXZpdHlJbnN0YW5jZS5sYXVuY2hJZCA9IGJvdC50cmFuc2Zvcm1lcnMuc25vd2ZsYWtlKHBheWxvYWQubGF1bmNoX2lkKVxuICBpZiAocHJvcHMubG9jYXRpb24gJiYgcGF5bG9hZC5sb2NhdGlvbikgYWN0aXZpdHlJbnN0YW5jZS5sb2NhdGlvbiA9IGJvdC50cmFuc2Zvcm1lcnMuYWN0aXZpdHlMb2NhdGlvbihib3QsIHBheWxvYWQubG9jYXRpb24pXG4gIGlmIChwcm9wcy51c2VycyAmJiBwYXlsb2FkLnVzZXJzKSBhY3Rpdml0eUluc3RhbmNlLnVzZXJzID0gcGF5bG9hZC51c2Vycy5tYXAoKHgpID0+IGJvdC50cmFuc2Zvcm1lcnMuc25vd2ZsYWtlKHgpKVxuXG4gIHJldHVybiBib3QudHJhbnNmb3JtZXJzLmN1c3RvbWl6ZXJzLmFjdGl2aXR5SW5zdGFuY2UoYm90LCBwYXlsb2FkLCBhY3Rpdml0eUluc3RhbmNlKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtQWN0aXZpdHlMb2NhdGlvbihcbiAgYm90OiBJbnRlcm5hbEJvdCxcbiAgcGF5bG9hZDogRGlzY29yZEFjdGl2aXR5TG9jYXRpb24sXG4pOiB0eXBlb2YgYm90LnRyYW5zZm9ybWVycy4kaW5mZXJyZWRUeXBlcy5hY3Rpdml0eUxvY2F0aW9uIHtcbiAgY29uc3QgcHJvcHMgPSBib3QudHJhbnNmb3JtZXJzLmRlc2lyZWRQcm9wZXJ0aWVzLmFjdGl2aXR5TG9jYXRpb25cbiAgY29uc3QgYWN0aXZpdHlMb2NhdGlvbiA9IHt9IGFzIEFjdGl2aXR5TG9jYXRpb25cblxuICBpZiAocHJvcHMuaWQgJiYgcGF5bG9hZC5pZCkgYWN0aXZpdHlMb2NhdGlvbi5pZCA9IHBheWxvYWQuaWRcbiAgaWYgKHByb3BzLmtpbmQgJiYgcGF5bG9hZC5raW5kKSBhY3Rpdml0eUxvY2F0aW9uLmtpbmQgPSBwYXlsb2FkLmtpbmRcbiAgaWYgKHByb3BzLmNoYW5uZWxJZCAmJiBwYXlsb2FkLmNoYW5uZWxfaWQpIGFjdGl2aXR5TG9jYXRpb24uY2hhbm5lbElkID0gYm90LnRyYW5zZm9ybWVycy5zbm93Zmxha2UocGF5bG9hZC5jaGFubmVsX2lkKVxuICBpZiAocHJvcHMuZ3VpbGRJZCAmJiBwYXlsb2FkLmd1aWxkX2lkKSBhY3Rpdml0eUxvY2F0aW9uLmd1aWxkSWQgPSBib3QudHJhbnNmb3JtZXJzLnNub3dmbGFrZShwYXlsb2FkLmd1aWxkX2lkKVxuXG4gIHJldHVybiBib3QudHJhbnNmb3JtZXJzLmN1c3RvbWl6ZXJzLmFjdGl2aXR5TG9jYXRpb24oYm90LCBwYXlsb2FkLCBhY3Rpdml0eUxvY2F0aW9uKVxufVxuIl0sIm5hbWVzIjpbInRyYW5zZm9ybUFjdGl2aXR5IiwidHJhbnNmb3JtQWN0aXZpdHlJbnN0YW5jZSIsInRyYW5zZm9ybUFjdGl2aXR5TG9jYXRpb24iLCJib3QiLCJwYXlsb2FkIiwiYWN0aXZpdHkiLCJuYW1lIiwidHlwZSIsInVybCIsInVuZGVmaW5lZCIsImNyZWF0ZWRBdCIsImNyZWF0ZWRfYXQiLCJzdGFydGVkQXQiLCJ0aW1lc3RhbXBzIiwic3RhcnQiLCJlbmRlZEF0IiwiZW5kIiwiYXBwbGljYXRpb25JZCIsImFwcGxpY2F0aW9uX2lkIiwidHJhbnNmb3JtZXJzIiwic25vd2ZsYWtlIiwiZGV0YWlscyIsInN0YXRlIiwiZW1vamkiLCJhbmltYXRlZCIsImlkIiwicGFydHlJZCIsInBhcnR5IiwicGFydHlDdXJyZW50U2l6ZSIsInNpemUiLCJwYXJ0eU1heFNpemUiLCJsYXJnZUltYWdlIiwiYXNzZXRzIiwibGFyZ2VfaW1hZ2UiLCJsYXJnZVRleHQiLCJsYXJnZV90ZXh0Iiwic21hbGxJbWFnZSIsInNtYWxsX2ltYWdlIiwic21hbGxUZXh0Iiwic21hbGxfdGV4dCIsImpvaW4iLCJzZWNyZXRzIiwic3BlY3RhdGUiLCJtYXRjaCIsImluc3RhbmNlIiwiZmxhZ3MiLCJidXR0b25zIiwiY3VzdG9taXplcnMiLCJwcm9wcyIsImRlc2lyZWRQcm9wZXJ0aWVzIiwiYWN0aXZpdHlJbnN0YW5jZSIsImluc3RhbmNlSWQiLCJpbnN0YW5jZV9pZCIsImxhdW5jaElkIiwibGF1bmNoX2lkIiwibG9jYXRpb24iLCJhY3Rpdml0eUxvY2F0aW9uIiwidXNlcnMiLCJtYXAiLCJ4Iiwia2luZCIsImNoYW5uZWxJZCIsImNoYW5uZWxfaWQiLCJndWlsZElkIiwiZ3VpbGRfaWQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0lBV2dCQSxpQkFBaUI7ZUFBakJBOztJQW9DQUMseUJBQXlCO2VBQXpCQTs7SUFnQkFDLHlCQUF5QjtlQUF6QkE7OztBQXBEVCxTQUFTRixrQkFBa0JHLEdBQVEsRUFBRUMsT0FBd0I7SUFDbEUsTUFBTUMsV0FBVztRQUNmQyxNQUFNRixRQUFRRSxJQUFJO1FBQ2xCQyxNQUFNSCxRQUFRRyxJQUFJO1FBQ2xCQyxLQUFLSixRQUFRSSxHQUFHLElBQUlDO1FBQ3BCQyxXQUFXTixRQUFRTyxVQUFVO1FBQzdCQyxXQUFXUixRQUFRUyxVQUFVLEVBQUVDO1FBQy9CQyxTQUFTWCxRQUFRUyxVQUFVLEVBQUVHO1FBQzdCQyxlQUFlYixRQUFRYyxjQUFjLEdBQUdmLElBQUlnQixZQUFZLENBQUNDLFNBQVMsQ0FBQ2hCLFFB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