"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "handleReady", {
    enumerable: true,
    get: function() {
        return handleReady;
    }
});
async function handleReady(bot, data, shardId) {
    if (!bot.events.ready) return;
    const payload = data.d;
    // Triggered on each shard
    bot.events.ready({
        shardId,
        v: payload.v,
        user: bot.transformers.user(bot, payload.user),
        guilds: payload.guilds.map((p)=>bot.transformers.snowflake(p.id)),
        sessionId: payload.session_id,
        shard: payload.shard,
        applicationId: bot.transformers.snowflake(payload.application.id)
    }, payload);
    bot.id = bot.transformers.snowflake(payload.user.id);
    bot.applicationId = bot.transformers.snowflake(payload.application.id);
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9oYW5kbGVycy9taXNjL1JFQURZLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgRGlzY29yZEdhdGV3YXlQYXlsb2FkLCBEaXNjb3JkUmVhZHkgfSBmcm9tICdAZGlzY29yZGVuby90eXBlcydcbmltcG9ydCB0eXBlIHsgQm90IH0gZnJvbSAnLi4vLi4vaW5kZXguanMnXG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBoYW5kbGVSZWFkeShib3Q6IEJvdCwgZGF0YTogRGlzY29yZEdhdGV3YXlQYXlsb2FkLCBzaGFyZElkOiBudW1iZXIpOiBQcm9taXNlPHZvaWQ+IHtcbiAgaWYgKCFib3QuZXZlbnRzLnJlYWR5KSByZXR1cm5cblxuICBjb25zdCBwYXlsb2FkID0gZGF0YS5kIGFzIERpc2NvcmRSZWFkeVxuICAvLyBUcmlnZ2VyZWQgb24gZWFjaCBzaGFyZFxuICBib3QuZXZlbnRzLnJlYWR5KFxuICAgIHtcbiAgICAgIHNoYXJkSWQsXG4gICAgICB2OiBwYXlsb2FkLnYsXG4gICAgICB1c2VyOiBib3QudHJhbnNmb3JtZXJzLnVzZXIoYm90LCBwYXlsb2FkLnVzZXIpLFxuICAgICAgZ3VpbGRzOiBwYXlsb2FkLmd1aWxkcy5tYXAoKHApID0+IGJvdC50cmFuc2Zvcm1lcnMuc25vd2ZsYWtlKHAuaWQpKSxcbiAgICAgIHNlc3Npb25JZDogcGF5bG9hZC5zZXNzaW9uX2lkLFxuICAgICAgc2hhcmQ6IHBheWxvYWQuc2hhcmQsXG4gICAgICBhcHBsaWNhdGlvbklkOiBib3QudHJhbnNmb3JtZXJzLnNub3dmbGFrZShwYXlsb2FkLmFwcGxpY2F0aW9uLmlkKSxcbiAgICB9LFxuICAgIHBheWxvYWQsXG4gIClcblxuICBib3QuaWQgPSBib3QudHJhbnNmb3JtZXJzLnNub3dmbGFrZShwYXlsb2FkLnVzZXIuaWQpXG4gIGJvdC5hcHBsaWNhdGlvbklkID0gYm90LnRyYW5zZm9ybWVycy5zbm93Zmxha2UocGF5bG9hZC5hcHBsaWNhdGlvbi5pZClcbn1cbiJdLCJuYW1lcyI6WyJoYW5kbGVSZWFkeSIsImJvdCIsImRhdGEiLCJzaGFyZElkIiwiZXZlbnRzIiwicmVhZHkiLCJwYXlsb2FkIiwiZCIsInYiLCJ1c2VyIiwidHJhbnNmb3JtZXJzIiwiZ3VpbGRzIiwibWFwIiwicCIsInNub3dmbGFrZSIsImlkIiwic2Vzc2lvbklkIiwic2Vzc2lvbl9pZCIsInNoYXJkIiwiYXBwbGljYXRpb25JZCIsImFwcGxpY2F0aW9uIl0sIm1hcHBpbmdzIjoiOzs7OytCQUdzQkE7OztlQUFBQTs7O0FBQWYsZUFBZUEsWUFBWUMsR0FBUSxFQUFFQyxJQUEyQixFQUFFQyxPQUFlO0lBQ3RGLElBQUksQ0FBQ0YsSUFBSUcsTUFBTSxDQUFDQyxLQUFLLEVBQUU7SUFFdkIsTUFBTUMsVUFBVUosS0FBS0ssQ0FBQztJQUN0QiwwQkFBMEI7SUFDMUJOLElBQUlHLE1BQU0sQ0FBQ0MsS0FBSyxDQUNkO1FBQ0VGO1FBQ0FLLEdBQUdGLFFBQVFFLENBQUM7UUFDWkMsTUFBTVIsSUFBSVMsWUFBWSxDQUFDRCxJQUFJLENBQUNSLEtBQUtLLFFBQVFHLElBQUk7UUFDN0NFLFFBQVFMLFFBQVFLLE1BQU0sQ0FBQ0MsR0FBRyxDQUFDLENBQUNDLElBQU1aLElBQUlTLFlBQVksQ0FBQ0ksU0FBUyxDQUFDRCxFQUFFRSxFQUFFO1FBQ2pFQyxXQUFXVixRQUFRVyxVQUFVO1FBQzdCQyxPQUFPWixRQUFRWSxLQUFLO1FBQ3BCQyxlQUFlbEIsSUFBSVMsWUFBWSxDQUFDSSxTQUFTLENBQUNSLFFBQVFjLFdBQVcsQ0FBQ0wsRUFBRTtJQUNsRSxHQUNBVDtJQUdGTCxJQUFJYyxFQUFFLEdBQUdkLElBQUlTLFlBQVksQ0FBQ0ksU0FBUyxDQUFDUixRQUFRRyxJQUFJLENBQUNNLEVBQUU7SUFDbkRkLElBQUlrQixhQUFhLEdBQUdsQixJQUFJUyxZQUFZLENBQUNJLFNBQVMsQ0FBQ1IsUUFBUWMsV0FBVyxDQUFDTCxFQUFFO0FBQ3ZFIn0=