"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "transformComponent", {
    enumerable: true,
    get: function() {
        return transformComponent;
    }
});
const _types = require("@discordeno/types");
function transformComponent(bot, payload) {
    let component;
    // This switch is exhaustive, so we dont need the default case and TS does not error out for the un-initialized component variable
    switch(payload.type){
        case _types.MessageComponentTypes.ActionRow:
            component = transformActionRow(bot, payload);
            break;
        case _types.MessageComponentTypes.Button:
            component = transformButtonComponent(bot, payload);
            break;
        case _types.MessageComponentTypes.InputText:
            component = transformInputTextComponent(bot, payload);
            break;
        case _types.MessageComponentTypes.SelectMenu:
        case _types.MessageComponentTypes.SelectMenuChannels:
        case _types.MessageComponentTypes.SelectMenuRoles:
        case _types.MessageComponentTypes.SelectMenuUsers:
        case _types.MessageComponentTypes.SelectMenuUsersAndRoles:
            component = transformSelectMenuComponent(bot, payload);
            break;
    }
    return bot.transformers.customizers.component(bot, payload, component);
}
function transformActionRow(bot, payload) {
    return {
        type: _types.MessageComponentTypes.ActionRow,
        components: payload.components.map((component)=>bot.transformers.component(bot, component))
    };
}
function transformButtonComponent(bot, payload) {
    return {
        type: _types.MessageComponentTypes.Button,
        label: payload.label,
        customId: payload.custom_id,
        style: payload.style,
        emoji: payload.emoji ? {
            id: payload.emoji.id ? bot.transformers.snowflake(payload.emoji.id) : undefined,
            name: payload.emoji.name,
            animated: payload.emoji.animated
        } : undefined,
        url: payload.url,
        disabled: payload.disabled,
        skuId: payload.sku_id ? bot.transformers.snowflake(payload.sku_id) : undefined
    };
}
function transformInputTextComponent(_bot, payload) {
    return {
        type: _types.MessageComponentTypes.InputText,
        style: payload.style,
        required: payload.required,
        customId: payload.custom_id,
        label: payload.label,
        placeholder: payload.placeholder,
        minLength: payload.min_length,
        maxLength: payload.max_length,
        value: payload.value
    };
}
function transformSelectMenuComponent(bot, payload) {
    return {
        type: payload.type,
        customId: payload.custom_id,
        placeholder: payload.placeholder,
        minValues: payload.min_values,
        maxValues: payload.max_values,
        defaultValues: payload.default_values?.map((defaultValue)=>({
                id: bot.transformers.snowflake(defaultValue.id),
                type: defaultValue.type
            })),
        channelTypes: payload.channel_types,
        options: payload.options?.map((option)=>({
                label: option.label,
                value: option.value,
                description: option.description,
                emoji: option.emoji ? {
                    id: option.emoji.id ? bot.transformers.snowflake(option.emoji.id) : undefined,
                    name: option.emoji.name,
                    animated: option.emoji.animated
                } : undefined,
                default: option.default
            })),
        disabled: payload.disabled
    };
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy90cmFuc2Zvcm1lcnMvY29tcG9uZW50LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIHR5cGUgRGlzY29yZEFjdGlvblJvdyxcbiAgdHlwZSBEaXNjb3JkQnV0dG9uQ29tcG9uZW50LFxuICB0eXBlIERpc2NvcmRJbnB1dFRleHRDb21wb25lbnQsXG4gIHR5cGUgRGlzY29yZE1lc3NhZ2VDb21wb25lbnQsXG4gIHR5cGUgRGlzY29yZFNlbGVjdE1lbnVDb21wb25lbnQsXG4gIE1lc3NhZ2VDb21wb25lbnRUeXBlcyxcbn0gZnJvbSAnQGRpc2NvcmRlbm8vdHlwZXMnXG5pbXBvcnQgdHlwZSB7IEJvdCwgQ29tcG9uZW50IH0gZnJvbSAnLi4vaW5kZXguanMnXG5cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm1Db21wb25lbnQoYm90OiBCb3QsIHBheWxvYWQ6IERpc2NvcmRNZXNzYWdlQ29tcG9uZW50KTogQ29tcG9uZW50IHtcbiAgbGV0IGNvbXBvbmVudDogQ29tcG9uZW50XG5cbiAgLy8gVGhpcyBzd2l0Y2ggaXMgZXhoYXVzdGl2ZSwgc28gd2UgZG9udCBuZWVkIHRoZSBkZWZhdWx0IGNhc2UgYW5kIFRTIGRvZXMgbm90IGVycm9yIG91dCBmb3IgdGhlIHVuLWluaXRpYWxpemVkIGNvbXBvbmVudCB2YXJpYWJsZVxuICBzd2l0Y2ggKHBheWxvYWQudHlwZSkge1xuICAgIGNhc2UgTWVzc2FnZUNvbXBvbmVudFR5cGVzLkFjdGlvblJvdzpcbiAgICAgIGNvbXBvbmVudCA9IHRyYW5zZm9ybUFjdGlvblJvdyhib3QsIHBheWxvYWQpXG4gICAgICBicmVha1xuICAgIGNhc2UgTWVzc2FnZUNvbXBvbmVudFR5cGVzLkJ1dHRvbjpcbiAgICAgIGNvbXBvbmVudCA9IHRyYW5zZm9ybUJ1dHRvbkNvbXBvbmVudChib3QsIHBheWxvYWQgYXMgRGlzY29yZEJ1dHRvbkNvbXBvbmVudClcbiAgICAgIGJyZWFrXG4gICAgY2FzZSBNZXNzYWdlQ29tcG9uZW50VHlwZXMuSW5wdXRUZXh0OlxuICAgICAgY29tcG9uZW50ID0gdHJhbnNmb3JtSW5wdXRUZXh0Q29tcG9uZW50KGJvdCwgcGF5bG9hZCBhcyBEaXNjb3JkSW5wdXRUZXh0Q29tcG9uZW50KVxuICAgICAgYnJlYWtcbiAgICBjYXNlIE1lc3NhZ2VDb21wb25lbnRUeXBlcy5TZWxlY3RNZW51OlxuICAgIGNhc2UgTWVzc2FnZUNvbXBvbmVudFR5cGVzLlNlbGVjdE1lbnVDaGFubmVsczpcbiAgICBjYXNlIE1lc3NhZ2VDb21wb25lbnRUeXBlcy5TZWxlY3RNZW51Um9sZXM6XG4gICAgY2FzZSBNZXNzYWdlQ29tcG9uZW50VHlwZXMuU2VsZWN0TWVudVVzZXJzOlxuICAgIGNhc2UgTWVzc2FnZUNvbXBvbmVudFR5cGVzLlNlbGVjdE1lbnVVc2Vyc0FuZFJvbGVzOlxuICAgICAgY29tcG9uZW50ID0gdHJhbnNmb3JtU2VsZWN0TWVudUNvbXBvbmVudChib3QsIHBheWxvYWQgYXMgRGlzY29yZFNlbGVjdE1lbnVDb21wb25lbnQpXG4gICAgICBicmVha1xuICB9XG5cbiAgcmV0dXJuIGJvdC50cmFuc2Zvcm1lcnMuY3VzdG9taXplcnMuY29tcG9uZW50KGJvdCwgcGF5bG9hZCwgY29tcG9uZW50KVxufVxuXG5mdW5jdGlvbiB0cmFuc2Zvcm1BY3Rpb25Sb3coYm90OiBCb3QsIHBheWxvYWQ6IERpc2NvcmRBY3Rpb25Sb3cpOiBDb21wb25lbnQge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IE1lc3NhZ2VDb21wb25lbnRUeXBlcy5BY3Rpb25Sb3csXG4gICAgY29tcG9uZW50czogcGF5bG9hZC5jb21wb25lbnRzLm1hcCgoY29tcG9uZW50KSA9PiBib3QudHJhbnNmb3JtZXJzLmNvbXBvbmVudChib3QsIGNvbXBvbmVudCkpLFxuICB9XG59XG5cbmZ1bmN0aW9uIHRyYW5zZm9ybUJ1dHRvbkNvbXBvbmVudChib3Q6IEJvdCwgcGF5bG9hZDogRGlzY29yZEJ1dHRvbkNvbXBvbmVudCk6IENvbXBvbmVudCB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogTWVzc2FnZUNvbXBvbmVudFR5cGVzLkJ1dHRvbixcbiAgICBsYWJlbDogcGF5bG9hZC5sYWJlbCxcbiAgICBjdXN0b21JZDogcGF5bG9hZC5jdXN0b21faWQsXG4gICAgc3R5bGU6IHBheWxvYWQuc3R5bGUsXG4gICAgZW1vamk6IHBheWxvYWQuZW1vamlcbiAgICAgID8ge1xuICAgICAgICAgIGlkOiBwYXlsb2FkLmVtb2ppLmlkID8gYm90LnRyYW5zZm9ybWVycy5zbm93Zmxha2UocGF5bG9hZC5lbW9qaS5pZCkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgbmFtZTogcGF5bG9hZC5lbW9qaS5uYW1lLFxuICAgICAgICAgIGFuaW1hdGVkOiBwYXlsb2FkLmVtb2ppLmFuaW1hdGVkLFxuICAgICAgICB9XG4gICAgICA6IHVuZGVmaW5lZCxcbiAgICB1cmw6IHBheWxvYWQudXJsLFxuICAgIGRpc2FibGVkOiBwYXlsb2FkLmRpc2FibGVkLFxuICAgIHNrdUlkOiBwYXlsb2FkLnNrdV9pZCA/IGJvdC50cmFuc2Zvcm1lcnMuc25vd2ZsYWtlKHBheWxvYWQuc2t1X2lkKSA6IHVuZGVmaW5lZCxcbiAgfVxufVxuXG5mdW5jdGlvbiB0cmFuc2Zvcm1JbnB1dFRleHRDb21wb25lbnQoX2JvdDogQm90LCBwYXlsb2FkOiBEaXNjb3JkSW5wdXRUZXh0Q29tcG9uZW50KTogQ29tcG9uZW50IHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBNZXNzYWdlQ29tcG9uZW50VHlwZXMuSW5wdXRUZXh0LFxuICAgIHN0eWxlOiBwYXlsb2FkLnN0eWxlLFxuICAgIHJlcXVpcmVkOiBwYXlsb2FkLnJlcXVpcmVkLFxuICAgIGN1c3RvbUlkOiBwYXlsb2FkLmN1c3RvbV9pZCxcbiAgICBsYWJlbDogcGF5bG9hZC5sYWJlbCxcbiAgICBwbGFjZWhvbGRlcjogcGF5bG9hZC5wbGFjZWhvbGRlcixcbiAgICBtaW5MZW5ndGg6IHBheWxvYWQubWluX2xlbmd0aCxcbiAgICBtYXhMZW5ndGg6IHBheWxvYWQubWF4X2xlbmd0aCxcbiAgICB2YWx1ZTogcGF5bG9hZC52YWx1ZSxcbiAgfVxufVxuXG5mdW5jdGlvbiB0cmFuc2Zvcm1TZWxlY3RNZW51Q29tcG9uZW50KGJvdDogQm90LCBwYXlsb2FkOiBEaXNjb3JkU2VsZWN0TWVudUNvbXBvbmVudCk6IENvbXBvbmVudCB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogcGF5bG9hZC50eXBlLFxuICAgIGN1c3RvbUlkOiBwYXlsb2FkLmN1c3RvbV9pZCxcbiAgICBwbGFjZWhvbGRlcjogcGF5bG9hZC5wbGFjZWhvbGRlcixcbiAgICBtaW5WYWx1ZXM6IHBheWxvYWQubWluX3ZhbHVlcyxcbiAgICBtYXhWYWx1ZXM6IHBheWxvYWQubWF4X3ZhbHVlcyxcbiAgICBkZWZhdWx0VmFsdWVzOiBwYXlsb2FkLmRlZmF1bHRfdmFsdWVzPy5tYXAoKGRlZmF1bHRWYWx1ZSkgPT4gKHtcbiAgICAgIGlkOiBib3QudHJhbnNmb3JtZXJzLnNub3dmbGFrZShkZWZhdWx0VmFsdWUuaWQpLFxuICAgICAgdHlwZTogZGVmYXVsdFZhbHVlLnR5cGUsXG4gICAgfSkpLFxuICAgIGNoYW5uZWxUeXBlczogcGF5bG9hZC5jaGFubmVsX3R5cGVzLFxuICAgIG9wdGlvbnM6IHBheWxvYWQub3B0aW9ucz8ubWFwKChvcHRpb24pID0+ICh7XG4gICAgICBsYWJlbDogb3B0aW9uLmxhYmVsLFxuICAgICAgdmFsdWU6IG9wdGlvbi52YWx1ZSxcbiAgICAgIGRlc2NyaXB0aW9uOiBvcHRpb24uZGVzY3JpcHRpb24sXG4gICAgICBlbW9qaTogb3B0aW9uLmVtb2ppXG4gICAgICAgID8ge1xuICAgICAgICAgICAgaWQ6IG9wdGlvbi5lbW9qaS5pZCA/IGJvdC50cmFuc2Zvcm1lcnMuc25vd2ZsYWtlKG9wdGlvbi5lbW9qaS5pZCkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBuYW1lOiBvcHRpb24uZW1vamkubmFtZSxcbiAgICAgICAgICAgIGFuaW1hdGVkOiBvcHRpb24uZW1vamkuYW5pbWF0ZWQsXG4gICAgICAgICAgfVxuICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgIGRlZmF1bHQ6IG9wdGlvbi5kZWZhdWx0LFxuICAgIH0pKSxcbiAgICBkaXNhYmxlZDogcGF5bG9hZC5kaXNhYmxlZCxcbiAgfVxufVxuIl0sIm5hbWVzIjpbInRyYW5zZm9ybUNvbXBvbmVudCIsImJvdCIsInBheWxvYWQiLCJjb21wb25lbnQiLCJ0eXBlIiwiTWVzc2FnZUNvbXBvbmVudFR5cGVzIiwiQWN0aW9uUm93IiwidHJhbnNmb3JtQWN0aW9uUm93IiwiQnV0dG9uIiwidHJhbnNmb3JtQnV0dG9uQ29tcG9uZW50IiwiSW5wdXRUZXh0IiwidHJhbnNmb3JtSW5wdXRUZXh0Q29tcG9uZW50IiwiU2VsZWN0TWVudSIsIlNlbGVjdE1lbnVDaGFubmVscyIsIlNlbGVjdE1lbnVSb2xlcyIsIlNlbGVjdE1lbnVVc2VycyIsIlNlbGVjdE1lbnVVc2Vyc0FuZFJvbGVzIiwidHJhbnNmb3JtU2VsZWN0TWVudUNvbXBvbmVudCIsInRyYW5zZm9ybWVycyIsImN1c3RvbWl6ZXJzIiwiY29tcG9uZW50cyIsIm1hcCIsImxhYmVsIiwiY3VzdG9tSWQiLCJjdXN0b21faWQiLCJzdHlsZSIsImVtb2ppIiwiaWQiLCJzbm93Zmxha2UiLCJ1bmRlZmluZWQiLCJuYW1lIiwiYW5pbWF0ZWQiLCJ1cmwiLCJkaXNhYmxlZCIsInNrdUlkIiwic2t1X2lkIiwiX2JvdCIsInJlcXVpcmVkIiwicGxhY2Vob2xkZXIiLCJtaW5MZW5ndGgiLCJtaW5fbGVuZ3RoIiwibWF4TGVuZ3RoIiwibWF4X2xlbmd0aCIsInZhbHVlIiwibWluVmFsdWVzIiwibWluX3ZhbHVlcyIsIm1heFZhbHVlcyIsIm1heF92YWx1ZXMiLCJkZWZhdWx0VmFsdWVzIiwiZGVmYXVsdF92YWx1ZXMiLCJkZWZhdWx0VmFsdWUiLCJjaGFubmVsVHlwZXMiLCJjaGFubmVsX3R5cGVzIiwib3B0aW9ucyIsIm9wdGlvbiIsImRlc2NyaXB0aW9u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