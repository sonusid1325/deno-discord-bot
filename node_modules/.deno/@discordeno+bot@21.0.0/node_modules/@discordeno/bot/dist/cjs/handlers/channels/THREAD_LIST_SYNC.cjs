"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "handleThreadListSync", {
    enumerable: true,
    get: function() {
        return handleThreadListSync;
    }
});
async function handleThreadListSync(bot, data) {
    if (!bot.events.threadListSync) return;
    const payload = data.d;
    const guildId = bot.transformers.snowflake(payload.guild_id);
    bot.events.threadListSync({
        guildId,
        channelIds: payload.channel_ids?.map((id)=>bot.transformers.snowflake(id)),
        threads: payload.threads.map((thread)=>bot.transformers.channel(bot, {
                channel: thread,
                guildId
            })),
        members: payload.members.map((member)=>({
                id: member.id ? bot.transformers.snowflake(member.id) : undefined,
                userId: member.user_id ? bot.transformers.snowflake(member.user_id) : undefined,
                joinTimestamp: Date.parse(member.join_timestamp),
                flags: member.flags
            }))
    });
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9oYW5kbGVycy9jaGFubmVscy9USFJFQURfTElTVF9TWU5DLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgRGlzY29yZEdhdGV3YXlQYXlsb2FkLCBEaXNjb3JkVGhyZWFkTGlzdFN5bmMgfSBmcm9tICdAZGlzY29yZGVuby90eXBlcydcbmltcG9ydCB0eXBlIHsgQm90IH0gZnJvbSAnLi4vLi4vaW5kZXguanMnXG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBoYW5kbGVUaHJlYWRMaXN0U3luYyhib3Q6IEJvdCwgZGF0YTogRGlzY29yZEdhdGV3YXlQYXlsb2FkKTogUHJvbWlzZTxhbnk+IHtcbiAgaWYgKCFib3QuZXZlbnRzLnRocmVhZExpc3RTeW5jKSByZXR1cm5cblxuICBjb25zdCBwYXlsb2FkID0gZGF0YS5kIGFzIERpc2NvcmRUaHJlYWRMaXN0U3luY1xuXG4gIGNvbnN0IGd1aWxkSWQgPSBib3QudHJhbnNmb3JtZXJzLnNub3dmbGFrZShwYXlsb2FkLmd1aWxkX2lkKVxuXG4gIGJvdC5ldmVudHMudGhyZWFkTGlzdFN5bmMoe1xuICAgIGd1aWxkSWQsXG4gICAgY2hhbm5lbElkczogcGF5bG9hZC5jaGFubmVsX2lkcz8ubWFwKChpZCkgPT4gYm90LnRyYW5zZm9ybWVycy5zbm93Zmxha2UoaWQpKSxcbiAgICB0aHJlYWRzOiBwYXlsb2FkLnRocmVhZHMubWFwKCh0aHJlYWQpID0+IGJvdC50cmFuc2Zvcm1lcnMuY2hhbm5lbChib3QsIHsgY2hhbm5lbDogdGhyZWFkLCBndWlsZElkIH0pKSxcbiAgICBtZW1iZXJzOiBwYXlsb2FkLm1lbWJlcnMubWFwKChtZW1iZXIpID0+ICh7XG4gICAgICBpZDogbWVtYmVyLmlkID8gYm90LnRyYW5zZm9ybWVycy5zbm93Zmxha2UobWVtYmVyLmlkKSA6IHVuZGVmaW5lZCxcbiAgICAgIHVzZXJJZDogbWVtYmVyLnVzZXJfaWQgPyBib3QudHJhbnNmb3JtZXJzLnNub3dmbGFrZShtZW1iZXIudXNlcl9pZCkgOiB1bmRlZmluZWQsXG4gICAgICBqb2luVGltZXN0YW1wOiBEYXRlLnBhcnNlKG1lbWJlci5qb2luX3RpbWVzdGFtcCksXG4gICAgICBmbGFnczogbWVtYmVyLmZsYWdzLFxuICAgIH0pKSxcbiAgfSlcbn1cbiJdLCJuYW1lcyI6WyJoYW5kbGVUaHJlYWRMaXN0U3luYyIsImJvdCIsImRhdGEiLCJldmVudHMiLCJ0aHJlYWRMaXN0U3luYyIsInBheWxvYWQiLCJkIiwiZ3VpbGRJZCIsInRyYW5zZm9ybWVycyIsInNub3dmbGFrZSIsImd1aWxkX2lkIiwiY2hhbm5lbElkcyIsImNoYW5uZWxfaWRzIiwibWFwIiwiaWQiLCJ0aHJlYWRzIiwidGhyZWFkIiwiY2hhbm5lbCIsIm1lbWJlcnMiLCJtZW1iZXIiLCJ1bmRlZmluZWQiLCJ1c2VySWQiLCJ1c2VyX2lkIiwiam9pblRpbWVzdGFtcCIsIkRhdGUiLCJwYXJzZSIsImpvaW5fdGltZXN0YW1wIiwiZmxhZ3MiXSwibWFwcGluZ3MiOiI7Ozs7K0JBR3NCQTs7O2VBQUFBOzs7QUFBZixlQUFlQSxxQkFBcUJDLEdBQVEsRUFBRUMsSUFBMkI7SUFDOUUsSUFBSSxDQUFDRCxJQUFJRSxNQUFNLENBQUNDLGNBQWMsRUFBRTtJQUVoQyxNQUFNQyxVQUFVSCxLQUFLSSxDQUFDO0lBRXRCLE1BQU1DLFVBQVVOLElBQUlPLFlBQVksQ0FBQ0MsU0FBUyxDQUFDSixRQUFRSyxRQUFRO0lBRTNEVCxJQUFJRSxNQUFNLENBQUNDLGNBQWMsQ0FBQztRQUN4Qkc7UUFDQUksWUFBWU4sUUFBUU8sV0FBVyxFQUFFQyxJQUFJLENBQUNDLEtBQU9iLElBQUlPLFlBQVksQ0FBQ0MsU0FBUyxDQUFDSztRQUN4RUMsU0FBU1YsUUFBUVUsT0FBTyxDQUFDRixHQUFHLENBQUMsQ0FBQ0csU0FBV2YsSUFBSU8sWUFBWSxDQUFDUyxPQUFPLENBQUNoQixLQUFLO2dCQUFFZ0IsU0FBU0Q7Z0JBQVFUO1lBQVE7UUFDbEdXLFNBQVNiLFFBQVFhLE9BQU8sQ0FBQ0wsR0FBRyxDQUFDLENBQUNNLFNBQVksQ0FBQTtnQkFDeENMLElBQUlLLE9BQU9MLEVBQUUsR0FBR2IsSUFBSU8sWUFBWSxDQUFDQyxTQUFTLENBQUNVLE9BQU9MLEVBQUUsSUFBSU07Z0JBQ3hEQyxRQUFRRixPQUFPRyxPQUFPLEdBQUdyQixJQUFJTyxZQUFZLENBQUNDLFNBQVMsQ0FBQ1UsT0FBT0csT0FBTyxJQUFJRjtnQkFDdEVHLGVBQWVDLEtBQUtDLEtBQUssQ0FBQ04sT0FBT08sY0FBYztnQkFDL0NDLE9BQU9SLE9BQU9RLEtBQUs7WUFDckIsQ0FBQTtJQUNGO0FBQ0YifQ==