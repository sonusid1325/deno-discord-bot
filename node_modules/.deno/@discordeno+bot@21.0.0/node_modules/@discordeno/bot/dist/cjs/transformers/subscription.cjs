"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "transformSubscription", {
    enumerable: true,
    get: function() {
        return transformSubscription;
    }
});
function transformSubscription(bot, payload) {
    const props = bot.transformers.desiredProperties.subscription;
    const subscription = {};
    if (props.id && payload.id) subscription.id = bot.transformers.snowflake(payload.id);
    if (props.userId && payload.user_id) subscription.userId = bot.transformers.snowflake(payload.user_id);
    if (props.skuIds && payload.sku_ids) subscription.skuIds = payload.sku_ids.map((skuId)=>bot.transformers.snowflake(skuId));
    if (props.entitlementIds && payload.entitlement_ids) subscription.entitlementIds = payload.entitlement_ids.map((entitlementId)=>bot.transformers.snowflake(entitlementId));
    if (props.renewalSkuIds && payload.renewal_sku_ids) subscription.renewalSkuIds = payload.renewal_sku_ids.map((skuId)=>bot.transformers.snowflake(skuId));
    if (props.currentPeriodStart && payload.current_period_start) subscription.currentPeriodStart = Date.parse(payload.current_period_start);
    if (props.currentPeriodEnd && payload.current_period_end) subscription.currentPeriodEnd = Date.parse(payload.current_period_end);
    if (props.status && payload.status) subscription.status = payload.status;
    if (props.canceledAt && payload.canceled_at) subscription.canceledAt = Date.parse(payload.canceled_at);
    if (props.country && payload.country) subscription.country = payload.country;
    return bot.transformers.customizers.subscription(bot, payload, subscription);
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy90cmFuc2Zvcm1lcnMvc3Vic2NyaXB0aW9uLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgRGlzY29yZFN1YnNjcmlwdGlvbiB9IGZyb20gJ0BkaXNjb3JkZW5vL3R5cGVzJ1xuaW1wb3J0IHR5cGUgeyBJbnRlcm5hbEJvdCwgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi4vaW5kZXguanMnXG5cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm1TdWJzY3JpcHRpb24oYm90OiBJbnRlcm5hbEJvdCwgcGF5bG9hZDogRGlzY29yZFN1YnNjcmlwdGlvbik6IHR5cGVvZiBib3QudHJhbnNmb3JtZXJzLiRpbmZlcnJlZFR5cGVzLnN1YnNjcmlwdGlvbiB7XG4gIGNvbnN0IHByb3BzID0gYm90LnRyYW5zZm9ybWVycy5kZXNpcmVkUHJvcGVydGllcy5zdWJzY3JpcHRpb25cbiAgY29uc3Qgc3Vic2NyaXB0aW9uID0ge30gYXMgU3Vic2NyaXB0aW9uXG5cbiAgaWYgKHByb3BzLmlkICYmIHBheWxvYWQuaWQpIHN1YnNjcmlwdGlvbi5pZCA9IGJvdC50cmFuc2Zvcm1lcnMuc25vd2ZsYWtlKHBheWxvYWQuaWQpXG4gIGlmIChwcm9wcy51c2VySWQgJiYgcGF5bG9hZC51c2VyX2lkKSBzdWJzY3JpcHRpb24udXNlcklkID0gYm90LnRyYW5zZm9ybWVycy5zbm93Zmxha2UocGF5bG9hZC51c2VyX2lkKVxuICBpZiAocHJvcHMuc2t1SWRzICYmIHBheWxvYWQuc2t1X2lkcykgc3Vic2NyaXB0aW9uLnNrdUlkcyA9IHBheWxvYWQuc2t1X2lkcy5tYXAoKHNrdUlkKSA9PiBib3QudHJhbnNmb3JtZXJzLnNub3dmbGFrZShza3VJZCkpXG4gIGlmIChwcm9wcy5lbnRpdGxlbWVudElkcyAmJiBwYXlsb2FkLmVudGl0bGVtZW50X2lkcylcbiAgICBzdWJzY3JpcHRpb24uZW50aXRsZW1lbnRJZHMgPSBwYXlsb2FkLmVudGl0bGVtZW50X2lkcy5tYXAoKGVudGl0bGVtZW50SWQpID0+IGJvdC50cmFuc2Zvcm1lcnMuc25vd2ZsYWtlKGVudGl0bGVtZW50SWQpKVxuICBpZiAocHJvcHMucmVuZXdhbFNrdUlkcyAmJiBwYXlsb2FkLnJlbmV3YWxfc2t1X2lkcylcbiAgICBzdWJzY3JpcHRpb24ucmVuZXdhbFNrdUlkcyA9IHBheWxvYWQucmVuZXdhbF9za3VfaWRzLm1hcCgoc2t1SWQpID0+IGJvdC50cmFuc2Zvcm1lcnMuc25vd2ZsYWtlKHNrdUlkKSlcbiAgaWYgKHByb3BzLmN1cnJlbnRQZXJpb2RTdGFydCAmJiBwYXlsb2FkLmN1cnJlbnRfcGVyaW9kX3N0YXJ0KSBzdWJzY3JpcHRpb24uY3VycmVudFBlcmlvZFN0YXJ0ID0gRGF0ZS5wYXJzZShwYXlsb2FkLmN1cnJlbnRfcGVyaW9kX3N0YXJ0KVxuICBpZiAocHJvcHMuY3VycmVudFBlcmlvZEVuZCAmJiBwYXlsb2FkLmN1cnJlbnRfcGVyaW9kX2VuZCkgc3Vic2NyaXB0aW9uLmN1cnJlbnRQZXJpb2RFbmQgPSBEYXRlLnBhcnNlKHBheWxvYWQuY3VycmVudF9wZXJpb2RfZW5kKVxuICBpZiAocHJvcHMuc3RhdHVzICYmIHBheWxvYWQuc3RhdHVzKSBzdWJzY3JpcHRpb24uc3RhdHVzID0gcGF5bG9hZC5zdGF0dXNcbiAgaWYgKHByb3BzLmNhbmNlbGVkQXQgJiYgcGF5bG9hZC5jYW5jZWxlZF9hdCkgc3Vic2NyaXB0aW9uLmNhbmNlbGVkQXQgPSBEYXRlLnBhcnNlKHBheWxvYWQuY2FuY2VsZWRfYXQpXG4gIGlmIChwcm9wcy5jb3VudHJ5ICYmIHBheWxvYWQuY291bnRyeSkgc3Vic2NyaXB0aW9uLmNvdW50cnkgPSBwYXlsb2FkLmNvdW50cnlcblxuICByZXR1cm4gYm90LnRyYW5zZm9ybWVycy5jdXN0b21pemVycy5zdWJzY3JpcHRpb24oYm90LCBwYXlsb2FkLCBzdWJzY3JpcHRpb24pXG59XG4iXSwibmFtZXMiOlsidHJhbnNmb3JtU3Vic2NyaXB0aW9uIiwiYm90IiwicGF5bG9hZCIsInByb3BzIiwidHJhbnNmb3JtZXJzIiwiZGVzaXJlZFByb3BlcnRpZXMiLCJzdWJzY3JpcHRpb24iLCJpZCIsInNub3dmbGFrZSIsInVzZXJJZCIsInVzZXJfaWQiLCJza3VJZHMiLCJza3VfaWRzIiwibWFwIiwic2t1SWQiLCJlbnRpdGxlbWVudElkcyIsImVudGl0bGVtZW50X2lkcyIsImVudGl0bGVtZW50SWQiLCJyZW5ld2FsU2t1SWRzIiwicmVuZXdhbF9za3VfaWRzIiwiY3VycmVudFBlcmlvZFN0YXJ0IiwiY3VycmVudF9wZXJpb2Rfc3RhcnQiLCJEYXRlIiwicGFyc2UiLCJjdXJyZW50UGVyaW9kRW5kIiwiY3VycmVudF9wZXJpb2RfZW5kIiwic3RhdHVzIiwiY2FuY2VsZWRBdCIsImNhbmNlbGVkX2F0IiwiY291bnRyeSIsImN1c3RvbWl6ZXJzIl0sIm1hcHBpbmdzIjoiOzs7OytCQUdnQkE7OztlQUFBQTs7O0FBQVQsU0FBU0Esc0JBQXNCQyxHQUFnQixFQUFFQyxPQUE0QjtJQUNsRixNQUFNQyxRQUFRRixJQUFJRyxZQUFZLENBQUNDLGlCQUFpQixDQUFDQyxZQUFZO0lBQzdELE1BQU1BLGVBQWUsQ0FBQztJQUV0QixJQUFJSCxNQUFNSSxFQUFFLElBQUlMLFFBQVFLLEVBQUUsRUFBRUQsYUFBYUMsRUFBRSxHQUFHTixJQUFJRyxZQUFZLENBQUNJLFNBQVMsQ0FBQ04sUUFBUUssRUFBRTtJQUNuRixJQUFJSixNQUFNTSxNQUFNLElBQUlQLFFBQVFRLE9BQU8sRUFBRUosYUFBYUcsTUFBTSxHQUFHUixJQUFJRyxZQUFZLENBQUNJLFNBQVMsQ0FBQ04sUUFBUVEsT0FBTztJQUNyRyxJQUFJUCxNQUFNUSxNQUFNLElBQUlULFFBQVFVLE9BQU8sRUFBRU4sYUFBYUssTUFBTSxHQUFHVCxRQUFRVSxPQUFPLENBQUNDLEdBQUcsQ0FBQyxDQUFDQyxRQUFVYixJQUFJRyxZQUFZLENBQUNJLFNBQVMsQ0FBQ007SUFDckgsSUFBSVgsTUFBTVksY0FBYyxJQUFJYixRQUFRYyxlQUFlLEVBQ2pEVixhQUFhUyxjQUFjLEdBQUdiLFFBQVFjLGVBQWUsQ0FBQ0gsR0FBRyxDQUFDLENBQUNJLGdCQUFrQmhCLElBQUlHLFlBQVksQ0FBQ0ksU0FBUyxDQUFDUztJQUMxRyxJQUFJZCxNQUFNZSxhQUFhLElBQUloQixRQUFRaUIsZUFBZSxFQUNoRGIsYUFBYVksYUFBYSxHQUFHaEIsUUFBUWlCLGVBQWUsQ0FBQ04sR0FBRyxDQUFDLENBQUNDLFFBQVViLElBQUlHLFlBQVksQ0FBQ0ksU0FBUyxDQUFDTTtJQUNqRyxJQUFJWCxNQUFNaUIsa0JBQWtCLElBQUlsQixRQUFRbUIsb0JBQW9CLEVBQUVmLGFBQWFjLGtCQUFrQixHQUFHRSxLQUFLQyxLQUFLLENBQUNyQixRQUFRbUIsb0JBQW9CO0lBQ3ZJLElBQUlsQixNQUFNcUIsZ0JBQWdCLElBQUl0QixRQUFRdUIsa0JBQWtCLEVBQUVuQixhQUFha0IsZ0JBQWdCLEdBQUdGLEtBQUtDLEtBQUssQ0FBQ3JCLFFBQVF1QixrQkFBa0I7SUFDL0gsSUFBSXRCLE1BQU11QixNQUFNLElBQUl4QixRQUFRd0IsTUFBTSxFQUFFcEIsYUFBYW9CLE1BQU0sR0FBR3hCLFFBQVF3QixNQUFNO0lBQ3hFLElBQUl2QixNQUFNd0IsVUFBVSxJQUFJekIsUUFBUTBCLFdBQVcsRUFBRXRCLGFBQWFxQixVQUFVLEdBQUdMLEtBQUtDLEtBQUssQ0FBQ3JCLFFBQVEwQixXQUFXO0lBQ3JHLElBQUl6QixNQUFNMEIsT0FBTyxJQUFJM0IsUUFBUTJCLE9BQU8sRUFBRXZCLGFBQWF1QixPQUFPLEdBQUczQixRQUFRMkIsT0FBTztJQUU1RSxPQUFPNUIsSUFBSUcsWUFBWSxDQUFDMEIsV0FBVyxDQUFDeEIsWUFBWSxDQUFDTCxLQUFLQyxTQUFTSTtBQUNqRSJ9