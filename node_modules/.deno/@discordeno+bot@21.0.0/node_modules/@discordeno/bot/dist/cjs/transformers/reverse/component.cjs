"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "transformComponentToDiscordComponent", {
    enumerable: true,
    get: function() {
        return transformComponentToDiscordComponent;
    }
});
const _types = require("@discordeno/types");
function transformComponentToDiscordComponent(bot, payload) {
    // This switch should include all cases
    switch(payload.type){
        case _types.MessageComponentTypes.ActionRow:
            return transformActionRow(bot, payload);
        case _types.MessageComponentTypes.Button:
            return transformButtonComponent(bot, payload);
        case _types.MessageComponentTypes.InputText:
            return transformInputTextComponent(bot, payload);
        case _types.MessageComponentTypes.SelectMenu:
        case _types.MessageComponentTypes.SelectMenuChannels:
        case _types.MessageComponentTypes.SelectMenuRoles:
        case _types.MessageComponentTypes.SelectMenuUsers:
        case _types.MessageComponentTypes.SelectMenuUsersAndRoles:
            return transformSelectMenuComponent(bot, payload);
    }
}
function transformActionRow(bot, payload) {
    return {
        type: _types.MessageComponentTypes.ActionRow,
        // The actionRow.components type is kinda annoying, so we need a cast for this
        components: payload.components?.map((component)=>bot.transformers.reverse.component(bot, component)) ?? []
    };
}
function transformButtonComponent(bot, payload) {
    // Since Component is a merge of all components, some casts are necessary
    return {
        type: _types.MessageComponentTypes.Button,
        style: payload.style,
        custom_id: payload.customId,
        disabled: payload.disabled,
        emoji: payload.emoji ? {
            id: payload.emoji.id ? bot.transformers.reverse.snowflake(payload.emoji.id) : undefined,
            name: payload.emoji.name,
            animated: payload.emoji.animated
        } : undefined,
        label: payload.label,
        url: payload.url,
        sku_id: payload.skuId ? bot.transformers.reverse.snowflake(payload.skuId) : undefined
    };
}
function transformInputTextComponent(_bot, payload) {
    // Since Component is a merge of all components, some casts are necessary
    return {
        type: _types.MessageComponentTypes.InputText,
        style: payload.style,
        custom_id: payload.customId,
        label: payload.label,
        value: payload.value,
        max_length: payload.maxLength,
        min_length: payload.minLength,
        placeholder: payload.placeholder,
        required: payload.required
    };
}
function transformSelectMenuComponent(bot, payload) {
    return {
        type: payload.type,
        custom_id: payload.customId,
        channel_types: payload.channelTypes,
        default_values: payload.defaultValues?.map((defaultValue)=>({
                id: bot.transformers.reverse.snowflake(defaultValue.id),
                type: defaultValue.type
            })),
        disabled: payload.disabled,
        max_values: payload.maxValues,
        min_values: payload.minValues,
        options: payload.options?.map((option)=>({
                label: option.label,
                value: option.value,
                description: option.description,
                emoji: option.emoji ? {
                    id: option.emoji.id ? bot.transformers.reverse.snowflake(option.emoji.id) : undefined,
                    name: option.emoji.name,
                    animated: option.emoji.animated
                } : undefined,
                default: option.default
            })),
        placeholder: payload.placeholder
    };
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy90cmFuc2Zvcm1lcnMvcmV2ZXJzZS9jb21wb25lbnQudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdHlwZSBEaXNjb3JkQnV0dG9uQ29tcG9uZW50LCB0eXBlIERpc2NvcmRNZXNzYWdlQ29tcG9uZW50LCBNZXNzYWdlQ29tcG9uZW50VHlwZXMsIHR5cGUgVGV4dFN0eWxlcyB9IGZyb20gJ0BkaXNjb3JkZW5vL3R5cGVzJ1xuaW1wb3J0IHR5cGUgeyBCb3QsIEJ1dHRvblN0eWxlcywgQ29tcG9uZW50LCBEaXNjb3JkQWN0aW9uUm93LCBEaXNjb3JkSW5wdXRUZXh0Q29tcG9uZW50LCBEaXNjb3JkU2VsZWN0TWVudUNvbXBvbmVudCB9IGZyb20gJy4uLy4uL2luZGV4LmpzJ1xuXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtQ29tcG9uZW50VG9EaXNjb3JkQ29tcG9uZW50KGJvdDogQm90LCBwYXlsb2FkOiBDb21wb25lbnQpOiBEaXNjb3JkTWVzc2FnZUNvbXBvbmVudCB7XG4gIC8vIFRoaXMgc3dpdGNoIHNob3VsZCBpbmNsdWRlIGFsbCBjYXNlc1xuICBzd2l0Y2ggKHBheWxvYWQudHlwZSkge1xuICAgIGNhc2UgTWVzc2FnZUNvbXBvbmVudFR5cGVzLkFjdGlvblJvdzpcbiAgICAgIHJldHVybiB0cmFuc2Zvcm1BY3Rpb25Sb3coYm90LCBwYXlsb2FkKVxuICAgIGNhc2UgTWVzc2FnZUNvbXBvbmVudFR5cGVzLkJ1dHRvbjpcbiAgICAgIHJldHVybiB0cmFuc2Zvcm1CdXR0b25Db21wb25lbnQoYm90LCBwYXlsb2FkKVxuICAgIGNhc2UgTWVzc2FnZUNvbXBvbmVudFR5cGVzLklucHV0VGV4dDpcbiAgICAgIHJldHVybiB0cmFuc2Zvcm1JbnB1dFRleHRDb21wb25lbnQoYm90LCBwYXlsb2FkKVxuICAgIGNhc2UgTWVzc2FnZUNvbXBvbmVudFR5cGVzLlNlbGVjdE1lbnU6XG4gICAgY2FzZSBNZXNzYWdlQ29tcG9uZW50VHlwZXMuU2VsZWN0TWVudUNoYW5uZWxzOlxuICAgIGNhc2UgTWVzc2FnZUNvbXBvbmVudFR5cGVzLlNlbGVjdE1lbnVSb2xlczpcbiAgICBjYXNlIE1lc3NhZ2VDb21wb25lbnRUeXBlcy5TZWxlY3RNZW51VXNlcnM6XG4gICAgY2FzZSBNZXNzYWdlQ29tcG9uZW50VHlwZXMuU2VsZWN0TWVudVVzZXJzQW5kUm9sZXM6XG4gICAgICByZXR1cm4gdHJhbnNmb3JtU2VsZWN0TWVudUNvbXBvbmVudChib3QsIHBheWxvYWQpXG4gIH1cbn1cblxuZnVuY3Rpb24gdHJhbnNmb3JtQWN0aW9uUm93KGJvdDogQm90LCBwYXlsb2FkOiBDb21wb25lbnQpOiBEaXNjb3JkQWN0aW9uUm93IHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBNZXNzYWdlQ29tcG9uZW50VHlwZXMuQWN0aW9uUm93LFxuICAgIC8vIFRoZSBhY3Rpb25Sb3cuY29tcG9uZW50cyB0eXBlIGlzIGtpbmRhIGFubm95aW5nLCBzbyB3ZSBuZWVkIGEgY2FzdCBmb3IgdGhpc1xuICAgIGNvbXBvbmVudHM6IChwYXlsb2FkLmNvbXBvbmVudHM/Lm1hcCgoY29tcG9uZW50KSA9PiBib3QudHJhbnNmb3JtZXJzLnJldmVyc2UuY29tcG9uZW50KGJvdCwgY29tcG9uZW50KSkgPz8gW10pIGFzIERpc2NvcmRBY3Rpb25Sb3dbJ2NvbXBvbmVudHMnXSxcbiAgfVxufVxuXG5mdW5jdGlvbiB0cmFuc2Zvcm1CdXR0b25Db21wb25lbnQoYm90OiBCb3QsIHBheWxvYWQ6IENvbXBvbmVudCk6IERpc2NvcmRCdXR0b25Db21wb25lbnQge1xuICAvLyBTaW5jZSBDb21wb25lbnQgaXMgYSBtZXJnZSBvZiBhbGwgY29tcG9uZW50cywgc29tZSBjYXN0cyBhcmUgbmVjZXNzYXJ5XG4gIHJldHVybiB7XG4gICAgdHlwZTogTWVzc2FnZUNvbXBvbmVudFR5cGVzLkJ1dHRvbixcbiAgICBzdHlsZTogcGF5bG9hZC5zdHlsZSBhcyBCdXR0b25TdHlsZXMsXG4gICAgY3VzdG9tX2lkOiBwYXlsb2FkLmN1c3RvbUlkLFxuICAgIGRpc2FibGVkOiBwYXlsb2FkLmRpc2FibGVkLFxuICAgIGVtb2ppOiBwYXlsb2FkLmVtb2ppXG4gICAgICA/IHtcbiAgICAgICAgICBpZDogcGF5bG9hZC5lbW9qaS5pZCA/IGJvdC50cmFuc2Zvcm1lcnMucmV2ZXJzZS5zbm93Zmxha2UocGF5bG9hZC5lbW9qaS5pZCkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgbmFtZTogcGF5bG9hZC5lbW9qaS5uYW1lLFxuICAgICAgICAgIGFuaW1hdGVkOiBwYXlsb2FkLmVtb2ppLmFuaW1hdGVkLFxuICAgICAgICB9XG4gICAgICA6IHVuZGVmaW5lZCxcbiAgICBsYWJlbDogcGF5bG9hZC5sYWJlbCxcbiAgICB1cmw6IHBheWxvYWQudXJsLFxuICAgIHNrdV9pZDogcGF5bG9hZC5za3VJZCA/IGJvdC50cmFuc2Zvcm1lcnMucmV2ZXJzZS5zbm93Zmxha2UocGF5bG9hZC5za3VJZCkgOiB1bmRlZmluZWQsXG4gIH1cbn1cblxuZnVuY3Rpb24gdHJhbnNmb3JtSW5wdXRUZXh0Q29tcG9uZW50KF9ib3Q6IEJvdCwgcGF5bG9hZDogQ29tcG9uZW50KTogRGlzY29yZElucHV0VGV4dENvbXBvbmVudCB7XG4gIC8vIFNpbmNlIENvbXBvbmVudCBpcyBhIG1lcmdlIG9mIGFsbCBjb21wb25lbnRzLCBzb21lIGNhc3RzIGFyZSBuZWNlc3NhcnlcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBNZXNzYWdlQ29tcG9uZW50VHlwZXMuSW5wdXRUZXh0LFxuICAgIHN0eWxlOiBwYXlsb2FkLnN0eWxlIGFzIFRleHRTdHlsZXMsXG4gICAgY3VzdG9tX2lkOiBwYXlsb2FkLmN1c3RvbUlkISxcbiAgICBsYWJlbDogcGF5bG9hZC5sYWJlbCEsXG4gICAgdmFsdWU6IHBheWxvYWQudmFsdWUsXG4gICAgbWF4X2xlbmd0aDogcGF5bG9hZC5tYXhMZW5ndGgsXG4gICAgbWluX2xlbmd0aDogcGF5bG9hZC5taW5MZW5ndGgsXG4gICAgcGxhY2Vob2xkZXI6IHBheWxvYWQucGxhY2Vob2xkZXIsXG4gICAgcmVxdWlyZWQ6IHBheWxvYWQucmVxdWlyZWQsXG4gIH1cbn1cblxuZnVuY3Rpb24gdHJhbnNmb3JtU2VsZWN0TWVudUNvbXBvbmVudChib3Q6IEJvdCwgcGF5bG9hZDogQ29tcG9uZW50KTogRGlzY29yZFNlbGVjdE1lbnVDb21wb25lbnQge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IHBheWxvYWQudHlwZSBhcyBEaXNjb3JkU2VsZWN0TWVudUNvbXBvbmVudFsndHlwZSddLFxuICAgIGN1c3RvbV9pZDogcGF5bG9hZC5jdXN0b21JZCEsXG4gICAgY2hhbm5lbF90eXBlczogcGF5bG9hZC5jaGFubmVsVHlwZXMsXG4gICAgZGVmYXVsdF92YWx1ZXM6IHBheWxvYWQuZGVmYXVsdFZhbHVlcz8ubWFwKChkZWZhdWx0VmFsdWUpID0+ICh7XG4gICAgICBpZDogYm90LnRyYW5zZm9ybWVycy5yZXZlcnNlLnNub3dmbGFrZShkZWZhdWx0VmFsdWUuaWQpLFxuICAgICAgdHlwZTogZGVmYXVsdFZhbHVlLnR5cGUsXG4gICAgfSkpLFxuICAgIGRpc2FibGVkOiBwYXlsb2FkLmRpc2FibGVkLFxuICAgIG1heF92YWx1ZXM6IHBheWxvYWQubWF4VmFsdWVzLFxuICAgIG1pbl92YWx1ZXM6IHBheWxvYWQubWluVmFsdWVzLFxuICAgIG9wdGlvbnM6IHBheWxvYWQub3B0aW9ucz8ubWFwKChvcHRpb24pID0+ICh7XG4gICAgICBsYWJlbDogb3B0aW9uLmxhYmVsLFxuICAgICAgdmFsdWU6IG9wdGlvbi52YWx1ZSxcbiAgICAgIGRlc2NyaXB0aW9uOiBvcHRpb24uZGVzY3JpcHRpb24sXG4gICAgICBlbW9qaTogb3B0aW9uLmVtb2ppXG4gICAgICAgID8ge1xuICAgICAgICAgICAgaWQ6IG9wdGlvbi5lbW9qaS5pZCA/IGJvdC50cmFuc2Zvcm1lcnMucmV2ZXJzZS5zbm93Zmxha2Uob3B0aW9uLmVtb2ppLmlkKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIG5hbWU6IG9wdGlvbi5lbW9qaS5uYW1lLFxuICAgICAgICAgICAgYW5pbWF0ZWQ6IG9wdGlvbi5lbW9qaS5hbmltYXRlZCxcbiAgICAgICAgICB9XG4gICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgZGVmYXVsdDogb3B0aW9uLmRlZmF1bHQsXG4gICAgfSkpLFxuICAgIHBsYWNlaG9sZGVyOiBwYXlsb2FkLnBsYWNlaG9sZGVyLFxuICB9XG59XG4iXSwibmFtZXMiOlsidHJhbnNmb3JtQ29tcG9uZW50VG9EaXNjb3JkQ29tcG9uZW50IiwiYm90IiwicGF5bG9hZCIsInR5cGUiLCJNZXNzYWdlQ29tcG9uZW50VHlwZXMiLCJBY3Rpb25Sb3ciLCJ0cmFuc2Zvcm1BY3Rpb25Sb3ciLCJCdXR0b24iLCJ0cmFuc2Zvcm1CdXR0b25Db21wb25lbnQiLCJJbnB1dFRleHQiLCJ0cmFuc2Zvcm1JbnB1dFRleHRDb21wb25lbnQiLCJTZWxlY3RNZW51IiwiU2VsZWN0TWVudUNoYW5uZWxzIiwiU2VsZWN0TWVudVJvbGVzIiwiU2VsZWN0TWVudVVzZXJzIiwiU2VsZWN0TWVudVVzZXJzQW5kUm9sZXMiLCJ0cmFuc2Zvcm1TZWxlY3RNZW51Q29tcG9uZW50IiwiY29tcG9uZW50cyIsIm1hcCIsImNvbXBvbmVudCIsInRyYW5zZm9ybWVycyIsInJldmVyc2UiLCJzdHlsZSIsImN1c3RvbV9pZCIsImN1c3RvbUlkIiwiZGlzYWJsZWQiLCJlbW9qaSIsImlkIiwic25vd2ZsYWtlIiwidW5kZWZpbmVkIiwibmFtZSIsImFuaW1hdGVkIiwibGFiZWwiLCJ1cmwiLCJza3VfaWQiLCJza3VJZCIsIl9ib3QiLCJ2YWx1ZSIsIm1heF9sZW5ndGgiLCJtYXhMZW5ndGgiLCJtaW5fbGVuZ3RoIiwibWluTGVuZ3RoIiwicGxhY2Vob2xkZXIiLCJyZXF1aXJlZCIsImNoYW5uZWxfdHlwZXMiLCJjaGFubmVsVHlwZXMiLCJkZWZhdWx0X3ZhbHVlcyIsImRlZmF1bHRWYWx1ZXMiLCJkZWZhdWx0VmFsdWUiLCJtYXhfdmFsdWVzIiwibWF4VmFsdWVzIiwibWluX3ZhbHVlcyIsIm1pblZhbHVlcyIsIm9wdGlvbnMiLCJvcHRpb24iLCJkZXNjcmlwdGlvbiIsImRlZmF1bHQiXSwibWFwcGluZ3MiOiI7Ozs7K0JBR2dCQTs7O2VBQUFBOzs7dUJBSGtHO0FBRzNHLFNBQVNBLHFDQUFxQ0MsR0FBUSxFQUFFQyxPQUFrQjtJQUMvRSx1Q0FBdUM7SUFDdkMsT0FBUUEsUUFBUUMsSUFBSTtRQUNsQixLQUFLQyw0QkFBcUIsQ0FBQ0MsU0FBUztZQUNsQyxPQUFPQyxtQkFBbUJMLEtBQUtDO1FBQ2pDLEtBQUtFLDRCQUFxQixDQUFDRyxNQUFNO1lBQy9CLE9BQU9DLHlCQUF5QlAsS0FBS0M7UUFDdkMsS0FBS0UsNEJBQXFCLENBQUNLLFNBQVM7WUFDbEMsT0FBT0MsNEJBQTRCVCxLQUFLQztRQUMxQyxLQUFLRSw0QkFBcUIsQ0FBQ08sVUFBVTtRQUNyQyxLQUFLUCw0QkFBcUIsQ0FBQ1Esa0JBQWtCO1FBQzdDLEtBQUtSLDRCQUFxQixDQUFDUyxlQUFlO1FBQzFDLEtBQUtULDRCQUFxQixDQUFDVSxlQUFlO1FBQzFDLEtBQUtWLDRCQUFxQixDQUFDVyx1QkFBdUI7WUFDaEQsT0FBT0MsNkJBQTZCZixLQUFLQztJQUM3QztBQUNGO0FBRUEsU0FBU0ksbUJBQW1CTCxHQUFRLEVBQUVDLE9BQWtCO0lBQ3RELE9BQU87UUFDTEMsTUFBTUMsNEJBQXFCLENBQUNDLFNBQVM7UUFDckMsOEVBQThFO1FBQzlFWSxZQUFhZixRQUFRZSxVQUFVLEVBQUVDLElBQUksQ0FBQ0MsWUFBY2xCLElBQUltQixZQUFZLENBQUNDLE9BQU8sQ0FBQ0YsU0FBUyxDQUFDbEIsS0FBS2tCLGVBQWUsRUFBRTtJQUMvRztBQUNGO0FBRUEsU0FBU1gseUJBQXlCUCxHQUFRLEVBQUVDLE9BQWtCO0lBQzVELHlFQUF5RTtJQUN6RSxPQUFPO1FBQ0xDLE1BQU1DLDRCQUFxQixDQUFDRyxNQUFNO1FBQ2xDZSxPQUFPcEIsUUFBUW9CLEtBQUs7UUFDcEJDLFdBQVdy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