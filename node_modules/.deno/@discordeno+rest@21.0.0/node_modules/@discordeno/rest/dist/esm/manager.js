import { Buffer } from 'node:buffer';
import { InteractionResponseTypes } from '@discordeno/types';
import { DISCORDENO_VERSION, calculateBits, camelToSnakeCase, camelize, delay, getBotIdFromToken, logger, processReactionString, urlToBase64 } from '@discordeno/utils';
import { createInvalidRequestBucket } from './invalidBucket.js';
import { Queue } from './queue.js';
import { createRoutes } from './routes.js';
export const DISCORD_API_VERSION = 10;
export const DISCORD_API_URL = 'https://discord.com/api';
export const AUDIT_LOG_REASON_HEADER = 'x-audit-log-reason';
export const RATE_LIMIT_REMAINING_HEADER = 'x-ratelimit-remaining';
export const RATE_LIMIT_RESET_AFTER_HEADER = 'x-ratelimit-reset-after';
export const RATE_LIMIT_GLOBAL_HEADER = 'x-ratelimit-global';
export const RATE_LIMIT_BUCKET_HEADER = 'x-ratelimit-bucket';
export const RATE_LIMIT_LIMIT_HEADER = 'x-ratelimit-limit';
export const RATE_LIMIT_SCOPE_HEADER = 'x-ratelimit-scope';
export function createRestManager(options) {
    const applicationId = options.applicationId ? BigInt(options.applicationId) : getBotIdFromToken(options.token);
    const baseUrl = options.proxy?.baseUrl ?? DISCORD_API_URL;
    const rest = {
        applicationId,
        authorization: options.proxy?.authorization,
        authorizationHeader: options.proxy?.authorizationHeader ?? 'authorization',
        baseUrl,
        deleteQueueDelay: 60000,
        globallyRateLimited: false,
        invalidBucket: createInvalidRequestBucket({
            logger: options.logger
        }),
        isProxied: !baseUrl.startsWith(DISCORD_API_URL),
        updateBearerTokenEndpoint: options.proxy?.updateBearerTokenEndpoint,
        maxRetryCount: Infinity,
        processingRateLimitedPaths: false,
        queues: new Map(),
        rateLimitedPaths: new Map(),
        token: options.token,
        version: options.version ?? DISCORD_API_VERSION,
        logger: options.logger ?? logger,
        routes: createRoutes(),
        createBaseHeaders () {
            return {
                'user-agent': `DiscordBot (https://github.com/discordeno/discordeno, v${DISCORDENO_VERSION})`
            };
        },
        checkRateLimits (url, identifier) {
            const ratelimited = rest.rateLimitedPaths.get(`${identifier}${url}`);
            const global = rest.rateLimitedPaths.get('global');
            const now = Date.now();
            if (ratelimited && now < ratelimited.resetTimestamp) {
                return ratelimited.resetTimestamp - now;
            }
            if (global && now < global.resetTimestamp) {
                return global.resetTimestamp - now;
            }
            return false;
        },
        async updateTokenQueues (oldToken, newToken) {
            if (rest.isProxied) {
                if (!rest.updateBearerTokenEndpoint) {
                    throw new Error("The 'proxy.updateBearerTokenEndpoint' option needs to be set when using a rest proxy and needed to call 'updateTokenQueues'");
                }
                const headers = {
                    'content-type': 'application/json'
                };
                if (rest.authorization !== undefined) {
                    headers[rest.authorizationHeader] = rest.authorization;
                }
                await fetch(`${rest.baseUrl}/${rest.updateBearerTokenEndpoint}`, {
                    method: 'POST',
                    body: JSON.stringify({
                        oldToken,
                        newToken
                    }),
                    headers
                });
                return;
            }
            const newIdentifier = `Bearer ${newToken}`;
            // Update all the queues
            for (const [key, queue] of rest.queues.entries()){
                if (!key.startsWith(`Bearer ${oldToken}`)) continue;
                rest.queues.delete(key);
                queue.identifier = newIdentifier;
                const newKey = `${newIdentifier}${queue.url}`;
                const newQueue = rest.queues.get(newKey);
                // Merge the queues
                if (newQueue) {
                    newQueue.waiting.unshift(...queue.waiting);
                    newQueue.pending.unshift(...queue.pending);
                    queue.waiting = [];
                    queue.pending = [];
                    queue.cleanup();
                } else {
                    rest.queues.set(newKey, queue);
                }
            }
            for (const [key, ratelimitPath] of rest.rateLimitedPaths.entries()){
                if (!key.startsWith(`Bearer ${oldToken}`)) continue;
                rest.rateLimitedPaths.set(`${newIdentifier}${ratelimitPath.url}`, ratelimitPath);
                if (ratelimitPath.bucketId) {
                    rest.rateLimitedPaths.set(`${newIdentifier}${ratelimitPath.bucketId}`, ratelimitPath);
                }
            }
        },
        changeToDiscordFormat (obj) {
            if (obj === null) return null;
            if (typeof obj === 'object') {
                if (Array.isArray(obj)) {
                    return obj.map((item)=>rest.changeToDiscordFormat(item));
                }
                const newObj = {};
                for (const key of Object.keys(obj)){
                    const value = obj[key];
                    // If the key is already in snake_case we can assume it is already in the discord format.
                    if (key.includes('_')) {
                        newObj[key] = value;
                        continue;
                    }
                    // Some falsy values should be allowed like null or 0
                    if (value !== undefined) {
                        switch(key){
                            case 'permissions':
                            case 'allow':
                            case 'deny':
                                newObj[key] = typeof value === 'string' ? value : calculateBits(value);
                                continue;
                            case 'defaultMemberPermissions':
                                newObj.default_member_permissions = typeof value === 'string' ? value : calculateBits(value);
                                continue;
                            case 'nameLocalizations':
                                newObj.name_localizations = value;
                                continue;
                            case 'descriptionLocalizations':
                                newObj.description_localizations = value;
                                continue;
                        }
                    }
                    newObj[camelToSnakeCase(key)] = rest.changeToDiscordFormat(value);
                }
                return newObj;
            }
            if (typeof obj === 'bigint') return obj.toString();
            return obj;
        },
        createRequestBody (method, options) {
            const headers = this.createBaseHeaders();
            if (options?.unauthorized !== true) headers.authorization = `Bot ${rest.token}`;
            // IF A REASON IS PROVIDED ENCODE IT IN HEADERS
            if (options?.reason !== undefined) {
                headers[AUDIT_LOG_REASON_HEADER] = encodeURIComponent(options?.reason);
            }
            let body;
            // TODO: check if we need to add specific check for GET method
            // Since GET does not allow bodies
            // Have to check for attachments first, since body then has to be send in a different way.
            if (options?.files !== undefined) {
                const form = new FormData();
                for(let i = 0; i < options.files.length; ++i){
                    form.append(`files[${i}]`, options.files[i].blob, options.files[i].name);
                }
                // Have to use changeToDiscordFormat or else JSON.stringify may throw an error for the presence of BigInt(s) in the json
                form.append('payload_json', JSON.stringify(rest.changeToDiscordFormat({
                    ...options.body,
                    files: undefined
                })));
                // No need to set the `content-type` header since `fetch` does that automatically for us when we use a `FormData` object.
                body = form;
            } else if (options?.body && options.headers && options.headers['content-type'] === 'application/x-www-form-urlencoded') {
                // OAuth2 body handling
                const formBody = [];
                const discordBody = rest.changeToDiscordFormat(options.body);
                for(const prop in discordBody){
                    formBody.push(`${encodeURIComponent(prop)}=${encodeURIComponent(discordBody[prop])}`);
                }
                body = formBody.join('&');
            } else if (options?.body !== undefined) {
                if (options.body instanceof FormData) {
                    body = options.body;
                // No need to set the `content-type` header since `fetch` does that automatically for us when we use a `FormData` object.
                } else {
                    body = JSON.stringify(rest.changeToDiscordFormat(options.body));
                    headers['content-type'] = `application/json`;
                }
            }
            // SOMETIMES SPECIAL HEADERS (E.G. CUSTOM AUTHORIZATION) NEED TO BE USED
            if (options?.headers) {
                Object.assign(headers, options.headers);
            }
            return {
                body,
                headers,
                method
            };
        },
        processRateLimitedPaths () {
            const now = Date.now();
            for (const [key, value] of rest.rateLimitedPaths.entries()){
                //   rest.debug(
                // `[REST - processRateLimitedPaths] Running for of loop. ${
                //   value.resetTimestamp - now
                // }`
                //   )
                // If the time has not reached cancel
                if (value.resetTimestamp > now) continue;
                // Rate limit is over, delete the rate limiter
                rest.rateLimitedPaths.delete(key);
                // If it was global, also mark the global value as false
                if (key === 'global') rest.globallyRateLimited = false;
            }
            // ALL PATHS ARE CLEARED CAN CANCEL OUT!
            if (rest.rateLimitedPaths.size === 0) {
                rest.processingRateLimitedPaths = false;
            } else {
                rest.processingRateLimitedPaths = true;
                // RECHECK IN 1 SECOND
                setTimeout(()=>{
                    // rest.debug('[REST - processRateLimitedPaths] Running setTimeout.')
                    rest.processRateLimitedPaths();
                }, 1000);
            }
        },
        /** Processes the rate limit headers and determines if it needs to be rate limited and returns the bucket id if available */ processHeaders (url, headers, identifier) {
            let rateLimited = false;
            // GET ALL NECESSARY HEADERS
            const remaining = headers.get(RATE_LIMIT_REMAINING_HEADER);
            const retryAfter = headers.get(RATE_LIMIT_RESET_AFTER_HEADER);
            const reset = Date.now() + Number(retryAfter) * 1000;
            const global = headers.get(RATE_LIMIT_GLOBAL_HEADER);
            // undefined override null needed for typings
            const bucketId = headers.get(RATE_LIMIT_BUCKET_HEADER) ?? undefined;
            const limit = headers.get(RATE_LIMIT_LIMIT_HEADER);
            // If we didn't received the identifier, fallback to the bot token
            identifier ??= `Bot ${rest.token}`;
            rest.queues.get(`${identifier}${url}`)?.handleCompletedRequest({
                remaining: remaining ? Number(remaining) : undefined,
                interval: retryAfter ? Number(retryAfter) * 1000 : undefined,
                max: limit ? Number(limit) : undefined
            });
            // IF THERE IS NO REMAINING RATE LIMIT, MARK IT AS RATE LIMITED
            if (remaining === '0') {
                rateLimited = true;
                // SAVE THE URL AS LIMITED, IMPORTANT FOR NEW REQUESTS BY USER WITHOUT BUCKET
                rest.rateLimitedPaths.set(`${identifier}${url}`, {
                    url,
                    resetTimestamp: reset,
                    bucketId
                });
                // SAVE THE BUCKET AS LIMITED SINCE DIFFERENT URLS MAY SHARE A BUCKET
                if (bucketId) {
                    rest.rateLimitedPaths.set(`${identifier}${bucketId}`, {
                        url,
                        resetTimestamp: reset,
                        bucketId
                    });
                }
            }
            // IF THERE IS NO REMAINING GLOBAL LIMIT, MARK IT RATE LIMITED GLOBALLY
            if (global) {
                const retryAfter = Number(headers.get('retry-after')) * 1000;
                const globalReset = Date.now() + retryAfter;
                //   rest.debug(
                // `[REST = Globally Rate Limited] URL: ${url} | Global Rest: ${globalReset}`
                //   )
                rest.globallyRateLimited = true;
                rateLimited = true;
                setTimeout(()=>{
                    rest.globallyRateLimited = false;
                }, retryAfter);
                rest.rateLimitedPaths.set('global', {
                    url: 'global',
                    resetTimestamp: globalReset,
                    bucketId
                });
                if (bucketId) {
                    rest.rateLimitedPaths.set(identifier, {
                        url: 'global',
                        resetTimestamp: globalReset,
                        bucketId
                    });
                }
            }
            if (rateLimited && !rest.processingRateLimitedPaths) {
                rest.processRateLimitedPaths();
            }
            return rateLimited ? bucketId : undefined;
        },
        async sendRequest (options) {
            const url = `${rest.baseUrl}/v${rest.version}${options.route}`;
            const payload = rest.createRequestBody(options.method, options.requestBodyOptions);
            const loggingHeaders = {
                ...payload.headers
            };
            if (payload.headers.authorization) {
                const authorizationScheme = payload.headers.authorization?.split(' ')[0];
                loggingHeaders.authorization = `${authorizationScheme} tokenhere`;
            }
            rest.logger.debug(`sending request to ${url}`, 'with payload:', {
                ...payload,
                headers: loggingHeaders
            });
            const response = await fetch(url, payload).catch(async (error)=>{
                rest.logger.error(error);
                // Mark request and completed
                rest.invalidBucket.handleCompletedRequest(999, false);
                options.reject({
                    ok: false,
                    status: 999,
                    error: 'Possible network or request shape issue occurred. If this is rare, its a network glitch. If it occurs a lot something is wrong.'
                });
                throw error;
            });
            rest.logger.debug(`request fetched from ${url} with status ${response.status} & ${response.statusText}`);
            // Mark request and completed
            rest.invalidBucket.handleCompletedRequest(response.status, response.headers.get(RATE_LIMIT_SCOPE_HEADER) === 'shared');
            // Set the bucket id if it was available on the headers
            const bucketId = rest.processHeaders(rest.simplifyUrl(options.route, options.method), response.headers, payload.headers.authorization);
            if (bucketId) options.bucketId = bucketId;
            if (response.status < 200 || response.status >= 400) {
                rest.logger.debug(`Request to ${url} failed.`);
                if (response.status !== 429) {
                    options.reject({
                        ok: false,
                        status: response.status,
                        body: await response.text()
                    });
                    return;
                }
                rest.logger.debug(`Request to ${url} was ratelimited.`);
                // Too many attempts, get rid of request from queue.
                if (options.retryCount >= rest.maxRetryCount) {
                    rest.logger.debug(`Request to ${url} exceeded the maximum allowed retries.`, 'with payload:', payload);
                    // rest.debug(`[REST - RetriesMaxed] ${JSON.stringify(options)}`)
                    options.reject({
                        ok: false,
                        status: response.status,
                        error: 'The request was rate limited and it maxed out the retries limit.'
                    });
                    return;
                }
                options.retryCount += 1;
                const resetAfter = response.headers.get(RATE_LIMIT_RESET_AFTER_HEADER);
                if (resetAfter) await delay(Number(resetAfter) * 1000);
                // process the response to prevent mem leak
                await response.arrayBuffer();
                return await options.retryRequest?.(options);
            }
            // Discord sometimes sends no response with no content.
            options.resolve({
                ok: true,
                status: response.status,
                body: response.status === 204 ? undefined : await response.text()
            });
        },
        simplifyUrl (url, method) {
            const parts = url.split('/');
            const secondLastPart = parts[parts.length - 2];
            if (secondLastPart === 'channels' || secondLastPart === 'guilds') {
                return url;
            }
            if (secondLastPart === 'reactions' || parts[parts.length - 1] === '@me') {
                parts.splice(-2);
                parts.push('reactions');
            } else {
                parts.splice(-1);
                parts.push('x');
            }
            if (parts[parts.length - 3] === 'reactions') {
                parts.splice(-2);
            }
            if (method === 'DELETE' && secondLastPart === 'messages') {
                return `D${parts.join('/')}`;
            }
            return parts.join('/');
        },
        async processRequest (request) {
            const url = rest.simplifyUrl(request.route, request.method);
            if (request.runThroughQueue === false) {
                await rest.sendRequest(request);
                return;
            }
            // If we the request has a token, use it
            // Else fallback to prefix with the bot token
            const queueIdentifier = request.requestBodyOptions?.headers?.authorization ?? `Bot ${rest.token}`;
            const queue = rest.queues.get(`${queueIdentifier}${url}`);
            if (queue !== undefined) {
                queue.makeRequest(request);
            } else {
                // CREATES A NEW QUEUE
                const bucketQueue = new Queue(rest, {
                    url,
                    deleteQueueDelay: rest.deleteQueueDelay,
                    identifier: queueIdentifier
                });
                // Save queue
                rest.queues.set(`${queueIdentifier}${url}`, bucketQueue);
                // Add request to queue
                bucketQueue.makeRequest(request);
            }
        },
        async makeRequest (method, route, options) {
            // This error needs to be created here because of how stack traces get calculated
            const error = new Error();
            error.message = 'Failed to send request to discord.';
            if (rest.isProxied) {
                if (rest.authorization) {
                    options ??= {};
                    options.headers ??= {};
                    options.headers[rest.authorizationHeader] = rest.authorization;
                }
                const result = await fetch(`${rest.baseUrl}/v${rest.version}${route}`, rest.createRequestBody(method, options));
                if (!result.ok) {
                    const errText = await result.text().catch(()=>null);
                    if (errText) {
                        error.cause = {
                            ok: false,
                            status: result.status,
                            body: errText
                        };
                        throw error;
                    }
                    const err = await result.json().catch(()=>{});
                    // Legacy Handling to not break old code or when body is missing
                    if (!err?.body) throw new Error(`Error: ${err.message ?? result.statusText}`);
                    throw new Error(JSON.stringify(err));
                }
                return result.status !== 204 ? await result.json() : undefined;
            }
            return await new Promise(async (resolve, reject)=>{
                const payload = {
                    route,
                    method,
                    requestBodyOptions: options,
                    retryCount: 0,
                    retryRequest: async (payload)=>{
                        await rest.processRequest(payload);
                    },
                    resolve: (data)=>{
                        resolve(data.status !== 204 ? JSON.parse(data.body ?? '{}') : undefined);
                    },
                    reject: (reason)=>{
                        error.cause = reason;
                        reject(error);
                    },
                    runThroughQueue: options?.runThroughQueue
                };
                await rest.processRequest(payload);
            });
        },
        async get (url, options) {
            return camelize(await rest.makeRequest('GET', url, options));
        },
        async post (url, options) {
            return camelize(await rest.makeRequest('POST', url, options));
        },
        async delete (url, options) {
            camelize(await rest.makeRequest('DELETE', url, options));
        },
        async patch (url, options) {
            return camelize(await rest.makeRequest('PATCH', url, options));
        },
        async put (url, options) {
            return camelize(await rest.makeRequest('PUT', url, options));
        },
        async addReaction (channelId, messageId, reaction) {
            reaction = processReactionString(reaction);
            await rest.put(rest.routes.channels.reactions.bot(channelId, messageId, reaction));
        },
        async addReactions (channelId, messageId, reactions, ordered = false) {
            if (!ordered) {
                await Promise.all(reactions.map(async (reaction)=>{
                    await rest.addReaction(channelId, messageId, reaction);
                }));
                return;
            }
            for (const reaction of reactions){
                await rest.addReaction(channelId, messageId, reaction);
            }
        },
        async addRole (guildId, userId, roleId, reason) {
            await rest.put(rest.routes.guilds.roles.member(guildId, userId, roleId), {
                reason
            });
        },
        async addThreadMember (channelId, userId) {
            await rest.put(rest.routes.channels.threads.user(channelId, userId));
        },
        async addDmRecipient (channelId, userId, body) {
            await rest.put(rest.routes.channels.dmRecipient(channelId, userId), {
                body
            });
        },
        async createAutomodRule (guildId, body, reason) {
            return await rest.post(rest.routes.guilds.automod.rules(guildId), {
                body,
                reason
            });
        },
        async createChannel (guildId, body, reason) {
            return await rest.post(rest.routes.guilds.channels(guildId), {
                body,
                reason
            });
        },
        async createEmoji (guildId, body, reason) {
            return await rest.post(rest.routes.guilds.emojis(guildId), {
                body,
                reason
            });
        },
        async createApplicationEmoji (body) {
            return await rest.post(rest.routes.applicationEmojis(rest.applicationId), {
                body
            });
        },
        async createGlobalApplicationCommand (body, options) {
            const restOptions = {
                body
            };
            if (options?.bearerToken) {
                restOptions.unauthorized = true;
                restOptions.headers = {
                    authorization: `Bearer ${options.bearerToken}`
                };
            }
            return await rest.post(rest.routes.interactions.commands.commands(rest.applicationId), restOptions);
        },
        async createGuild (body) {
            return await rest.post(rest.routes.guilds.all(), {
                body
            });
        },
        async createGuildApplicationCommand (body, guildId, options) {
            const restOptions = {
                body
            };
            if (options?.bearerToken) {
                restOptions.unauthorized = true;
                restOptions.headers = {
                    authorization: `Bearer ${options.bearerToken}`
                };
            }
            return await rest.post(rest.routes.interactions.commands.guilds.all(rest.applicationId, guildId), restOptions);
        },
        async createGuildFromTemplate (templateCode, body) {
            if (body.icon) {
                body.icon = await urlToBase64(body.icon);
            }
            return await rest.post(rest.routes.guilds.templates.code(templateCode), {
                body
            });
        },
        async createGuildSticker (guildId, options, reason) {
            const form = new FormData();
            form.append('file', options.file.blob, options.file.name);
            form.append('name', options.name);
            form.append('description', options.description);
            form.append('tags', options.tags);
            return await rest.post(rest.routes.guilds.stickers(guildId), {
                body: form,
                reason
            });
        },
        async createGuildTemplate (guildId, body) {
            return await rest.post(rest.routes.guilds.templates.all(guildId), {
                body
            });
        },
        async createForumThread (channelId, body, reason) {
            return await rest.post(rest.routes.channels.forum(channelId), {
                body,
                files: body.files,
                reason
            });
        },
        async createInvite (channelId, body = {}, reason) {
            return await rest.post(rest.routes.channels.invites(channelId), {
                body,
                reason
            });
        },
        async createRole (guildId, body, reason) {
            return await rest.post(rest.routes.guilds.roles.all(guildId), {
                body,
                reason
            });
        },
        async createScheduledEvent (guildId, body, reason) {
            return await rest.post(rest.routes.guilds.events.events(guildId), {
                body,
                reason
            });
        },
        async createStageInstance (body, reason) {
            return await rest.post(rest.routes.channels.stages(), {
                body,
                reason
            });
        },
        async createWebhook (channelId, options, reason) {
            return await rest.post(rest.routes.channels.webhooks(channelId), {
                body: {
                    name: options.name,
                    avatar: options.avatar ? await urlToBase64(options.avatar) : undefined
                },
                reason
            });
        },
        async deleteAutomodRule (guildId, ruleId, reason) {
            await rest.delete(rest.routes.guilds.automod.rule(guildId, ruleId), {
                reason
            });
        },
        async deleteChannel (channelId, reason) {
            await rest.delete(rest.routes.channels.channel(channelId), {
                reason
            });
        },
        async deleteChannelPermissionOverride (channelId, overwriteId, reason) {
            await rest.delete(rest.routes.channels.overwrite(channelId, overwriteId), {
                reason
            });
        },
        async deleteEmoji (guildId, id, reason) {
            await rest.delete(rest.routes.guilds.emoji(guildId, id), {
                reason
            });
        },
        async deleteApplicationEmoji (id) {
            await rest.delete(rest.routes.applicationEmoji(rest.applicationId, id));
        },
        async deleteFollowupMessage (token, messageId) {
            await rest.delete(rest.routes.interactions.responses.message(rest.applicationId, token, messageId), {
                unauthorized: true
            });
        },
        async deleteGlobalApplicationCommand (commandId) {
            await rest.delete(rest.routes.interactions.commands.command(rest.applicationId, commandId));
        },
        async deleteGuild (guildId) {
            await rest.delete(rest.routes.guilds.guild(guildId));
        },
        async deleteGuildApplicationCommand (commandId, guildId) {
            await rest.delete(rest.routes.interactions.commands.guilds.one(rest.applicationId, guildId, commandId));
        },
        async deleteGuildSticker (guildId, stickerId, reason) {
            await rest.delete(rest.routes.guilds.sticker(guildId, stickerId), {
                reason
            });
        },
        async deleteGuildTemplate (guildId, templateCode) {
            await rest.delete(rest.routes.guilds.templates.guild(guildId, templateCode));
        },
        async deleteIntegration (guildId, integrationId, reason) {
            await rest.delete(rest.routes.guilds.integration(guildId, integrationId), {
                reason
            });
        },
        async deleteInvite (inviteCode, reason) {
            await rest.delete(rest.routes.guilds.invite(inviteCode), {
                reason
            });
        },
        async deleteMessage (channelId, messageId, reason) {
            await rest.delete(rest.routes.channels.message(channelId, messageId), {
                reason
            });
        },
        async deleteMessages (channelId, messageIds, reason) {
            await rest.post(rest.routes.channels.bulk(channelId), {
                body: {
                    messages: messageIds.slice(0, 100).map((id)=>id.toString())
                },
                reason
            });
        },
        async deleteOriginalInteractionResponse (token) {
            await rest.delete(rest.routes.interactions.responses.original(rest.applicationId, token), {
                unauthorized: true
            });
        },
        async deleteOwnReaction (channelId, messageId, reaction) {
            reaction = processReactionString(reaction);
            await rest.delete(rest.routes.channels.reactions.bot(channelId, messageId, reaction));
        },
        async deleteReactionsAll (channelId, messageId) {
            await rest.delete(rest.routes.channels.reactions.all(channelId, messageId));
        },
        async deleteReactionsEmoji (channelId, messageId, reaction) {
            reaction = processReactionString(reaction);
            await rest.delete(rest.routes.channels.reactions.emoji(channelId, messageId, reaction));
        },
        async deleteRole (guildId, roleId, reason) {
            await rest.delete(rest.routes.guilds.roles.one(guildId, roleId), {
                reason
            });
        },
        async deleteScheduledEvent (guildId, eventId) {
            await rest.delete(rest.routes.guilds.events.event(guildId, eventId));
        },
        async deleteStageInstance (channelId, reason) {
            await rest.delete(rest.routes.channels.stage(channelId), {
                reason
            });
        },
        async deleteUserReaction (channelId, messageId, userId, reaction) {
            reaction = processReactionString(reaction);
            await rest.delete(rest.routes.channels.reactions.user(channelId, messageId, reaction, userId));
        },
        async deleteWebhook (webhookId, reason) {
            await rest.delete(rest.routes.webhooks.id(webhookId), {
                reason
            });
        },
        async deleteWebhookMessage (webhookId, token, messageId, options) {
            await rest.delete(rest.routes.webhooks.message(webhookId, token, messageId, options));
        },
        async deleteWebhookWithToken (webhookId, token) {
            await rest.delete(rest.routes.webhooks.webhook(webhookId, token), {
                unauthorized: true
            });
        },
        async editApplicationCommandPermissions (guildId, commandId, bearerToken, permissions) {
            return await rest.put(rest.routes.interactions.commands.permission(rest.applicationId, guildId, commandId), {
                body: {
                    permissions
                },
                headers: {
                    authorization: `Bearer ${bearerToken}`
                }
            });
        },
        async editAutomodRule (guildId, ruleId, body, reason) {
            return await rest.patch(rest.routes.guilds.automod.rule(guildId, ruleId), {
                body,
                reason
            });
        },
        async editBotProfile (options) {
            const avatar = options?.botAvatarURL ? await urlToBase64(options?.botAvatarURL) : options?.botAvatarURL;
            const banner = options?.botBannerURL ? await urlToBase64(options?.botBannerURL) : options?.botBannerURL;
            return await rest.patch(rest.routes.currentUser(), {
                body: {
                    username: options.username?.trim(),
                    avatar,
                    banner
                }
            });
        },
        async editChannel (channelId, body, reason) {
            return await rest.patch(rest.routes.channels.channel(channelId), {
                body,
                reason
            });
        },
        async editChannelPermissionOverrides (channelId, body, reason) {
            await rest.put(rest.routes.channels.overwrite(channelId, body.id), {
                body,
                reason
            });
        },
        async editChannelPositions (guildId, body) {
            await rest.patch(rest.routes.guilds.channels(guildId), {
                body
            });
        },
        async editEmoji (guildId, id, body, reason) {
            return await rest.patch(rest.routes.guilds.emoji(guildId, id), {
                body,
                reason
            });
        },
        async editApplicationEmoji (id, body) {
            return await rest.patch(rest.routes.applicationEmoji(rest.applicationId, id), {
                body
            });
        },
        async editFollowupMessage (token, messageId, body) {
            return await rest.patch(rest.routes.interactions.responses.message(rest.applicationId, token, messageId), {
                body,
                files: body.files,
                unauthorized: true
            });
        },
        async editGlobalApplicationCommand (commandId, body) {
            return await rest.patch(rest.routes.interactions.commands.command(rest.applicationId, commandId), {
                body
            });
        },
        async editGuild (guildId, body, reason) {
            return await rest.patch(rest.routes.guilds.guild(guildId), {
                body,
                reason
            });
        },
        async editGuildApplicationCommand (commandId, guildId, body) {
            return await rest.patch(rest.routes.interactions.commands.guilds.one(rest.applicationId, guildId, commandId), {
                body
            });
        },
        async editGuildMfaLevel (guildId, mfaLevel, reason) {
            await rest.post(rest.routes.guilds.mfa(guildId), {
                body: {
                    level: mfaLevel
                },
                reason
            });
        },
        async editGuildSticker (guildId, stickerId, body, reason) {
            return await rest.patch(rest.routes.guilds.sticker(guildId, stickerId), {
                body,
                reason
            });
        },
        async editGuildTemplate (guildId, templateCode, body) {
            return await rest.patch(rest.routes.guilds.templates.guild(guildId, templateCode), {
                body
            });
        },
        async editMessage (channelId, messageId, body) {
            return await rest.patch(rest.routes.channels.message(channelId, messageId), {
                body,
                files: body.files
            });
        },
        async editOriginalInteractionResponse (token, body) {
            return await rest.patch(rest.routes.interactions.responses.original(rest.applicationId, token), {
                body,
                files: body.files
            });
        },
        async editOriginalWebhookMessage (webhookId, token, options) {
            return await rest.patch(rest.routes.webhooks.original(webhookId, token, options), {
                body: {
                    type: InteractionResponseTypes.UpdateMessage,
                    data: options
                },
                files: options.files,
                unauthorized: true
            });
        },
        async editOwnVoiceState (guildId, options) {
            await rest.patch(rest.routes.guilds.voice(guildId), {
                body: {
                    ...options,
                    requestToSpeakTimestamp: options.requestToSpeakTimestamp ? new Date(options.requestToSpeakTimestamp).toISOString() : options.requestToSpeakTimestamp
                }
            });
        },
        async editScheduledEvent (guildId, eventId, body, reason) {
            return await rest.patch(rest.routes.guilds.events.event(guildId, eventId), {
                body,
                reason
            });
        },
        async editRole (guildId, roleId, body, reason) {
            return await rest.patch(rest.routes.guilds.roles.one(guildId, roleId), {
                body,
                reason
            });
        },
        async editRolePositions (guildId, body, reason) {
            return await rest.patch(rest.routes.guilds.roles.all(guildId), {
                body,
                reason
            });
        },
        async editStageInstance (channelId, topic, reason) {
            return await rest.patch(rest.routes.channels.stage(channelId), {
                body: {
                    topic
                },
                reason
            });
        },
        async editUserVoiceState (guildId, options) {
            await rest.patch(rest.routes.guilds.voice(guildId, options.userId), {
                body: options
            });
        },
        async editWebhook (webhookId, body, reason) {
            return await rest.patch(rest.routes.webhooks.id(webhookId), {
                body,
                reason
            });
        },
        async editWebhookMessage (webhookId, token, messageId, options) {
            return await rest.patch(rest.routes.webhooks.message(webhookId, token, messageId, options), {
                body: options,
                files: options.files,
                unauthorized: true
            });
        },
        async editWebhookWithToken (webhookId, token, body) {
            return await rest.patch(rest.routes.webhooks.webhook(webhookId, token), {
                body,
                unauthorized: true
            });
        },
        async editWelcomeScreen (guildId, body, reason) {
            return await rest.patch(rest.routes.guilds.welcome(guildId), {
                body,
                reason
            });
        },
        async editWidgetSettings (guildId, body, reason) {
            return await rest.patch(rest.routes.guilds.widget(guildId), {
                body,
                reason
            });
        },
        async executeWebhook (webhookId, token, options) {
            return await rest.post(rest.routes.webhooks.webhook(webhookId, token, options), {
                body: options,
                unauthorized: true
            });
        },
        async followAnnouncement (sourceChannelId, targetChannelId, reason) {
            return await rest.post(rest.routes.channels.follow(sourceChannelId), {
                body: {
                    webhookChannelId: targetChannelId
                },
                reason
            });
        },
        async getActiveThreads (guildId) {
            return await rest.get(rest.routes.channels.threads.active(guildId));
        },
        async getApplicationCommandPermission (guildId, commandId, options) {
            const restOptions = {};
            if (options?.accessToken) {
                restOptions.unauthorized = true;
                restOptions.headers = {
                    authorization: `Bearer ${options.accessToken}`
                };
            }
            return await rest.get(rest.routes.interactions.commands.permission(options?.applicationId ?? rest.applicationId, guildId, commandId), restOptions);
        },
        async getApplicationCommandPermissions (guildId, options) {
            const restOptions = {};
            if (options?.accessToken) {
                restOptions.unauthorized = true;
                restOptions.headers = {
                    authorization: `Bearer ${options.accessToken}`
                };
            }
            return await rest.get(rest.routes.interactions.commands.permissions(options?.applicationId ?? rest.applicationId, guildId), restOptions);
        },
        async getApplicationInfo () {
            return await rest.get(rest.routes.oauth2.application());
        },
        async editApplicationInfo (body) {
            return await rest.patch(rest.routes.application(), {
                body
            });
        },
        async getCurrentAuthenticationInfo (token) {
            return await rest.get(rest.routes.oauth2.currentAuthorization(), {
                headers: {
                    authorization: `Bearer ${token}`
                },
                unauthorized: true
            });
        },
        async exchangeToken (clientId, clientSecret, body) {
            const basicCredentials = Buffer.from(`${clientId}:${clientSecret}`);
            const restOptions = {
                body,
                headers: {
                    'content-type': 'application/x-www-form-urlencoded',
                    authorization: `Basic ${basicCredentials.toString('base64')}`
                },
                runThroughQueue: false,
                unauthorized: true
            };
            if (body.grantType === 'client_credentials') {
                restOptions.body.scope = body.scope.join(' ');
            }
            return await rest.post(rest.routes.oauth2.tokenExchange(), restOptions);
        },
        async revokeToken (clientId, clientSecret, body) {
            const basicCredentials = Buffer.from(`${clientId}:${clientSecret}`);
            await rest.post(rest.routes.oauth2.tokenRevoke(), {
                body,
                headers: {
                    'content-type': 'application/x-www-form-urlencoded',
                    authorization: `Basic ${basicCredentials.toString('base64')}`
                },
                unauthorized: true
            });
        },
        async getAuditLog (guildId, options) {
            return await rest.get(rest.routes.guilds.auditlogs(guildId, options));
        },
        async getAutomodRule (guildId, ruleId) {
            return await rest.get(rest.routes.guilds.automod.rule(guildId, ruleId));
        },
        async getAutomodRules (guildId) {
            return await rest.get(rest.routes.guilds.automod.rules(guildId));
        },
        async getAvailableVoiceRegions () {
            return await rest.get(rest.routes.regions());
        },
        async getBan (guildId, userId) {
            return await rest.get(rest.routes.guilds.members.ban(guildId, userId));
        },
        async getBans (guildId, options) {
            return await rest.get(rest.routes.guilds.members.bans(guildId, options));
        },
        async getChannel (id) {
            return await rest.get(rest.routes.channels.channel(id));
        },
        async getChannelInvites (channelId) {
            return await rest.get(rest.routes.channels.invites(channelId));
        },
        async getChannels (guildId) {
            return await rest.get(rest.routes.guilds.channels(guildId));
        },
        async getChannelWebhooks (channelId) {
            return await rest.get(rest.routes.channels.webhooks(channelId));
        },
        async getDmChannel (userId) {
            return await rest.post(rest.routes.channels.dm(), {
                body: {
                    recipientId: userId
                }
            });
        },
        async getGroupDmChannel (body) {
            return await rest.post(rest.routes.channels.dm(), {
                body
            });
        },
        async getEmoji (guildId, emojiId) {
            return await rest.get(rest.routes.guilds.emoji(guildId, emojiId));
        },
        async getApplicationEmoji (emojiId) {
            return await rest.get(rest.routes.applicationEmoji(rest.applicationId, emojiId));
        },
        async getEmojis (guildId) {
            return await rest.get(rest.routes.guilds.emojis(guildId));
        },
        async getApplicationEmojis () {
            return await rest.get(rest.routes.applicationEmojis(rest.applicationId));
        },
        async getFollowupMessage (token, messageId) {
            return await rest.get(rest.routes.interactions.responses.message(rest.applicationId, token, messageId), {
                unauthorized: true
            });
        },
        async getGatewayBot () {
            return await rest.get(rest.routes.gatewayBot());
        },
        async getGlobalApplicationCommand (commandId) {
            return await rest.get(rest.routes.interactions.commands.command(rest.applicationId, commandId));
        },
        async getGlobalApplicationCommands () {
            return await rest.get(rest.routes.interactions.commands.commands(rest.applicationId));
        },
        async getGuild (guildId, options = {
            counts: true
        }) {
            return await rest.get(rest.routes.guilds.guild(guildId, options.counts));
        },
        async getGuilds (token, options) {
            const makeRequestOptions = token ? {
                headers: {
                    authorization: `Bearer ${token}`
                },
                unauthorized: true
            } : undefined;
            return await rest.get(rest.routes.guilds.userGuilds(options), makeRequestOptions);
        },
        async getGuildApplicationCommand (commandId, guildId) {
            return await rest.get(rest.routes.interactions.commands.guilds.one(rest.applicationId, guildId, commandId));
        },
        async getGuildApplicationCommands (guildId) {
            return await rest.get(rest.routes.interactions.commands.guilds.all(rest.applicationId, guildId));
        },
        async getGuildPreview (guildId) {
            return await rest.get(rest.routes.guilds.preview(guildId));
        },
        async getGuildTemplate (templateCode) {
            return await rest.get(rest.routes.guilds.templates.code(templateCode));
        },
        async getGuildTemplates (guildId) {
            return await rest.get(rest.routes.guilds.templates.all(guildId));
        },
        async getGuildWebhooks (guildId) {
            return await rest.get(rest.routes.guilds.webhooks(guildId));
        },
        async getIntegrations (guildId) {
            return await rest.get(rest.routes.guilds.integrations(guildId));
        },
        async getInvite (inviteCode, options) {
            return await rest.get(rest.routes.guilds.invite(inviteCode, options));
        },
        async getInvites (guildId) {
            return await rest.get(rest.routes.guilds.invites(guildId));
        },
        async getMessage (channelId, messageId) {
            return await rest.get(rest.routes.channels.message(channelId, messageId));
        },
        async getMessages (channelId, options) {
            return await rest.get(rest.routes.channels.messages(channelId, options));
        },
        async getStickerPack (stickerPackId) {
            return await rest.get(rest.routes.stickerPack(stickerPackId));
        },
        async getStickerPacks () {
            return await rest.get(rest.routes.stickerPacks());
        },
        async getOriginalInteractionResponse (token) {
            return await rest.get(rest.routes.interactions.responses.original(rest.applicationId, token), {
                unauthorized: true
            });
        },
        async getPinnedMessages (channelId) {
            return await rest.get(rest.routes.channels.pins(channelId));
        },
        async getPrivateArchivedThreads (channelId, options) {
            return await rest.get(rest.routes.channels.threads.private(channelId, options));
        },
        async getPrivateJoinedArchivedThreads (channelId, options) {
            return await rest.get(rest.routes.channels.threads.joined(channelId, options));
        },
        async getPruneCount (guildId, options) {
            return await rest.get(rest.routes.guilds.prune(guildId, options));
        },
        async getPublicArchivedThreads (channelId, options) {
            return await rest.get(rest.routes.channels.threads.public(channelId, options));
        },
        async getRoles (guildId) {
            return await rest.get(rest.routes.guilds.roles.all(guildId));
        },
        async getRole (guildId, roleId) {
            return await rest.get(rest.routes.guilds.roles.one(guildId, roleId));
        },
        async getScheduledEvent (guildId, eventId, options) {
            return await rest.get(rest.routes.guilds.events.event(guildId, eventId, options?.withUserCount));
        },
        async getScheduledEvents (guildId, options) {
            return await rest.get(rest.routes.guilds.events.events(guildId, options?.withUserCount));
        },
        async getScheduledEventUsers (guildId, eventId, options) {
            return await rest.get(rest.routes.guilds.events.users(guildId, eventId, options));
        },
        async getSessionInfo () {
            return await rest.getGatewayBot();
        },
        async getStageInstance (channelId) {
            return await rest.get(rest.routes.channels.stage(channelId));
        },
        async getOwnVoiceState (guildId) {
            return await rest.get(rest.routes.guilds.voice(guildId));
        },
        async getUserVoiceState (guildId, userId) {
            return await rest.get(rest.routes.guilds.voice(guildId, userId));
        },
        async getSticker (stickerId) {
            return await rest.get(rest.routes.sticker(stickerId));
        },
        async getGuildSticker (guildId, stickerId) {
            return await rest.get(rest.routes.guilds.sticker(guildId, stickerId));
        },
        async getGuildStickers (guildId) {
            return await rest.get(rest.routes.guilds.stickers(guildId));
        },
        async getThreadMember (channelId, userId) {
            return await rest.get(rest.routes.channels.threads.user(channelId, userId));
        },
        async getThreadMembers (channelId) {
            return await rest.get(rest.routes.channels.threads.members(channelId));
        },
        async getReactions (channelId, messageId, reaction, options) {
            return await rest.get(rest.routes.channels.reactions.message(channelId, messageId, reaction, options));
        },
        async getUser (id) {
            return await rest.get(rest.routes.user(id));
        },
        async getCurrentUser (token) {
            return await rest.get(rest.routes.currentUser(), {
                headers: {
                    authorization: `Bearer ${token}`
                },
                unauthorized: true
            });
        },
        async getUserConnections (token) {
            return await rest.get(rest.routes.oauth2.connections(), {
                headers: {
                    authorization: `Bearer ${token}`
                },
                unauthorized: true
            });
        },
        async getUserApplicationRoleConnection (token, applicationId) {
            return await rest.get(rest.routes.oauth2.roleConnections(applicationId), {
                headers: {
                    authorization: `Bearer ${token}`
                },
                unauthorized: true
            });
        },
        async getVanityUrl (guildId) {
            return await rest.get(rest.routes.guilds.vanity(guildId));
        },
        async getVoiceRegions (guildId) {
            return await rest.get(rest.routes.guilds.regions(guildId));
        },
        async getWebhook (webhookId) {
            return await rest.get(rest.routes.webhooks.id(webhookId));
        },
        async getWebhookMessage (webhookId, token, messageId, options) {
            return await rest.get(rest.routes.webhooks.message(webhookId, token, messageId, options), {
                unauthorized: true
            });
        },
        async getWebhookWithToken (webhookId, token) {
            return await rest.get(rest.routes.webhooks.webhook(webhookId, token), {
                unauthorized: true
            });
        },
        async getWelcomeScreen (guildId) {
            return await rest.get(rest.routes.guilds.welcome(guildId));
        },
        async getWidget (guildId) {
            return await rest.get(rest.routes.guilds.widgetJson(guildId));
        },
        async getWidgetSettings (guildId) {
            return await rest.get(rest.routes.guilds.widget(guildId));
        },
        async joinThread (channelId) {
            await rest.put(rest.routes.channels.threads.me(channelId));
        },
        async leaveGuild (guildId) {
            await rest.delete(rest.routes.guilds.leave(guildId));
        },
        async leaveThread (channelId) {
            await rest.delete(rest.routes.channels.threads.me(channelId));
        },
        async publishMessage (channelId, messageId) {
            return await rest.post(rest.routes.channels.crosspost(channelId, messageId));
        },
        async removeRole (guildId, userId, roleId, reason) {
            await rest.delete(rest.routes.guilds.roles.member(guildId, userId, roleId), {
                reason
            });
        },
        async removeThreadMember (channelId, userId) {
            await rest.delete(rest.routes.channels.threads.user(channelId, userId));
        },
        async removeDmRecipient (channelId, userId) {
            await rest.delete(rest.routes.channels.dmRecipient(channelId, userId));
        },
        async sendFollowupMessage (token, options) {
            return await rest.post(rest.routes.webhooks.webhook(rest.applicationId, token), {
                body: options,
                files: options.files,
                unauthorized: true
            });
        },
        async sendInteractionResponse (interactionId, token, options, params) {
            return await rest.post(rest.routes.interactions.responses.callback(interactionId, token, params), {
                body: options,
                files: options.data?.files,
                runThroughQueue: false,
                unauthorized: true
            });
        },
        async sendMessage (channelId, body) {
            return await rest.post(rest.routes.channels.messages(channelId), {
                body,
                files: body.files
            });
        },
        async startThreadWithMessage (channelId, messageId, body, reason) {
            return await rest.post(rest.routes.channels.threads.message(channelId, messageId), {
                body,
                reason
            });
        },
        async startThreadWithoutMessage (channelId, body, reason) {
            return await rest.post(rest.routes.channels.threads.all(channelId), {
                body,
                reason
            });
        },
        async getPollAnswerVoters (channelId, messageId, answerId, options) {
            return await rest.get(rest.routes.channels.polls.votes(channelId, messageId, answerId, options));
        },
        async endPoll (channelId, messageId) {
            return await rest.post(rest.routes.channels.polls.expire(channelId, messageId));
        },
        async syncGuildTemplate (guildId) {
            return await rest.put(rest.routes.guilds.templates.all(guildId));
        },
        async banMember (guildId, userId, body, reason) {
            await rest.put(rest.routes.guilds.members.ban(guildId, userId), {
                body,
                reason
            });
        },
        async bulkBanMembers (guildId, options, reason) {
            return await rest.post(rest.routes.guilds.members.bulkBan(guildId), {
                body: options,
                reason
            });
        },
        async editBotMember (guildId, body, reason) {
            return await rest.patch(rest.routes.guilds.members.bot(guildId), {
                body,
                reason
            });
        },
        async editMember (guildId, userId, body, reason) {
            return await rest.patch(rest.routes.guilds.members.member(guildId, userId), {
                body,
                reason
            });
        },
        async getMember (guildId, userId) {
            return await rest.get(rest.routes.guilds.members.member(guildId, userId));
        },
        async getCurrentMember (guildId, token) {
            return await rest.get(rest.routes.guilds.members.currentMember(guildId), {
                headers: {
                    authorization: `Bearer ${token}`
                },
                unauthorized: true
            });
        },
        async getMembers (guildId, options) {
            return await rest.get(rest.routes.guilds.members.members(guildId, options));
        },
        async getApplicationActivityInstance (applicationId, instanceId) {
            return await rest.get(rest.routes.applicationActivityInstance(applicationId, instanceId));
        },
        async kickMember (guildId, userId, reason) {
            await rest.delete(rest.routes.guilds.members.member(guildId, userId), {
                reason
            });
        },
        async pinMessage (channelId, messageId, reason) {
            await rest.put(rest.routes.channels.pin(channelId, messageId), {
                reason
            });
        },
        async pruneMembers (guildId, body, reason) {
            return await rest.post(rest.routes.guilds.members.prune(guildId), {
                body,
                reason
            });
        },
        async searchMembers (guildId, query, options) {
            return await rest.get(rest.routes.guilds.members.search(guildId, query, options));
        },
        async getGuildOnboarding (guildId) {
            return await rest.get(rest.routes.guilds.onboarding(guildId));
        },
        async editGuildOnboarding (guildId, options, reason) {
            return await rest.put(rest.routes.guilds.onboarding(guildId), {
                body: options,
                reason
            });
        },
        async unbanMember (guildId, userId, reason) {
            await rest.delete(rest.routes.guilds.members.ban(guildId, userId), {
                reason
            });
        },
        async unpinMessage (channelId, messageId, reason) {
            await rest.delete(rest.routes.channels.pin(channelId, messageId), {
                reason
            });
        },
        async triggerTypingIndicator (channelId) {
            await rest.post(rest.routes.channels.typing(channelId));
        },
        async upsertGlobalApplicationCommands (body, options) {
            const restOptions = {
                body
            };
            if (options?.bearerToken) {
                restOptions.unauthorized = true;
                restOptions.headers = {
                    authorization: `Bearer ${options.bearerToken}`
                };
            }
            return await rest.put(rest.routes.interactions.commands.commands(rest.applicationId), restOptions);
        },
        async upsertGuildApplicationCommands (guildId, body, options) {
            const restOptions = {
                body
            };
            if (options?.bearerToken) {
                restOptions.unauthorized = true;
                restOptions.headers = {
                    authorization: `Bearer ${options.bearerToken}`
                };
            }
            return await rest.put(rest.routes.interactions.commands.guilds.all(rest.applicationId, guildId), restOptions);
        },
        async editUserApplicationRoleConnection (token, applicationId, body) {
            return await rest.put(rest.routes.oauth2.roleConnections(applicationId), {
                body,
                headers: {
                    authorization: `Bearer ${token}`
                },
                unauthorized: true
            });
        },
        async addGuildMember (guildId, userId, body) {
            return await rest.put(rest.routes.guilds.members.member(guildId, userId), {
                body
            });
        },
        async createTestEntitlement (applicationId, body) {
            return await rest.post(rest.routes.monetization.entitlements(applicationId), {
                body
            });
        },
        async listEntitlements (applicationId, options) {
            return await rest.get(rest.routes.monetization.entitlements(applicationId, options));
        },
        async getEntitlement (applicationId, entitlementId) {
            return await rest.get(rest.routes.monetization.entitlement(applicationId, entitlementId));
        },
        async deleteTestEntitlement (applicationId, entitlementId) {
            await rest.delete(rest.routes.monetization.entitlement(applicationId, entitlementId));
        },
        async consumeEntitlement (applicationId, entitlementId) {
            await rest.post(rest.routes.monetization.consumeEntitlement(applicationId, entitlementId));
        },
        async listSkus (applicationId) {
            return await rest.get(rest.routes.monetization.skus(applicationId));
        },
        async listSubscriptions (skuId, options) {
            return await rest.get(rest.routes.monetization.subscriptions(skuId, options));
        },
        async getSubscription (skuId, subscriptionId) {
            return await rest.get(rest.routes.monetization.subscription(skuId, subscriptionId));
        },
        async sendSoundboardSound (channelId, options) {
            await rest.post(rest.routes.soundboard.sendSound(channelId), {
                body: options
            });
        },
        async listDefaultSoundboardSounds () {
            return await rest.get(rest.routes.soundboard.listDefault());
        },
        async listGuildSoundboardSounds (guildId) {
            return await rest.get(rest.routes.soundboard.guildSounds(guildId));
        },
        async getGuildSoundboardSound (guildId, soundId) {
            return await rest.get(rest.routes.soundboard.guildSound(guildId, soundId));
        },
        async createGuildSoundboardSound (guildId, options, reason) {
            return await rest.post(rest.routes.soundboard.guildSounds(guildId), {
                body: options,
                reason
            });
        },
        async modifyGuildSoundboardSound (guildId, soundId, options, reason) {
            return await rest.post(rest.routes.soundboard.guildSound(guildId, soundId), {
                body: options,
                reason
            });
        },
        async deleteGuildSoundboardSound (guildId, soundId, reason) {
            return await rest.delete(rest.routes.soundboard.guildSound(guildId, soundId), {
                reason
            });
        },
        preferSnakeCase (enabled) {
            const camelizer = enabled ? (x)=>x : camelize;
            rest.get = async (url, options)=>{
                return camelizer(await rest.makeRequest('GET', url, options));
            };
            rest.post = async (url, options)=>{
                return camelizer(await rest.makeRequest('POST', url, options));
            };
            rest.delete = async (url, options)=>{
                camelizer(await rest.makeRequest('DELETE', url, options));
            };
            rest.patch = async (url, options)=>{
                return camelizer(await rest.makeRequest('PATCH', url, options));
            };
            rest.put = async (url, options)=>{
                return camelizer(await rest.makeRequest('PUT', url, options));
            };
            return rest;
        }
    };
    return rest;
}
var HttpResponseCode = /*#__PURE__*/ function(HttpResponseCode) {
    /** Minimum value of a code in oder to consider that it was successful. */ HttpResponseCode[HttpResponseCode["Success"] = 200] = "Success";
    /** Request completed successfully, but Discord returned an empty body. */ HttpResponseCode[HttpResponseCode["NoContent"] = 204] = "NoContent";
    /** Minimum value of a code in order to consider that something went wrong. */ HttpResponseCode[HttpResponseCode["Error"] = 400] = "Error";
    /** This request got rate limited. */ HttpResponseCode[HttpResponseCode["TooManyRequests"] = 429] = "TooManyRequests";
    return HttpResponseCode;
}(HttpResponseCode || {});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9tYW5hZ2VyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJ1ZmZlciB9IGZyb20gJ25vZGU6YnVmZmVyJ1xuaW1wb3J0IHtcbiAgdHlwZSBCaWdTdHJpbmcsXG4gIHR5cGUgQ2FtZWxpemUsXG4gIHR5cGUgRGlzY29yZEFjY2Vzc1Rva2VuUmVzcG9uc2UsXG4gIHR5cGUgRGlzY29yZEFjdGl2aXR5SW5zdGFuY2UsXG4gIHR5cGUgRGlzY29yZEFwcGxpY2F0aW9uLFxuICB0eXBlIERpc2NvcmRBcHBsaWNhdGlvbkNvbW1hbmQsXG4gIHR5cGUgRGlzY29yZEFwcGxpY2F0aW9uUm9sZUNvbm5lY3Rpb24sXG4gIHR5cGUgRGlzY29yZEF1ZGl0TG9nLFxuICB0eXBlIERpc2NvcmRBdXRvTW9kZXJhdGlvblJ1bGUsXG4gIHR5cGUgRGlzY29yZEJhbixcbiAgdHlwZSBEaXNjb3JkQnVsa0JhbixcbiAgdHlwZSBEaXNjb3JkQ2hhbm5lbCxcbiAgdHlwZSBEaXNjb3JkQ29ubmVjdGlvbixcbiAgdHlwZSBEaXNjb3JkQ3VycmVudEF1dGhvcml6YXRpb24sXG4gIHR5cGUgRGlzY29yZEVtb2ppLFxuICB0eXBlIERpc2NvcmRFbnRpdGxlbWVudCxcbiAgdHlwZSBEaXNjb3JkRm9sbG93ZWRDaGFubmVsLFxuICB0eXBlIERpc2NvcmRHZXRBbnN3ZXJWb3Rlc1Jlc3BvbnNlLFxuICB0eXBlIERpc2NvcmRHZXRHYXRld2F5Qm90LFxuICB0eXBlIERpc2NvcmRHdWlsZCxcbiAgdHlwZSBEaXNjb3JkR3VpbGRBcHBsaWNhdGlvbkNvbW1hbmRQZXJtaXNzaW9ucyxcbiAgdHlwZSBEaXNjb3JkR3VpbGRPbmJvYXJkaW5nLFxuICB0eXBlIERpc2NvcmRHdWlsZFByZXZpZXcsXG4gIHR5cGUgRGlzY29yZEd1aWxkV2lkZ2V0LFxuICB0eXBlIERpc2NvcmRHdWlsZFdpZGdldFNldHRpbmdzLFxuICB0eXBlIERpc2NvcmRJbnRlZ3JhdGlvbixcbiAgdHlwZSBEaXNjb3JkSW50ZXJhY3Rpb25DYWxsYmFja1Jlc3BvbnNlLFxuICB0eXBlIERpc2NvcmRJbnZpdGUsXG4gIHR5cGUgRGlzY29yZEludml0ZU1ldGFkYXRhLFxuICB0eXBlIERpc2NvcmRMaXN0QWN0aXZlVGhyZWFkcyxcbiAgdHlwZSBEaXNjb3JkTGlzdEFyY2hpdmVkVGhyZWFkcyxcbiAgdHlwZSBEaXNjb3JkTWVtYmVyLFxuICB0eXBlIERpc2NvcmRNZW1iZXJXaXRoVXNlcixcbiAgdHlwZSBEaXNjb3JkTWVzc2FnZSxcbiAgdHlwZSBEaXNjb3JkUHJ1bmVkQ291bnQsXG4gIHR5cGUgRGlzY29yZFJvbGUsXG4gIHR5cGUgRGlzY29yZFNjaGVkdWxlZEV2ZW50LFxuICB0eXBlIERpc2NvcmRTa3UsXG4gIHR5cGUgRGlzY29yZFNvdW5kYm9hcmRTb3VuZCxcbiAgdHlwZSBEaXNjb3JkU3RhZ2VJbnN0YW5jZSxcbiAgdHlwZSBEaXNjb3JkU3RpY2tlcixcbiAgdHlwZSBEaXNjb3JkU3RpY2tlclBhY2ssXG4gIHR5cGUgRGlzY29yZFN1YnNjcmlwdGlvbixcbiAgdHlwZSBEaXNjb3JkVGVtcGxhdGUsXG4gIHR5cGUgRGlzY29yZFRocmVhZE1lbWJlcixcbiAgdHlwZSBEaXNjb3JkVXNlcixcbiAgdHlwZSBEaXNjb3JkVmFuaXR5VXJsLFxuICB0eXBlIERpc2NvcmRWb2ljZVJlZ2lvbixcbiAgdHlwZSBEaXNjb3JkVm9pY2VTdGF0ZSxcbiAgdHlwZSBEaXNjb3JkV2ViaG9vayxcbiAgdHlwZSBEaXNjb3JkV2VsY29tZVNjcmVlbixcbiAgSW50ZXJhY3Rpb25SZXNwb25zZVR5cGVzLFxuICB0eXBlIE1mYUxldmVscyxcbiAgdHlwZSBNb2RpZnlHdWlsZFRlbXBsYXRlLFxufSBmcm9tICdAZGlzY29yZGVuby90eXBlcydcbmltcG9ydCB7XG4gIERJU0NPUkRFTk9fVkVSU0lPTixcbiAgY2FsY3VsYXRlQml0cyxcbiAgY2FtZWxUb1NuYWtlQ2FzZSxcbiAgY2FtZWxpemUsXG4gIGRlbGF5LFxuICBnZXRCb3RJZEZyb21Ub2tlbixcbiAgbG9nZ2VyLFxuICBwcm9jZXNzUmVhY3Rpb25TdHJpbmcsXG4gIHVybFRvQmFzZTY0XG59IGZyb20gJ0BkaXNjb3JkZW5vL3V0aWxzJ1xuaW1wb3J0IHsgY3JlYXRlSW52YWxpZFJlcXVlc3RCdWNrZXQgfSBmcm9tICcuL2ludmFsaWRCdWNrZXQuanMnXG5pbXBvcnQgeyBRdWV1ZSB9IGZyb20gJy4vcXVldWUuanMnXG5pbXBvcnQgeyBjcmVhdGVSb3V0ZXMgfSBmcm9tICcuL3JvdXRlcy5qcydcbmltcG9ydCB0eXBlIHsgQ3JlYXRlUmVxdWVzdEJvZHlPcHRpb25zLCBDcmVhdGVSZXN0TWFuYWdlck9wdGlvbnMsIE1ha2VSZXF1ZXN0T3B0aW9ucywgUmVzdE1hbmFnZXIsIFNlbmRSZXF1ZXN0T3B0aW9ucyB9IGZyb20gJy4vdHlwZXMuanMnXG5cbmV4cG9ydCBjb25zdCBESVNDT1JEX0FQSV9WRVJTSU9OID0gMTBcbmV4cG9ydCBjb25zdCBESVNDT1JEX0FQSV9VUkwgPSAnaHR0cHM6Ly9kaXNjb3JkLmNvbS9hcGknXG5cbmV4cG9ydCBjb25zdCBBVURJVF9MT0dfUkVBU09OX0hFQURFUiA9ICd4LWF1ZGl0LWxvZy1yZWFzb24nXG5leHBvcnQgY29uc3QgUkFURV9MSU1JVF9SRU1BSU5JTkdfSEVBREVSID0gJ3gtcmF0ZWxpbWl0LXJlbWFpbmluZydcbmV4cG9ydCBjb25zdCBSQVRFX0xJTUlUX1JFU0VUX0FGVEVSX0hFQURFUiA9ICd4LXJhdGVsaW1pdC1yZXNldC1hZnRlcidcbmV4cG9ydCBjb25zdCBSQVRFX0xJTUlUX0dMT0JBTF9IRUFERVIgPSAneC1yYXRlbGltaXQtZ2xvYmFsJ1xuZXhwb3J0IGNvbnN0IFJBVEVfTElNSVRfQlVDS0VUX0hFQURFUiA9ICd4LXJhdGVsaW1pdC1idWNrZXQnXG5leHBvcnQgY29uc3QgUkFURV9MSU1JVF9MSU1JVF9IRUFERVIgPSAneC1yYXRlbGltaXQtbGltaXQnXG5leHBvcnQgY29uc3QgUkFURV9MSU1JVF9TQ09QRV9IRUFERVIgPSAneC1yYXRlbGltaXQtc2NvcGUnXG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVSZXN0TWFuYWdlcihvcHRpb25zOiBDcmVhdGVSZXN0TWFuYWdlck9wdGlvbnMpOiBSZXN0TWFuYWdlciB7XG4gIGNvbnN0IGFwcGxpY2F0aW9uSWQgPSBvcHRpb25zLmFwcGxpY2F0aW9uSWQgPyBCaWdJbnQob3B0aW9ucy5hcHBsaWNhdGlvbklkKSA6IGdldEJvdElkRnJvbVRva2VuKG9wdGlvbnMudG9rZW4pXG5cbiAgY29uc3QgYmFzZVVybCA9IG9wdGlvbnMucHJveHk/LmJhc2VVcmwgPz8gRElTQ09SRF9BUElfVVJMXG5cbiAgY29uc3QgcmVzdDogUmVzdE1hbmFnZXIgPSB7XG4gICAgYXBwbGljYXRpb25JZCxcbiAgICBhdXRob3JpemF0aW9uOiBvcHRpb25zLnByb3h5Py5hdXRob3JpemF0aW9uLFxuICAgIGF1dGhvcml6YXRpb25IZWFkZXI6IG9wdGlvbnMucHJveHk/LmF1dGhvcml6YXRpb25IZWFkZXIgPz8gJ2F1dGhvcml6YXRpb24nLFxuICAgIGJhc2VVcmwsXG4gICAgZGVsZXRlUXVldWVEZWxheTogNjAwMDAsXG4gICAgZ2xvYmFsbHlSYXRlTGltaXRlZDogZmFsc2UsXG4gICAgaW52YWxpZEJ1Y2tldDogY3JlYXRlSW52YWxpZFJlcXVlc3RCdWNrZXQoeyBsb2dnZXI6IG9wdGlvbnMubG9nZ2VyIH0pLFxuICAgIGlzUHJveGllZDogIWJhc2VVcmwuc3RhcnRzV2l0aChESVNDT1JEX0FQSV9VUkwpLFxuICAgIHVwZGF0ZUJlYXJlclRva2VuRW5kcG9pbnQ6IG9wdGlvbnMucHJveHk/LnVwZGF0ZUJlYXJlclRva2VuRW5kcG9pbnQsXG4gICAgbWF4UmV0cnlDb3VudDogSW5maW5pdHksXG4gICAgcHJvY2Vzc2luZ1JhdGVMaW1pdGVkUGF0aHM6IGZhbHNlLFxuICAgIHF1ZXVlczogbmV3IE1hcCgpLFxuICAgIHJhdGVMaW1pdGVkUGF0aHM6IG5ldyBNYXAoKSxcbiAgICB0b2tlbjogb3B0aW9ucy50b2tlbixcbiAgICB2ZXJzaW9uOiBvcHRpb25zLnZlcnNpb24gPz8gRElTQ09SRF9BUElfVkVSU0lPTixcbiAgICBsb2dnZXI6IG9wdGlvbnMubG9nZ2VyID8/IGxvZ2dlcixcblxuICAgIHJvdXRlczogY3JlYXRlUm91dGVzKCksXG5cbiAgICBjcmVhdGVCYXNlSGVhZGVycygpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgICd1c2VyLWFnZW50JzogYERpc2NvcmRCb3QgKGh0dHBzOi8vZ2l0aHViLmNvbS9kaXNjb3JkZW5vL2Rpc2NvcmRlbm8sIHYke0RJU0NPUkRFTk9fVkVSU0lPTn0pYCxcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgY2hlY2tSYXRlTGltaXRzKHVybCwgaWRlbnRpZmllcikge1xuICAgICAgY29uc3QgcmF0ZWxpbWl0ZWQgPSByZXN0LnJhdGVMaW1pdGVkUGF0aHMuZ2V0KGAke2lkZW50aWZpZXJ9JHt1cmx9YClcblxuICAgICAgY29uc3QgZ2xvYmFsID0gcmVzdC5yYXRlTGltaXRlZFBhdGhzLmdldCgnZ2xvYmFsJylcbiAgICAgIGNvbnN0IG5vdyA9IERhdGUubm93KClcblxuICAgICAgaWYgKHJhdGVsaW1pdGVkICYmIG5vdyA8IHJhdGVsaW1pdGVkLnJlc2V0VGltZXN0YW1wKSB7XG4gICAgICAgIHJldHVybiByYXRlbGltaXRlZC5yZXNldFRpbWVzdGFtcCAtIG5vd1xuICAgICAgfVxuXG4gICAgICBpZiAoZ2xvYmFsICYmIG5vdyA8IGdsb2JhbC5yZXNldFRpbWVzdGFtcCkge1xuICAgICAgICByZXR1cm4gZ2xvYmFsLnJlc2V0VGltZXN0YW1wIC0gbm93XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH0sXG5cbiAgICBhc3luYyB1cGRhdGVUb2tlblF1ZXVlcyhvbGRUb2tlbiwgbmV3VG9rZW4pIHtcbiAgICAgIGlmIChyZXN0LmlzUHJveGllZCkge1xuICAgICAgICBpZiAoIXJlc3QudXBkYXRlQmVhcmVyVG9rZW5FbmRwb2ludCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgIFwiVGhlICdwcm94eS51cGRhdGVCZWFyZXJUb2tlbkVuZHBvaW50JyBvcHRpb24gbmVlZHMgdG8gYmUgc2V0IHdoZW4gdXNpbmcgYSByZXN0IHByb3h5IGFuZCBuZWVkZWQgdG8gY2FsbCAndXBkYXRlVG9rZW5RdWV1ZXMnXCIsXG4gICAgICAgICAgKVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgICAgICAnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICB9IGFzIFJlY29yZDxzdHJpbmcsIHN0cmluZz5cblxuICAgICAgICBpZiAocmVzdC5hdXRob3JpemF0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBoZWFkZXJzW3Jlc3QuYXV0aG9yaXphdGlvbkhlYWRlcl0gPSByZXN0LmF1dGhvcml6YXRpb25cbiAgICAgICAgfVxuXG4gICAgICAgIGF3YWl0IGZldGNoKGAke3Jlc3QuYmFzZVVybH0vJHtyZXN0LnVwZGF0ZUJlYXJlclRva2VuRW5kcG9pbnR9YCwge1xuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgIG9sZFRva2VuLFxuICAgICAgICAgICAgbmV3VG9rZW4sXG4gICAgICAgICAgfSksXG4gICAgICAgICAgaGVhZGVycyxcbiAgICAgICAgfSlcblxuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgY29uc3QgbmV3SWRlbnRpZmllciA9IGBCZWFyZXIgJHtuZXdUb2tlbn1gXG5cbiAgICAgIC8vIFVwZGF0ZSBhbGwgdGhlIHF1ZXVlc1xuICAgICAgZm9yIChjb25zdCBba2V5LCBxdWV1ZV0gb2YgcmVzdC5xdWV1ZXMuZW50cmllcygpKSB7XG4gICAgICAgIGlmICgha2V5LnN0YXJ0c1dpdGgoYEJlYXJlciAke29sZFRva2VufWApKSBjb250aW51ZVxuXG4gICAgICAgIHJlc3QucXVldWVzLmRlbGV0ZShrZXkpXG4gICAgICAgIHF1ZXVlLmlkZW50aWZpZXIgPSBuZXdJZGVudGlmaWVyXG5cbiAgICAgICAgY29uc3QgbmV3S2V5ID0gYCR7bmV3SWRlbnRpZmllcn0ke3F1ZXVlLnVybH1gXG4gICAgICAgIGNvbnN0IG5ld1F1ZXVlID0gcmVzdC5xdWV1ZXMuZ2V0KG5ld0tleSlcblxuICAgICAgICAvLyBNZXJnZSB0aGUgcXVldWVzXG4gICAgICAgIGlmIChuZXdRdWV1ZSkge1xuICAgICAgICAgIG5ld1F1ZXVlLndhaXRpbmcudW5zaGlmdCguLi5xdWV1ZS53YWl0aW5nKVxuICAgICAgICAgIG5ld1F1ZXVlLnBlbmRpbmcudW5zaGlmdCguLi5xdWV1ZS5wZW5kaW5nKVxuXG4gICAgICAgICAgcXVldWUud2FpdGluZyA9IFtdXG4gICAgICAgICAgcXVldWUucGVuZGluZyA9IFtdXG5cbiAgICAgICAgICBxdWV1ZS5jbGVhbnVwKClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXN0LnF1ZXVlcy5zZXQobmV3S2V5LCBxdWV1ZSlcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmb3IgKGNvbnN0IFtrZXksIHJhdGVsaW1pdFBhdGhdIG9mIHJlc3QucmF0ZUxpbWl0ZWRQYXRocy5lbnRyaWVzKCkpIHtcbiAgICAgICAgaWYgKCFrZXkuc3RhcnRzV2l0aChgQmVhcmVyICR7b2xkVG9rZW59YCkpIGNvbnRpbnVlXG5cbiAgICAgICAgcmVzdC5yYXRlTGltaXRlZFBhdGhzLnNldChgJHtuZXdJZGVudGlmaWVyfSR7cmF0ZWxpbWl0UGF0aC51cmx9YCwgcmF0ZWxpbWl0UGF0aClcblxuICAgICAgICBpZiAocmF0ZWxpbWl0UGF0aC5idWNrZXRJZCkge1xuICAgICAgICAgIHJlc3QucmF0ZUxpbWl0ZWRQYXRocy5zZXQoYCR7bmV3SWRlbnRpZmllcn0ke3JhdGVsaW1pdFBhdGguYnVja2V0SWR9YCwgcmF0ZWxpbWl0UGF0aClcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBjaGFuZ2VUb0Rpc2NvcmRGb3JtYXQob2JqOiBhbnkpOiBhbnkge1xuICAgICAgaWYgKG9iaiA9PT0gbnVsbCkgcmV0dXJuIG51bGxcblxuICAgICAgaWYgKHR5cGVvZiBvYmogPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KG9iaikpIHtcbiAgICAgICAgICByZXR1cm4gb2JqLm1hcCgoaXRlbSkgPT4gcmVzdC5jaGFuZ2VUb0Rpc2NvcmRGb3JtYXQoaXRlbSkpXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBuZXdPYmo6IGFueSA9IHt9XG5cbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMob2JqKSkge1xuICAgICAgICAgIGNvbnN0IHZhbHVlID0gb2JqW2tleV1cblxuICAgICAgICAgIC8vIElmIHRoZSBrZXkgaXMgYWxyZWFkeSBpbiBzbmFrZV9jYXNlIHdlIGNhbiBhc3N1bWUgaXQgaXMgYWxyZWFkeSBpbiB0aGUgZGlzY29yZCBmb3JtYXQuXG4gICAgICAgICAgaWYgKGtleS5pbmNsdWRlcygnXycpKSB7XG4gICAgICAgICAgICBuZXdPYmpba2V5XSA9IHZhbHVlXG4gICAgICAgICAgICBjb250aW51ZVxuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIFNvbWUgZmFsc3kgdmFsdWVzIHNob3VsZCBiZSBhbGxvd2VkIGxpa2UgbnVsbCBvciAwXG4gICAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoa2V5KSB7XG4gICAgICAgICAgICAgIGNhc2UgJ3Blcm1pc3Npb25zJzpcbiAgICAgICAgICAgICAgY2FzZSAnYWxsb3cnOlxuICAgICAgICAgICAgICBjYXNlICdkZW55JzpcbiAgICAgICAgICAgICAgICBuZXdPYmpba2V5XSA9IHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgPyB2YWx1ZSA6IGNhbGN1bGF0ZUJpdHModmFsdWUpXG4gICAgICAgICAgICAgICAgY29udGludWVcbiAgICAgICAgICAgICAgY2FzZSAnZGVmYXVsdE1lbWJlclBlcm1pc3Npb25zJzpcbiAgICAgICAgICAgICAgICBuZXdPYmouZGVmYXVsdF9tZW1iZXJfcGVybWlzc2lvbnMgPSB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnID8gdmFsdWUgOiBjYWxjdWxhdGVCaXRzKHZhbHVlKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgICAgICAgIGNhc2UgJ25hbWVMb2NhbGl6YXRpb25zJzpcbiAgICAgICAgICAgICAgICBuZXdPYmoubmFtZV9sb2NhbGl6YXRpb25zID0gdmFsdWVcbiAgICAgICAgICAgICAgICBjb250aW51ZVxuICAgICAgICAgICAgICBjYXNlICdkZXNjcmlwdGlvbkxvY2FsaXphdGlvbnMnOlxuICAgICAgICAgICAgICAgIG5ld09iai5kZXNjcmlwdGlvbl9sb2NhbGl6YXRpb25zID0gdmFsdWVcbiAgICAgICAgICAgICAgICBjb250aW51ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIG5ld09ialtjYW1lbFRvU25ha2VDYXNlKGtleSldID0gcmVzdC5jaGFuZ2VUb0Rpc2NvcmRGb3JtYXQodmFsdWUpXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3T2JqXG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2Ygb2JqID09PSAnYmlnaW50JykgcmV0dXJuIG9iai50b1N0cmluZygpXG5cbiAgICAgIHJldHVybiBvYmpcbiAgICB9LFxuXG4gICAgY3JlYXRlUmVxdWVzdEJvZHkobWV0aG9kLCBvcHRpb25zKSB7XG4gICAgICBjb25zdCBoZWFkZXJzID0gdGhpcy5jcmVhdGVCYXNlSGVhZGVycygpXG5cbiAgICAgIGlmIChvcHRpb25zPy51bmF1dGhvcml6ZWQgIT09IHRydWUpIGhlYWRlcnMuYXV0aG9yaXphdGlvbiA9IGBCb3QgJHtyZXN0LnRva2VufWBcblxuICAgICAgLy8gSUYgQSBSRUFTT04gSVMgUFJPVklERUQgRU5DT0RFIElUIElOIEhFQURFUlNcbiAgICAgIGlmIChvcHRpb25zPy5yZWFzb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBoZWFkZXJzW0FVRElUX0xPR19SRUFTT05fSEVBREVSXSA9IGVuY29kZVVSSUNvbXBvbmVudChvcHRpb25zPy5yZWFzb24pXG4gICAgICB9XG5cbiAgICAgIGxldCBib2R5OiBzdHJpbmcgfCBGb3JtRGF0YSB8IHVuZGVmaW5lZFxuXG4gICAgICAvLyBUT0RPOiBjaGVjayBpZiB3ZSBuZWVkIHRvIGFkZCBzcGVjaWZpYyBjaGVjayBmb3IgR0VUIG1ldGhvZFxuICAgICAgLy8gU2luY2UgR0VUIGRvZXMgbm90IGFsbG93IGJvZGllc1xuXG4gICAgICAvLyBIYXZlIHRvIGNoZWNrIGZvciBhdHRhY2htZW50cyBmaXJzdCwgc2luY2UgYm9keSB0aGVuIGhhcyB0byBiZSBzZW5kIGluIGEgZGlmZmVyZW50IHdheS5cbiAgICAgIGlmIChvcHRpb25zPy5maWxlcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnN0IGZvcm0gPSBuZXcgRm9ybURhdGEoKVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9wdGlvbnMuZmlsZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICBmb3JtLmFwcGVuZChgZmlsZXNbJHtpfV1gLCBvcHRpb25zLmZpbGVzW2ldLmJsb2IsIG9wdGlvbnMuZmlsZXNbaV0ubmFtZSlcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEhhdmUgdG8gdXNlIGNoYW5nZVRvRGlzY29yZEZvcm1hdCBvciBlbHNlIEpTT04uc3RyaW5naWZ5IG1heSB0aHJvdyBhbiBlcnJvciBmb3IgdGhlIHByZXNlbmNlIG9mIEJpZ0ludChzKSBpbiB0aGUganNvblxuICAgICAgICBmb3JtLmFwcGVuZCgncGF5bG9hZF9qc29uJywgSlNPTi5zdHJpbmdpZnkocmVzdC5jaGFuZ2VUb0Rpc2NvcmRGb3JtYXQoeyAuLi5vcHRpb25zLmJvZHksIGZpbGVzOiB1bmRlZmluZWQgfSkpKVxuXG4gICAgICAgIC8vIE5vIG5lZWQgdG8gc2V0IHRoZSBgY29udGVudC10eXBlYCBoZWFkZXIgc2luY2UgYGZldGNoYCBkb2VzIHRoYXQgYXV0b21hdGljYWxseSBmb3IgdXMgd2hlbiB3ZSB1c2UgYSBgRm9ybURhdGFgIG9iamVjdC5cbiAgICAgICAgYm9keSA9IGZvcm1cbiAgICAgIH0gZWxzZSBpZiAob3B0aW9ucz8uYm9keSAmJiBvcHRpb25zLmhlYWRlcnMgJiYgb3B0aW9ucy5oZWFkZXJzWydjb250ZW50LXR5cGUnXSA9PT0gJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcpIHtcbiAgICAgICAgLy8gT0F1dGgyIGJvZHkgaGFuZGxpbmdcbiAgICAgICAgY29uc3QgZm9ybUJvZHk6IHN0cmluZ1tdID0gW11cblxuICAgICAgICBjb25zdCBkaXNjb3JkQm9keSA9IHJlc3QuY2hhbmdlVG9EaXNjb3JkRm9ybWF0KG9wdGlvbnMuYm9keSlcblxuICAgICAgICBmb3IgKGNvbnN0IHByb3AgaW4gZGlzY29yZEJvZHkpIHtcbiAgICAgICAgICBmb3JtQm9keS5wdXNoKGAke2VuY29kZVVSSUNvbXBvbmVudChwcm9wKX09JHtlbmNvZGVVUklDb21wb25lbnQoZGlzY29yZEJvZHlbcHJvcF0pfWApXG4gICAgICAgIH1cblxuICAgICAgICBib2R5ID0gZm9ybUJvZHkuam9pbignJicpXG4gICAgICB9IGVsc2UgaWYgKG9wdGlvbnM/LmJvZHkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAob3B0aW9ucy5ib2R5IGluc3RhbmNlb2YgRm9ybURhdGEpIHtcbiAgICAgICAgICBib2R5ID0gb3B0aW9ucy5ib2R5XG4gICAgICAgICAgLy8gTm8gbmVlZCB0byBzZXQgdGhlIGBjb250ZW50LXR5cGVgIGhlYWRlciBzaW5jZSBgZmV0Y2hgIGRvZXMgdGhhdCBhdXRvbWF0aWNhbGx5IGZvciB1cyB3aGVuIHdlIHVzZSBhIGBGb3JtRGF0YWAgb2JqZWN0LlxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeShyZXN0LmNoYW5nZVRvRGlzY29yZEZvcm1hdChvcHRpb25zLmJvZHkpKVxuICAgICAgICAgIGhlYWRlcnNbJ2NvbnRlbnQtdHlwZSddID0gYGFwcGxpY2F0aW9uL2pzb25gXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gU09NRVRJTUVTIFNQRUNJQUwgSEVBREVSUyAoRS5HLiBDVVNUT00gQVVUSE9SSVpBVElPTikgTkVFRCBUTyBCRSBVU0VEXG4gICAgICBpZiAob3B0aW9ucz8uaGVhZGVycykge1xuICAgICAgICBPYmplY3QuYXNzaWduKGhlYWRlcnMsIG9wdGlvbnMuaGVhZGVycylcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgYm9keSxcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgbWV0aG9kLFxuICAgICAgfVxuICAgIH0sXG5cbiAgICBwcm9jZXNzUmF0ZUxpbWl0ZWRQYXRocygpIHtcbiAgICAgIGNvbnN0IG5vdyA9IERhdGUubm93KClcblxuICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgcmVzdC5yYXRlTGltaXRlZFBhdGhzLmVudHJpZXMoKSkge1xuICAgICAgICAvLyAgIHJlc3QuZGVidWcoXG4gICAgICAgIC8vIGBbUkVTVCAtIHByb2Nlc3NSYXRlTGltaXRlZFBhdGhzXSBSdW5uaW5nIGZvciBvZiBsb29wLiAke1xuICAgICAgICAvLyAgIHZhbHVlLnJlc2V0VGltZXN0YW1wIC0gbm93XG4gICAgICAgIC8vIH1gXG4gICAgICAgIC8vICAgKVxuICAgICAgICAvLyBJZiB0aGUgdGltZSBoYXMgbm90IHJlYWNoZWQgY2FuY2VsXG4gICAgICAgIGlmICh2YWx1ZS5yZXNldFRpbWVzdGFtcCA+IG5vdykgY29udGludWVcblxuICAgICAgICAvLyBSYXRlIGxpbWl0IGlzIG92ZXIsIGRlbGV0ZSB0aGUgcmF0ZSBsaW1pdGVyXG4gICAgICAgIHJlc3QucmF0ZUxpbWl0ZWRQYXRocy5kZWxldGUoa2V5KVxuICAgICAgICAvLyBJZiBpdCB3YXMgZ2xvYmFsLCBhbHNvIG1hcmsgdGhlIGdsb2JhbCB2YWx1ZSBhcyBmYWxzZVxuICAgICAgICBpZiAoa2V5ID09PSAnZ2xvYmFsJykgcmVzdC5nbG9iYWxseVJhdGVMaW1pdGVkID0gZmFsc2VcbiAgICAgIH1cblxuICAgICAgLy8gQUxMIFBBVEhTIEFSRSBDTEVBUkVEIENBTiBDQU5DRUwgT1VUIVxuICAgICAgaWYgKHJlc3QucmF0ZUxpbWl0ZWRQYXRocy5zaXplID09PSAwKSB7XG4gICAgICAgIHJlc3QucHJvY2Vzc2luZ1JhdGVMaW1pdGVkUGF0aHMgPSBmYWxzZVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdC5wcm9jZXNzaW5nUmF0ZUxpbWl0ZWRQYXRocyA9IHRydWVcbiAgICAgICAgLy8gUkVDSEVDSyBJTiAxIFNFQ09ORFxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAvLyByZXN0LmRlYnVnKCdbUkVTVCAtIHByb2Nlc3NSYXRlTGltaXRlZFBhdGhzXSBSdW5uaW5nIHNldFRpbWVvdXQuJylcbiAgICAgICAgICByZXN0LnByb2Nlc3NSYXRlTGltaXRlZFBhdGhzKClcbiAgICAgICAgfSwgMTAwMClcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqIFByb2Nlc3NlcyB0aGUgcmF0ZSBsaW1pdCBoZWFkZXJzIGFuZCBkZXRlcm1pbmVzIGlmIGl0IG5lZWRzIHRvIGJlIHJhdGUgbGltaXRlZCBhbmQgcmV0dXJucyB0aGUgYnVja2V0IGlkIGlmIGF2YWlsYWJsZSAqL1xuICAgIHByb2Nlc3NIZWFkZXJzKHVybCwgaGVhZGVycywgaWRlbnRpZmllcikge1xuICAgICAgbGV0IHJhdGVMaW1pdGVkID0gZmFsc2VcblxuICAgICAgLy8gR0VUIEFMTCBORUNFU1NBUlkgSEVBREVSU1xuICAgICAgY29uc3QgcmVtYWluaW5nID0gaGVhZGVycy5nZXQoUkFURV9MSU1JVF9SRU1BSU5JTkdfSEVBREVSKVxuICAgICAgY29uc3QgcmV0cnlBZnRlciA9IGhlYWRlcnMuZ2V0KFJBVEVfTElNSVRfUkVTRVRfQUZURVJfSEVBREVSKVxuICAgICAgY29uc3QgcmVzZXQgPSBEYXRlLm5vdygpICsgTnVtYmVyKHJldHJ5QWZ0ZXIpICogMTAwMFxuICAgICAgY29uc3QgZ2xvYmFsID0gaGVhZGVycy5nZXQoUkFURV9MSU1JVF9HTE9CQUxfSEVBREVSKVxuICAgICAgLy8gdW5kZWZpbmVkIG92ZXJyaWRlIG51bGwgbmVlZGVkIGZvciB0eXBpbmdzXG4gICAgICBjb25zdCBidWNrZXRJZCA9IGhlYWRlcnMuZ2V0KFJBVEVfTElNSVRfQlVDS0VUX0hFQURFUikgPz8gdW5kZWZpbmVkXG4gICAgICBjb25zdCBsaW1pdCA9IGhlYWRlcnMuZ2V0KFJBVEVfTElNSVRfTElNSVRfSEVBREVSKVxuXG4gICAgICAvLyBJZiB3ZSBkaWRuJ3QgcmVjZWl2ZWQgdGhlIGlkZW50aWZpZXIsIGZhbGxiYWNrIHRvIHRoZSBib3QgdG9rZW5cbiAgICAgIGlkZW50aWZpZXIgPz89IGBCb3QgJHtyZXN0LnRva2VufWBcblxuICAgICAgcmVzdC5xdWV1ZXMuZ2V0KGAke2lkZW50aWZpZXJ9JHt1cmx9YCk/LmhhbmRsZUNvbXBsZXRlZFJlcXVlc3Qoe1xuICAgICAgICByZW1haW5pbmc6IHJlbWFpbmluZyA/IE51bWJlcihyZW1haW5pbmcpIDogdW5kZWZpbmVkLFxuICAgICAgICBpbnRlcnZhbDogcmV0cnlBZnRlciA/IE51bWJlcihyZXRyeUFmdGVyKSAqIDEwMDAgOiB1bmRlZmluZWQsXG4gICAgICAgIG1heDogbGltaXQgPyBOdW1iZXIobGltaXQpIDogdW5kZWZpbmVkLFxuICAgICAgfSlcblxuICAgICAgLy8gSUYgVEhFUkUgSVMgTk8gUkVNQUlOSU5HIFJBVEUgTElNSVQsIE1BUksgSVQgQVMgUkFURSBMSU1JVEVEXG4gICAgICBpZiAocmVtYWluaW5nID09PSAnMCcpIHtcbiAgICAgICAgcmF0ZUxpbWl0ZWQgPSB0cnVlXG5cbiAgICAgICAgLy8gU0FWRSBUSEUgVVJMIEFTIExJTUlURUQsIElNUE9SVEFOVCBGT1IgTkVXIFJFUVVFU1RTIEJZIFVTRVIgV0lUSE9VVCBCVUNLRVRcbiAgICAgICAgcmVzdC5yYXRlTGltaXRlZFBhdGhzLnNldChgJHtpZGVudGlmaWVyfSR7dXJsfWAsIHtcbiAgICAgICAgICB1cmwsXG4gICAgICAgICAgcmVzZXRUaW1lc3RhbXA6IHJlc2V0LFxuICAgICAgICAgIGJ1Y2tldElkLFxuICAgICAgICB9KVxuXG4gICAgICAgIC8vIFNBVkUgVEhFIEJVQ0tFVCBBUyBMSU1JVEVEIFNJTkNFIERJRkZFUkVOVCBVUkxTIE1BWSBTSEFSRSBBIEJVQ0tFVFxuICAgICAgICBpZiAoYnVja2V0SWQpIHtcbiAgICAgICAgICByZXN0LnJhdGVMaW1pdGVkUGF0aHMuc2V0KGAke2lkZW50aWZpZXJ9JHtidWNrZXRJZH1gLCB7XG4gICAgICAgICAgICB1cmwsXG4gICAgICAgICAgICByZXNldFRpbWVzdGFtcDogcmVzZXQsXG4gICAgICAgICAgICBidWNrZXRJZCxcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIElGIFRIRVJFIElTIE5PIFJFTUFJTklORyBHTE9CQUwgTElNSVQsIE1BUksgSVQgUkFURSBMSU1JVEVEIEdMT0JBTExZXG4gICAgICBpZiAoZ2xvYmFsKSB7XG4gICAgICAgIGNvbnN0IHJldHJ5QWZ0ZXIgPSBOdW1iZXIoaGVhZGVycy5nZXQoJ3JldHJ5LWFmdGVyJykpICogMTAwMFxuICAgICAgICBjb25zdCBnbG9iYWxSZXNldCA9IERhdGUubm93KCkgKyByZXRyeUFmdGVyXG4gICAgICAgIC8vICAgcmVzdC5kZWJ1ZyhcbiAgICAgICAgLy8gYFtSRVNUID0gR2xvYmFsbHkgUmF0ZSBMaW1pdGVkXSBVUkw6ICR7dXJsfSB8IEdsb2JhbCBSZXN0OiAke2dsb2JhbFJlc2V0fWBcbiAgICAgICAgLy8gICApXG4gICAgICAgIHJlc3QuZ2xvYmFsbHlSYXRlTGltaXRlZCA9IHRydWVcbiAgICAgICAgcmF0ZUxpbWl0ZWQgPSB0cnVlXG5cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgcmVzdC5nbG9iYWxseVJhdGVMaW1pdGVkID0gZmFsc2VcbiAgICAgICAgfSwgcmV0cnlBZnRlcilcblxuICAgICAgICByZXN0LnJhdGVMaW1pdGVkUGF0aHMuc2V0KCdnbG9iYWwnLCB7XG4gICAgICAgICAgdXJsOiAnZ2xvYmFsJyxcbiAgICAgICAgICByZXNldFRpbWVzdGFtcDogZ2xvYmFsUmVzZXQsXG4gICAgICAgICAgYnVja2V0SWQsXG4gICAgICAgIH0pXG5cbiAgICAgICAgaWYgKGJ1Y2tldElkKSB7XG4gICAgICAgICAgcmVzdC5yYXRlTGltaXRlZFBhdGhzLnNldChpZGVudGlmaWVyLCB7XG4gICAgICAgICAgICB1cmw6ICdnbG9iYWwnLFxuICAgICAgICAgICAgcmVzZXRUaW1lc3RhbXA6IGdsb2JhbFJlc2V0LFxuICAgICAgICAgICAgYnVja2V0SWQsXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAocmF0ZUxpbWl0ZWQgJiYgIXJlc3QucHJvY2Vzc2luZ1JhdGVMaW1pdGVkUGF0aHMpIHtcbiAgICAgICAgcmVzdC5wcm9jZXNzUmF0ZUxpbWl0ZWRQYXRocygpXG4gICAgICB9XG4gICAgICByZXR1cm4gcmF0ZUxpbWl0ZWQgPyBidWNrZXRJZCA6IHVuZGVmaW5lZFxuICAgIH0sXG5cbiAgICBhc3luYyBzZW5kUmVxdWVzdChvcHRpb25zKSB7XG4gICAgICBjb25zdCB1cmwgPSBgJHtyZXN0LmJhc2VVcmx9L3Yke3Jlc3QudmVyc2lvbn0ke29wdGlvbnMucm91dGV9YFxuICAgICAgY29uc3QgcGF5bG9hZCA9IHJlc3QuY3JlYXRlUmVxdWVzdEJvZHkob3B0aW9ucy5tZXRob2QsIG9wdGlvbnMucmVxdWVzdEJvZHlPcHRpb25zKVxuXG4gICAgICBjb25zdCBsb2dnaW5nSGVhZGVycyA9IHsgLi4ucGF5bG9hZC5oZWFkZXJzIH1cblxuICAgICAgaWYgKHBheWxvYWQuaGVhZGVycy5hdXRob3JpemF0aW9uKSB7XG4gICAgICAgIGNvbnN0IGF1dGhvcml6YXRpb25TY2hlbWUgPSBwYXlsb2FkLmhlYWRlcnMuYXV0aG9yaXphdGlvbj8uc3BsaXQoJyAnKVswXVxuICAgICAgICBsb2dnaW5nSGVhZGVycy5hdXRob3JpemF0aW9uID0gYCR7YXV0aG9yaXphdGlvblNjaGVtZX0gdG9rZW5oZXJlYFxuICAgICAgfVxuXG4gICAgICByZXN0LmxvZ2dlci5kZWJ1Zyhgc2VuZGluZyByZXF1ZXN0IHRvICR7dXJsfWAsICd3aXRoIHBheWxvYWQ6JywgeyAuLi5wYXlsb2FkLCBoZWFkZXJzOiBsb2dnaW5nSGVhZGVycyB9KVxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwsIHBheWxvYWQpLmNhdGNoKGFzeW5jIChlcnJvcikgPT4ge1xuICAgICAgICByZXN0LmxvZ2dlci5lcnJvcihlcnJvcilcbiAgICAgICAgLy8gTWFyayByZXF1ZXN0IGFuZCBjb21wbGV0ZWRcbiAgICAgICAgcmVzdC5pbnZhbGlkQnVja2V0LmhhbmRsZUNvbXBsZXRlZFJlcXVlc3QoOTk5LCBmYWxzZSlcbiAgICAgICAgb3B0aW9ucy5yZWplY3Qoe1xuICAgICAgICAgIG9rOiBmYWxzZSxcbiAgICAgICAgICBzdGF0dXM6IDk5OSxcbiAgICAgICAgICBlcnJvcjogJ1Bvc3NpYmxlIG5ldHdvcmsgb3IgcmVxdWVzdCBzaGFwZSBpc3N1ZSBvY2N1cnJlZC4gSWYgdGhpcyBpcyByYXJlLCBpdHMgYSBuZXR3b3JrIGdsaXRjaC4gSWYgaXQgb2NjdXJzIGEgbG90IHNvbWV0aGluZyBpcyB3cm9uZy4nLFxuICAgICAgICB9KVxuICAgICAgICB0aHJvdyBlcnJvclxuICAgICAgfSlcbiAgICAgIHJlc3QubG9nZ2VyLmRlYnVnKGByZXF1ZXN0IGZldGNoZWQgZnJvbSAke3VybH0gd2l0aCBzdGF0dXMgJHtyZXNwb25zZS5zdGF0dXN9ICYgJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApXG5cbiAgICAgIC8vIE1hcmsgcmVxdWVzdCBhbmQgY29tcGxldGVkXG4gICAgICByZXN0LmludmFsaWRCdWNrZXQuaGFuZGxlQ29tcGxldGVkUmVxdWVzdChyZXNwb25zZS5zdGF0dXMsIHJlc3BvbnNlLmhlYWRlcnMuZ2V0KFJBVEVfTElNSVRfU0NPUEVfSEVBREVSKSA9PT0gJ3NoYXJlZCcpXG5cbiAgICAgIC8vIFNldCB0aGUgYnVja2V0IGlkIGlmIGl0IHdhcyBhdmFpbGFibGUgb24gdGhlIGhlYWRlcnNcbiAgICAgIGNvbnN0IGJ1Y2tldElkID0gcmVzdC5wcm9jZXNzSGVhZGVycyhyZXN0LnNpbXBsaWZ5VXJsKG9wdGlvbnMucm91dGUsIG9wdGlvbnMubWV0aG9kKSwgcmVzcG9uc2UuaGVhZGVycywgcGF5bG9hZC5oZWFkZXJzLmF1dGhvcml6YXRpb24pXG5cbiAgICAgIGlmIChidWNrZXRJZCkgb3B0aW9ucy5idWNrZXRJZCA9IGJ1Y2tldElkXG5cbiAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPCBIdHRwUmVzcG9uc2VDb2RlLlN1Y2Nlc3MgfHwgcmVzcG9uc2Uuc3RhdHVzID49IEh0dHBSZXNwb25zZUNvZGUuRXJyb3IpIHtcbiAgICAgICAgcmVzdC5sb2dnZXIuZGVidWcoYFJlcXVlc3QgdG8gJHt1cmx9IGZhaWxlZC5gKVxuXG4gICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgIT09IEh0dHBSZXNwb25zZUNvZGUuVG9vTWFueVJlcXVlc3RzKSB7XG4gICAgICAgICAgb3B0aW9ucy5yZWplY3QoeyBvazogZmFsc2UsIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzLCBib2R5OiBhd2FpdCByZXNwb25zZS50ZXh0KCkgfSlcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIHJlc3QubG9nZ2VyLmRlYnVnKGBSZXF1ZXN0IHRvICR7dXJsfSB3YXMgcmF0ZWxpbWl0ZWQuYClcbiAgICAgICAgLy8gVG9vIG1hbnkgYXR0ZW1wdHMsIGdldCByaWQgb2YgcmVxdWVzdCBmcm9tIHF1ZXVlLlxuICAgICAgICBpZiAob3B0aW9ucy5yZXRyeUNvdW50ID49IHJlc3QubWF4UmV0cnlDb3VudCkge1xuICAgICAgICAgIHJlc3QubG9nZ2VyLmRlYnVnKGBSZXF1ZXN0IHRvICR7dXJsfSBleGNlZWRlZCB0aGUgbWF4aW11bSBhbGxvd2VkIHJldHJpZXMuYCwgJ3dpdGggcGF5bG9hZDonLCBwYXlsb2FkKVxuICAgICAgICAgIC8vIHJlc3QuZGVidWcoYFtSRVNUIC0gUmV0cmllc01heGVkXSAke0pTT04uc3RyaW5naWZ5KG9wdGlvbnMpfWApXG4gICAgICAgICAgb3B0aW9ucy5yZWplY3Qoe1xuICAgICAgICAgICAgb2s6IGZhbHNlLFxuICAgICAgICAgICAgc3RhdHVzOiByZXNwb25zZS5zdGF0dXMsXG4gICAgICAgICAgICBlcnJvcjogJ1RoZSByZXF1ZXN0IHdhcyByYXRlIGxpbWl0ZWQgYW5kIGl0IG1heGVkIG91dCB0aGUgcmV0cmllcyBsaW1pdC4nLFxuICAgICAgICAgIH0pXG5cbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIG9wdGlvbnMucmV0cnlDb3VudCArPSAxXG5cbiAgICAgICAgY29uc3QgcmVzZXRBZnRlciA9IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KFJBVEVfTElNSVRfUkVTRVRfQUZURVJfSEVBREVSKVxuICAgICAgICBpZiAocmVzZXRBZnRlcikgYXdhaXQgZGVsYXkoTnVtYmVyKHJlc2V0QWZ0ZXIpICogMTAwMClcbiAgICAgICAgLy8gcHJvY2VzcyB0aGUgcmVzcG9uc2UgdG8gcHJldmVudCBtZW0gbGVha1xuICAgICAgICBhd2FpdCByZXNwb25zZS5hcnJheUJ1ZmZlcigpXG5cbiAgICAgICAgcmV0dXJuIGF3YWl0IG9wdGlvbnMucmV0cnlSZXF1ZXN0Py4ob3B0aW9ucylcbiAgICAgIH1cblxuICAgICAgLy8gRGlzY29yZCBzb21ldGltZXMgc2VuZHMgbm8gcmVzcG9uc2Ugd2l0aCBubyBjb250ZW50LlxuICAgICAgb3B0aW9ucy5yZXNvbHZlKHsgb2s6IHRydWUsIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzLCBib2R5OiByZXNwb25zZS5zdGF0dXMgPT09IEh0dHBSZXNwb25zZUNvZGUuTm9Db250ZW50ID8gdW5kZWZpbmVkIDogYXdhaXQgcmVzcG9uc2UudGV4dCgpIH0pXG4gICAgfSxcblxuICAgIHNpbXBsaWZ5VXJsKHVybCwgbWV0aG9kKSB7XG4gICAgICBjb25zdCBwYXJ0cyA9IHVybC5zcGxpdCgnLycpXG4gICAgICBjb25zdCBzZWNvbmRMYXN0UGFydCA9IHBhcnRzW3BhcnRzLmxlbmd0aCAtIDJdXG5cbiAgICAgIGlmIChzZWNvbmRMYXN0UGFydCA9PT0gJ2NoYW5uZWxzJyB8fCBzZWNvbmRMYXN0UGFydCA9PT0gJ2d1aWxkcycpIHtcbiAgICAgICAgcmV0dXJuIHVybFxuICAgICAgfVxuXG4gICAgICBpZiAoc2Vjb25kTGFzdFBhcnQgPT09ICdyZWFjdGlvbnMnIHx8IHBhcnRzW3BhcnRzLmxlbmd0aCAtIDFdID09PSAnQG1lJykge1xuICAgICAgICBwYXJ0cy5zcGxpY2UoLTIpXG4gICAgICAgIHBhcnRzLnB1c2goJ3JlYWN0aW9ucycpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXJ0cy5zcGxpY2UoLTEpXG4gICAgICAgIHBhcnRzLnB1c2goJ3gnKVxuICAgICAgfVxuXG4gICAgICBpZiAocGFydHNbcGFydHMubGVuZ3RoIC0gM10gPT09ICdyZWFjdGlvbnMnKSB7XG4gICAgICAgIHBhcnRzLnNwbGljZSgtMilcbiAgICAgIH1cblxuICAgICAgaWYgKG1ldGhvZCA9PT0gJ0RFTEVURScgJiYgc2Vjb25kTGFzdFBhcnQgPT09ICdtZXNzYWdlcycpIHtcbiAgICAgICAgcmV0dXJuIGBEJHtwYXJ0cy5qb2luKCcvJyl9YFxuICAgICAgfVxuXG4gICAgICByZXR1cm4gcGFydHMuam9pbignLycpXG4gICAgfSxcblxuICAgIGFzeW5jIHByb2Nlc3NSZXF1ZXN0KHJlcXVlc3Q6IFNlbmRSZXF1ZXN0T3B0aW9ucykge1xuICAgICAgY29uc3QgdXJsID0gcmVzdC5zaW1wbGlmeVVybChyZXF1ZXN0LnJvdXRlLCByZXF1ZXN0Lm1ldGhvZClcblxuICAgICAgaWYgKHJlcXVlc3QucnVuVGhyb3VnaFF1ZXVlID09PSBmYWxzZSkge1xuICAgICAgICBhd2FpdCByZXN0LnNlbmRSZXF1ZXN0KHJlcXVlc3QpXG5cbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIC8vIElmIHdlIHRoZSByZXF1ZXN0IGhhcyBhIHRva2VuLCB1c2UgaXRcbiAgICAgIC8vIEVsc2UgZmFsbGJhY2sgdG8gcHJlZml4IHdpdGggdGhlIGJvdCB0b2tlblxuICAgICAgY29uc3QgcXVldWVJZGVudGlmaWVyID0gcmVxdWVzdC5yZXF1ZXN0Qm9keU9wdGlvbnM/LmhlYWRlcnM/LmF1dGhvcml6YXRpb24gPz8gYEJvdCAke3Jlc3QudG9rZW59YFxuXG4gICAgICBjb25zdCBxdWV1ZSA9IHJlc3QucXVldWVzLmdldChgJHtxdWV1ZUlkZW50aWZpZXJ9JHt1cmx9YClcblxuICAgICAgaWYgKHF1ZXVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcXVldWUubWFrZVJlcXVlc3QocmVxdWVzdClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIENSRUFURVMgQSBORVcgUVVFVUVcbiAgICAgICAgY29uc3QgYnVja2V0UXVldWUgPSBuZXcgUXVldWUocmVzdCwgeyB1cmwsIGRlbGV0ZVF1ZXVlRGVsYXk6IHJlc3QuZGVsZXRlUXVldWVEZWxheSwgaWRlbnRpZmllcjogcXVldWVJZGVudGlmaWVyIH0pXG5cbiAgICAgICAgLy8gU2F2ZSBxdWV1ZVxuICAgICAgICByZXN0LnF1ZXVlcy5zZXQoYCR7cXVldWVJZGVudGlmaWVyfSR7dXJsfWAsIGJ1Y2tldFF1ZXVlKVxuXG4gICAgICAgIC8vIEFkZCByZXF1ZXN0IHRvIHF1ZXVlXG4gICAgICAgIGJ1Y2tldFF1ZXVlLm1ha2VSZXF1ZXN0KHJlcXVlc3QpXG4gICAgICB9XG4gICAgfSxcblxuICAgIGFzeW5jIG1ha2VSZXF1ZXN0KG1ldGhvZCwgcm91dGUsIG9wdGlvbnMpIHtcbiAgICAgIC8vIFRoaXMgZXJyb3IgbmVlZHMgdG8gYmUgY3JlYXRlZCBoZXJlIGJlY2F1c2Ugb2YgaG93IHN0YWNrIHRyYWNlcyBnZXQgY2FsY3VsYXRlZFxuICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoKVxuICAgICAgZXJyb3IubWVzc2FnZSA9ICdGYWlsZWQgdG8gc2VuZCByZXF1ZXN0IHRvIGRpc2NvcmQuJ1xuXG4gICAgICBpZiAocmVzdC5pc1Byb3hpZWQpIHtcbiAgICAgICAgaWYgKHJlc3QuYXV0aG9yaXphdGlvbikge1xuICAgICAgICAgIG9wdGlvbnMgPz89IHt9XG4gICAgICAgICAgb3B0aW9ucy5oZWFkZXJzID8/PSB7fVxuICAgICAgICAgIG9wdGlvbnMuaGVhZGVyc1tyZXN0LmF1dGhvcml6YXRpb25IZWFkZXJdID0gcmVzdC5hdXRob3JpemF0aW9uXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBmZXRjaChgJHtyZXN0LmJhc2VVcmx9L3Yke3Jlc3QudmVyc2lvbn0ke3JvdXRlfWAsIHJlc3QuY3JlYXRlUmVxdWVzdEJvZHkobWV0aG9kLCBvcHRpb25zKSlcblxuICAgICAgICBpZiAoIXJlc3VsdC5vaykge1xuICAgICAgICAgIGNvbnN0IGVyclRleHQgPSBhd2FpdCByZXN1bHQudGV4dCgpLmNhdGNoKCgpID0+IG51bGwpXG5cbiAgICAgICAgICBpZiAoZXJyVGV4dCkge1xuICAgICAgICAgICAgZXJyb3IuY2F1c2UgPSB7XG4gICAgICAgICAgICAgIG9rOiBmYWxzZSxcbiAgICAgICAgICAgICAgc3RhdHVzOiByZXN1bHQuc3RhdHVzLFxuICAgICAgICAgICAgICBib2R5OiBlcnJUZXh0LFxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aHJvdyBlcnJvclxuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IGVyciA9IChhd2FpdCByZXN1bHQuanNvbigpLmNhdGNoKCgpID0+IHt9KSkgYXMgUmVjb3JkPHN0cmluZywgYW55PlxuICAgICAgICAgIC8vIExlZ2FjeSBIYW5kbGluZyB0byBub3QgYnJlYWsgb2xkIGNvZGUgb3Igd2hlbiBib2R5IGlzIG1pc3NpbmdcbiAgICAgICAgICBpZiAoIWVycj8uYm9keSkgdGhyb3cgbmV3IEVycm9yKGBFcnJvcjogJHtlcnIubWVzc2FnZSA/PyByZXN1bHQuc3RhdHVzVGV4dH1gKVxuXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKEpTT04uc3RyaW5naWZ5KGVycikpXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0LnN0YXR1cyAhPT0gMjA0ID8gYXdhaXQgcmVzdWx0Lmpzb24oKSA6IHVuZGVmaW5lZFxuICAgICAgfVxuXG4gICAgICByZXR1cm4gYXdhaXQgbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBjb25zdCBwYXlsb2FkOiBTZW5kUmVxdWVzdE9wdGlvbnMgPSB7XG4gICAgICAgICAgcm91dGUsXG4gICAgICAgICAgbWV0aG9kLFxuICAgICAgICAgIHJlcXVlc3RCb2R5T3B0aW9uczogb3B0aW9ucyxcbiAgICAgICAgICByZXRyeUNvdW50OiAwLFxuICAgICAgICAgIHJldHJ5UmVxdWVzdDogYXN5bmMgKHBheWxvYWQ6IFNlbmRSZXF1ZXN0T3B0aW9ucykgPT4ge1xuICAgICAgICAgICAgYXdhaXQgcmVzdC5wcm9jZXNzUmVxdWVzdChwYXlsb2FkKVxuICAgICAgICAgIH0sXG4gICAgICAgICAgcmVzb2x2ZTogKGRhdGEpID0+IHtcbiAgICAgICAgICAgIHJlc29sdmUoZGF0YS5zdGF0dXMgIT09IDIwNCA/IEpTT04ucGFyc2UoZGF0YS5ib2R5ID8/ICd7fScpIDogdW5kZWZpbmVkKVxuICAgICAgICAgIH0sXG4gICAgICAgICAgcmVqZWN0OiAocmVhc29uKSA9PiB7XG4gICAgICAgICAgICBlcnJvci5jYXVzZSA9IHJlYXNvblxuICAgICAgICAgICAgcmVqZWN0KGVycm9yKVxuICAgICAgICAgIH0sXG4gICAgICAgICAgcnVuVGhyb3VnaFF1ZXVlOiBvcHRpb25zPy5ydW5UaHJvdWdoUXVldWUsXG4gICAgICAgIH1cblxuICAgICAgICBhd2FpdCByZXN0LnByb2Nlc3NSZXF1ZXN0KHBheWxvYWQpXG4gICAgICB9KVxuICAgIH0sXG5cbiAgICBhc3luYyBnZXQ8VCA9IFJlY29yZDxzdHJpbmcsIHVua25vd24+Pih1cmw6IHN0cmluZywgb3B0aW9ucz86IE9taXQ8Q3JlYXRlUmVxdWVzdEJvZHlPcHRpb25zLCAnYm9keScgfCAnbWV0aG9kJz4pIHtcbiAgICAgIHJldHVybiBjYW1lbGl6ZShhd2FpdCByZXN0Lm1ha2VSZXF1ZXN0KCdHRVQnLCB1cmwsIG9wdGlvbnMpKSBhcyBDYW1lbGl6ZTxUPlxuICAgIH0sXG5cbiAgICBhc3luYyBwb3N0PFQgPSBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPj4odXJsOiBzdHJpbmcsIG9wdGlvbnM/OiBPbWl0PENyZWF0ZVJlcXVlc3RCb2R5T3B0aW9ucywgJ2JvZHknIHwgJ21ldGhvZCc+KSB7XG4gICAgICByZXR1cm4gY2FtZWxpemUoYXdhaXQgcmVzdC5tYWtlUmVxdWVzdCgnUE9TVCcsIHVybCwgb3B0aW9ucykpIGFzIENhbWVsaXplPFQ+XG4gICAgfSxcblxuICAgIGFzeW5jIGRlbGV0ZSh1cmw6IHN0cmluZywgb3B0aW9ucz86IE9taXQ8Q3JlYXRlUmVxdWVzdEJvZHlPcHRpb25zLCAnYm9keScgfCAnbWV0aG9kJz4pIHtcbiAgICAgIGNhbWVsaXplKGF3YWl0IHJlc3QubWFrZVJlcXVlc3QoJ0RFTEVURScsIHVybCwgb3B0aW9ucykpXG4gICAgfSxcblxuICAgIGFzeW5jIHBhdGNoPFQgPSBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPj4odXJsOiBzdHJpbmcsIG9wdGlvbnM/OiBPbWl0PENyZWF0ZVJlcXVlc3RCb2R5T3B0aW9ucywgJ2JvZHknIHwgJ21ldGhvZCc+KSB7XG4gICAgICByZXR1cm4gY2FtZWxpemUoYXdhaXQgcmVzdC5tYWtlUmVxdWVzdCgnUEFUQ0gnLCB1cmwsIG9wdGlvbnMpKSBhcyBDYW1lbGl6ZTxUPlxuICAgIH0sXG5cbiAgICBhc3luYyBwdXQ8VCA9IHZvaWQ+KHVybDogc3RyaW5nLCBvcHRpb25zPzogT21pdDxDcmVhdGVSZXF1ZXN0Qm9keU9wdGlvbnMsICdib2R5JyB8ICdtZXRob2QnPikge1xuICAgICAgcmV0dXJuIGNhbWVsaXplKGF3YWl0IHJlc3QubWFrZVJlcXVlc3QoJ1BVVCcsIHVybCwgb3B0aW9ucykpIGFzIENhbWVsaXplPFQ+XG4gICAgfSxcblxuICAgIGFzeW5jIGFkZFJlYWN0aW9uKGNoYW5uZWxJZCwgbWVzc2FnZUlkLCByZWFjdGlvbikge1xuICAgICAgcmVhY3Rpb24gPSBwcm9jZXNzUmVhY3Rpb25TdHJpbmcocmVhY3Rpb24pXG5cbiAgICAgIGF3YWl0IHJlc3QucHV0KHJlc3Qucm91dGVzLmNoYW5uZWxzLnJlYWN0aW9ucy5ib3QoY2hhbm5lbElkLCBtZXNzYWdlSWQsIHJlYWN0aW9uKSlcbiAgICB9LFxuXG4gICAgYXN5bmMgYWRkUmVhY3Rpb25zKGNoYW5uZWxJZCwgbWVzc2FnZUlkLCByZWFjdGlvbnMsIG9yZGVyZWQgPSBmYWxzZSkge1xuICAgICAgaWYgKCFvcmRlcmVkKSB7XG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgICAgIHJlYWN0aW9ucy5tYXAoYXN5bmMgKHJlYWN0aW9uKSA9PiB7XG4gICAgICAgICAgICBhd2FpdCByZXN0LmFkZFJlYWN0aW9uKGNoYW5uZWxJZCwgbWVzc2FnZUlkLCByZWFjdGlvbilcbiAgICAgICAgICB9KSxcbiAgICAgICAgKVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgZm9yIChjb25zdCByZWFjdGlvbiBvZiByZWFjdGlvbnMpIHtcbiAgICAgICAgYXdhaXQgcmVzdC5hZGRSZWFjdGlvbihjaGFubmVsSWQsIG1lc3NhZ2VJZCwgcmVhY3Rpb24pXG4gICAgICB9XG4gICAgfSxcblxuICAgIGFzeW5jIGFkZFJvbGUoZ3VpbGRJZCwgdXNlcklkLCByb2xlSWQsIHJlYXNvbikge1xuICAgICAgYXdhaXQgcmVzdC5wdXQocmVzdC5yb3V0ZXMuZ3VpbGRzLnJvbGVzLm1lbWJlcihndWlsZElkLCB1c2VySWQsIHJvbGVJZCksIHsgcmVhc29uIH0pXG4gICAgfSxcblxuICAgIGFzeW5jIGFkZFRocmVhZE1lbWJlcihjaGFubmVsSWQsIHVzZXJJZCkge1xuICAgICAgYXdhaXQgcmVzdC5wdXQocmVzdC5yb3V0ZXMuY2hhbm5lbHMudGhyZWFkcy51c2VyKGNoYW5uZWxJZCwgdXNlcklkKSlcbiAgICB9LFxuXG4gICAgYXN5bmMgYWRkRG1SZWNpcGllbnQoY2hhbm5lbElkLCB1c2VySWQsIGJvZHkpIHtcbiAgICAgIGF3YWl0IHJlc3QucHV0KHJlc3Qucm91dGVzLmNoYW5uZWxzLmRtUmVjaXBpZW50KGNoYW5uZWxJZCwgdXNlcklkKSwgeyBib2R5IH0pXG4gICAgfSxcblxuICAgIGFzeW5jIGNyZWF0ZUF1dG9tb2RSdWxlKGd1aWxkSWQsIGJvZHksIHJlYXNvbikge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QucG9zdDxEaXNjb3JkQXV0b01vZGVyYXRpb25SdWxlPihyZXN0LnJvdXRlcy5ndWlsZHMuYXV0b21vZC5ydWxlcyhndWlsZElkKSwgeyBib2R5LCByZWFzb24gfSlcbiAgICB9LFxuXG4gICAgYXN5bmMgY3JlYXRlQ2hhbm5lbChndWlsZElkLCBib2R5LCByZWFzb24pIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LnBvc3Q8RGlzY29yZENoYW5uZWw+KHJlc3Qucm91dGVzLmd1aWxkcy5jaGFubmVscyhndWlsZElkKSwgeyBib2R5LCByZWFzb24gfSlcbiAgICB9LFxuXG4gICAgYXN5bmMgY3JlYXRlRW1vamkoZ3VpbGRJZCwgYm9keSwgcmVhc29uKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5wb3N0PERpc2NvcmRFbW9qaT4ocmVzdC5yb3V0ZXMuZ3VpbGRzLmVtb2ppcyhndWlsZElkKSwgeyBib2R5LCByZWFzb24gfSlcbiAgICB9LFxuXG4gICAgYXN5bmMgY3JlYXRlQXBwbGljYXRpb25FbW9qaShib2R5KSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5wb3N0PERpc2NvcmRFbW9qaT4ocmVzdC5yb3V0ZXMuYXBwbGljYXRpb25FbW9qaXMocmVzdC5hcHBsaWNhdGlvbklkKSwgeyBib2R5IH0pXG4gICAgfSxcblxuICAgIGFzeW5jIGNyZWF0ZUdsb2JhbEFwcGxpY2F0aW9uQ29tbWFuZChib2R5LCBvcHRpb25zKSB7XG4gICAgICBjb25zdCByZXN0T3B0aW9uczogTWFrZVJlcXVlc3RPcHRpb25zID0geyBib2R5IH1cblxuICAgICAgaWYgKG9wdGlvbnM/LmJlYXJlclRva2VuKSB7XG4gICAgICAgIHJlc3RPcHRpb25zLnVuYXV0aG9yaXplZCA9IHRydWVcbiAgICAgICAgcmVzdE9wdGlvbnMuaGVhZGVycyA9IHtcbiAgICAgICAgICBhdXRob3JpemF0aW9uOiBgQmVhcmVyICR7b3B0aW9ucy5iZWFyZXJUb2tlbn1gLFxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBhd2FpdCByZXN0LnBvc3Q8RGlzY29yZEFwcGxpY2F0aW9uQ29tbWFuZD4ocmVzdC5yb3V0ZXMuaW50ZXJhY3Rpb25zLmNvbW1hbmRzLmNvbW1hbmRzKHJlc3QuYXBwbGljYXRpb25JZCksIHJlc3RPcHRpb25zKVxuICAgIH0sXG5cbiAgICBhc3luYyBjcmVhdGVHdWlsZChib2R5KSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5wb3N0PERpc2NvcmRHdWlsZD4ocmVzdC5yb3V0ZXMuZ3VpbGRzLmFsbCgpLCB7IGJvZHkgfSlcbiAgICB9LFxuXG4gICAgYXN5bmMgY3JlYXRlR3VpbGRBcHBsaWNhdGlvbkNvbW1hbmQoYm9keSwgZ3VpbGRJZCwgb3B0aW9ucykge1xuICAgICAgY29uc3QgcmVzdE9wdGlvbnM6IE1ha2VSZXF1ZXN0T3B0aW9ucyA9IHsgYm9keSB9XG5cbiAgICAgIGlmIChvcHRpb25zPy5iZWFyZXJUb2tlbikge1xuICAgICAgICByZXN0T3B0aW9ucy51bmF1dGhvcml6ZWQgPSB0cnVlXG4gICAgICAgIHJlc3RPcHRpb25zLmhlYWRlcnMgPSB7XG4gICAgICAgICAgYXV0aG9yaXphdGlvbjogYEJlYXJlciAke29wdGlvbnMuYmVhcmVyVG9rZW59YCxcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5wb3N0PERpc2NvcmRBcHBsaWNhdGlvbkNvbW1hbmQ+KHJlc3Qucm91dGVzLmludGVyYWN0aW9ucy5jb21tYW5kcy5ndWlsZHMuYWxsKHJlc3QuYXBwbGljYXRpb25JZCwgZ3VpbGRJZCksIHJlc3RPcHRpb25zKVxuICAgIH0sXG5cbiAgICBhc3luYyBjcmVhdGVHdWlsZEZyb21UZW1wbGF0ZSh0ZW1wbGF0ZUNvZGUsIGJvZHkpIHtcbiAgICAgIGlmIChib2R5Lmljb24pIHtcbiAgICAgICAgYm9keS5pY29uID0gYXdhaXQgdXJsVG9CYXNlNjQoYm9keS5pY29uKVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5wb3N0PERpc2NvcmRHdWlsZD4ocmVzdC5yb3V0ZXMuZ3VpbGRzLnRlbXBsYXRlcy5jb2RlKHRlbXBsYXRlQ29kZSksIHsgYm9keSB9KVxuICAgIH0sXG5cbiAgICBhc3luYyBjcmVhdGVHdWlsZFN0aWNrZXIoZ3VpbGRJZCwgb3B0aW9ucywgcmVhc29uKSB7XG4gICAgICBjb25zdCBmb3JtID0gbmV3IEZvcm1EYXRhKClcbiAgICAgIGZvcm0uYXBwZW5kKCdmaWxlJywgb3B0aW9ucy5maWxlLmJsb2IsIG9wdGlvbnMuZmlsZS5uYW1lKVxuICAgICAgZm9ybS5hcHBlbmQoJ25hbWUnLCBvcHRpb25zLm5hbWUpXG4gICAgICBmb3JtLmFwcGVuZCgnZGVzY3JpcHRpb24nLCBvcHRpb25zLmRlc2NyaXB0aW9uKVxuICAgICAgZm9ybS5hcHBlbmQoJ3RhZ3MnLCBvcHRpb25zLnRhZ3MpXG5cbiAgICAgIHJldHVybiBhd2FpdCByZXN0LnBvc3Q8RGlzY29yZFN0aWNrZXI+KHJlc3Qucm91dGVzLmd1aWxkcy5zdGlja2VycyhndWlsZElkKSwgeyBib2R5OiBmb3JtLCByZWFzb24gfSlcbiAgICB9LFxuXG4gICAgYXN5bmMgY3JlYXRlR3VpbGRUZW1wbGF0ZShndWlsZElkLCBib2R5KSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5wb3N0PERpc2NvcmRUZW1wbGF0ZT4ocmVzdC5yb3V0ZXMuZ3VpbGRzLnRlbXBsYXRlcy5hbGwoZ3VpbGRJZCksIHsgYm9keSB9KVxuICAgIH0sXG5cbiAgICBhc3luYyBjcmVhdGVGb3J1bVRocmVhZChjaGFubmVsSWQsIGJvZHksIHJlYXNvbikge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QucG9zdDxEaXNjb3JkQ2hhbm5lbD4ocmVzdC5yb3V0ZXMuY2hhbm5lbHMuZm9ydW0oY2hhbm5lbElkKSwgeyBib2R5LCBmaWxlczogYm9keS5maWxlcywgcmVhc29uIH0pXG4gICAgfSxcblxuICAgIGFzeW5jIGNyZWF0ZUludml0ZShjaGFubmVsSWQsIGJvZHkgPSB7fSwgcmVhc29uKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5wb3N0PERpc2NvcmRJbnZpdGU+KHJlc3Qucm91dGVzLmNoYW5uZWxzLmludml0ZXMoY2hhbm5lbElkKSwgeyBib2R5LCByZWFzb24gfSlcbiAgICB9LFxuXG4gICAgYXN5bmMgY3JlYXRlUm9sZShndWlsZElkLCBib2R5LCByZWFzb24pIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LnBvc3Q8RGlzY29yZFJvbGU+KHJlc3Qucm91dGVzLmd1aWxkcy5yb2xlcy5hbGwoZ3VpbGRJZCksIHsgYm9keSwgcmVhc29uIH0pXG4gICAgfSxcblxuICAgIGFzeW5jIGNyZWF0ZVNjaGVkdWxlZEV2ZW50KGd1aWxkSWQsIGJvZHksIHJlYXNvbikge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QucG9zdDxEaXNjb3JkU2NoZWR1bGVkRXZlbnQ+KHJlc3Qucm91dGVzLmd1aWxkcy5ldmVudHMuZXZlbnRzKGd1aWxkSWQpLCB7IGJvZHksIHJlYXNvbiB9KVxuICAgIH0sXG5cbiAgICBhc3luYyBjcmVhdGVTdGFnZUluc3RhbmNlKGJvZHksIHJlYXNvbikge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QucG9zdDxEaXNjb3JkU3RhZ2VJbnN0YW5jZT4ocmVzdC5yb3V0ZXMuY2hhbm5lbHMuc3RhZ2VzKCksIHsgYm9keSwgcmVhc29uIH0pXG4gICAgfSxcblxuICAgIGFzeW5jIGNyZWF0ZVdlYmhvb2soY2hhbm5lbElkLCBvcHRpb25zLCByZWFzb24pIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LnBvc3Q8RGlzY29yZFdlYmhvb2s+KHJlc3Qucm91dGVzLmNoYW5uZWxzLndlYmhvb2tzKGNoYW5uZWxJZCksIHtcbiAgICAgICAgYm9keToge1xuICAgICAgICAgIG5hbWU6IG9wdGlvbnMubmFtZSxcbiAgICAgICAgICBhdmF0YXI6IG9wdGlvbnMuYXZhdGFyID8gYXdhaXQgdXJsVG9CYXNlNjQob3B0aW9ucy5hdmF0YXIpIDogdW5kZWZpbmVkLFxuICAgICAgICB9LFxuICAgICAgICByZWFzb24sXG4gICAgICB9KVxuICAgIH0sXG5cbiAgICBhc3luYyBkZWxldGVBdXRvbW9kUnVsZShndWlsZElkLCBydWxlSWQsIHJlYXNvbikge1xuICAgICAgYXdhaXQgcmVzdC5kZWxldGUocmVzdC5yb3V0ZXMuZ3VpbGRzLmF1dG9tb2QucnVsZShndWlsZElkLCBydWxlSWQpLCB7IHJlYXNvbiB9KVxuICAgIH0sXG5cbiAgICBhc3luYyBkZWxldGVDaGFubmVsKGNoYW5uZWxJZCwgcmVhc29uKSB7XG4gICAgICBhd2FpdCByZXN0LmRlbGV0ZShyZXN0LnJvdXRlcy5jaGFubmVscy5jaGFubmVsKGNoYW5uZWxJZCksIHtcbiAgICAgICAgcmVhc29uLFxuICAgICAgfSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZGVsZXRlQ2hhbm5lbFBlcm1pc3Npb25PdmVycmlkZShjaGFubmVsSWQsIG92ZXJ3cml0ZUlkLCByZWFzb24pIHtcbiAgICAgIGF3YWl0IHJlc3QuZGVsZXRlKHJlc3Qucm91dGVzLmNoYW5uZWxzLm92ZXJ3cml0ZShjaGFubmVsSWQsIG92ZXJ3cml0ZUlkKSwgeyByZWFzb24gfSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZGVsZXRlRW1vamkoZ3VpbGRJZCwgaWQsIHJlYXNvbikge1xuICAgICAgYXdhaXQgcmVzdC5kZWxldGUocmVzdC5yb3V0ZXMuZ3VpbGRzLmVtb2ppKGd1aWxkSWQsIGlkKSwgeyByZWFzb24gfSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZGVsZXRlQXBwbGljYXRpb25FbW9qaShpZCkge1xuICAgICAgYXdhaXQgcmVzdC5kZWxldGUocmVzdC5yb3V0ZXMuYXBwbGljYXRpb25FbW9qaShyZXN0LmFwcGxpY2F0aW9uSWQsIGlkKSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZGVsZXRlRm9sbG93dXBNZXNzYWdlKHRva2VuLCBtZXNzYWdlSWQpIHtcbiAgICAgIGF3YWl0IHJlc3QuZGVsZXRlKHJlc3Qucm91dGVzLmludGVyYWN0aW9ucy5yZXNwb25zZXMubWVzc2FnZShyZXN0LmFwcGxpY2F0aW9uSWQsIHRva2VuLCBtZXNzYWdlSWQpLCB7IHVuYXV0aG9yaXplZDogdHJ1ZSB9KVxuICAgIH0sXG5cbiAgICBhc3luYyBkZWxldGVHbG9iYWxBcHBsaWNhdGlvbkNvbW1hbmQoY29tbWFuZElkKSB7XG4gICAgICBhd2FpdCByZXN0LmRlbGV0ZShyZXN0LnJvdXRlcy5pbnRlcmFjdGlvbnMuY29tbWFuZHMuY29tbWFuZChyZXN0LmFwcGxpY2F0aW9uSWQsIGNvbW1hbmRJZCkpXG4gICAgfSxcblxuICAgIGFzeW5jIGRlbGV0ZUd1aWxkKGd1aWxkSWQpIHtcbiAgICAgIGF3YWl0IHJlc3QuZGVsZXRlKHJlc3Qucm91dGVzLmd1aWxkcy5ndWlsZChndWlsZElkKSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZGVsZXRlR3VpbGRBcHBsaWNhdGlvbkNvbW1hbmQoY29tbWFuZElkLCBndWlsZElkKSB7XG4gICAgICBhd2FpdCByZXN0LmRlbGV0ZShyZXN0LnJvdXRlcy5pbnRlcmFjdGlvbnMuY29tbWFuZHMuZ3VpbGRzLm9uZShyZXN0LmFwcGxpY2F0aW9uSWQsIGd1aWxkSWQsIGNvbW1hbmRJZCkpXG4gICAgfSxcblxuICAgIGFzeW5jIGRlbGV0ZUd1aWxkU3RpY2tlcihndWlsZElkLCBzdGlja2VySWQsIHJlYXNvbikge1xuICAgICAgYXdhaXQgcmVzdC5kZWxldGUocmVzdC5yb3V0ZXMuZ3VpbGRzLnN0aWNrZXIoZ3VpbGRJZCwgc3RpY2tlcklkKSwgeyByZWFzb24gfSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZGVsZXRlR3VpbGRUZW1wbGF0ZShndWlsZElkLCB0ZW1wbGF0ZUNvZGUpIHtcbiAgICAgIGF3YWl0IHJlc3QuZGVsZXRlKHJlc3Qucm91dGVzLmd1aWxkcy50ZW1wbGF0ZXMuZ3VpbGQoZ3VpbGRJZCwgdGVtcGxhdGVDb2RlKSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZGVsZXRlSW50ZWdyYXRpb24oZ3VpbGRJZCwgaW50ZWdyYXRpb25JZCwgcmVhc29uKSB7XG4gICAgICBhd2FpdCByZXN0LmRlbGV0ZShyZXN0LnJvdXRlcy5ndWlsZHMuaW50ZWdyYXRpb24oZ3VpbGRJZCwgaW50ZWdyYXRpb25JZCksIHsgcmVhc29uIH0pXG4gICAgfSxcblxuICAgIGFzeW5jIGRlbGV0ZUludml0ZShpbnZpdGVDb2RlLCByZWFzb24pIHtcbiAgICAgIGF3YWl0IHJlc3QuZGVsZXRlKHJlc3Qucm91dGVzLmd1aWxkcy5pbnZpdGUoaW52aXRlQ29kZSksIHsgcmVhc29uIH0pXG4gICAgfSxcblxuICAgIGFzeW5jIGRlbGV0ZU1lc3NhZ2UoY2hhbm5lbElkLCBtZXNzYWdlSWQsIHJlYXNvbikge1xuICAgICAgYXdhaXQgcmVzdC5kZWxldGUocmVzdC5yb3V0ZXMuY2hhbm5lbHMubWVzc2FnZShjaGFubmVsSWQsIG1lc3NhZ2VJZCksIHsgcmVhc29uIH0pXG4gICAgfSxcblxuICAgIGFzeW5jIGRlbGV0ZU1lc3NhZ2VzKGNoYW5uZWxJZCwgbWVzc2FnZUlkcywgcmVhc29uKSB7XG4gICAgICBhd2FpdCByZXN0LnBvc3QocmVzdC5yb3V0ZXMuY2hhbm5lbHMuYnVsayhjaGFubmVsSWQpLCB7XG4gICAgICAgIGJvZHk6IHtcbiAgICAgICAgICBtZXNzYWdlczogbWVzc2FnZUlkcy5zbGljZSgwLCAxMDApLm1hcCgoaWQpID0+IGlkLnRvU3RyaW5nKCkpLFxuICAgICAgICB9LFxuICAgICAgICByZWFzb24sXG4gICAgICB9KVxuICAgIH0sXG5cbiAgICBhc3luYyBkZWxldGVPcmlnaW5hbEludGVyYWN0aW9uUmVzcG9uc2UodG9rZW4pIHtcbiAgICAgIGF3YWl0IHJlc3QuZGVsZXRlKHJlc3Qucm91dGVzLmludGVyYWN0aW9ucy5yZXNwb25zZXMub3JpZ2luYWwocmVzdC5hcHBsaWNhdGlvbklkLCB0b2tlbiksIHsgdW5hdXRob3JpemVkOiB0cnVlIH0pXG4gICAgfSxcblxuICAgIGFzeW5jIGRlbGV0ZU93blJlYWN0aW9uKGNoYW5uZWxJZCwgbWVzc2FnZUlkLCByZWFjdGlvbikge1xuICAgICAgcmVhY3Rpb24gPSBwcm9jZXNzUmVhY3Rpb25TdHJpbmcocmVhY3Rpb24pXG5cbiAgICAgIGF3YWl0IHJlc3QuZGVsZXRlKHJlc3Qucm91dGVzLmNoYW5uZWxzLnJlYWN0aW9ucy5ib3QoY2hhbm5lbElkLCBtZXNzYWdlSWQsIHJlYWN0aW9uKSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZGVsZXRlUmVhY3Rpb25zQWxsKGNoYW5uZWxJZCwgbWVzc2FnZUlkKSB7XG4gICAgICBhd2FpdCByZXN0LmRlbGV0ZShyZXN0LnJvdXRlcy5jaGFubmVscy5yZWFjdGlvbnMuYWxsKGNoYW5uZWxJZCwgbWVzc2FnZUlkKSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZGVsZXRlUmVhY3Rpb25zRW1vamkoY2hhbm5lbElkLCBtZXNzYWdlSWQsIHJlYWN0aW9uKSB7XG4gICAgICByZWFjdGlvbiA9IHByb2Nlc3NSZWFjdGlvblN0cmluZyhyZWFjdGlvbilcblxuICAgICAgYXdhaXQgcmVzdC5kZWxldGUocmVzdC5yb3V0ZXMuY2hhbm5lbHMucmVhY3Rpb25zLmVtb2ppKGNoYW5uZWxJZCwgbWVzc2FnZUlkLCByZWFjdGlvbikpXG4gICAgfSxcblxuICAgIGFzeW5jIGRlbGV0ZVJvbGUoZ3VpbGRJZCwgcm9sZUlkLCByZWFzb24pIHtcbiAgICAgIGF3YWl0IHJlc3QuZGVsZXRlKHJlc3Qucm91dGVzLmd1aWxkcy5yb2xlcy5vbmUoZ3VpbGRJZCwgcm9sZUlkKSwgeyByZWFzb24gfSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZGVsZXRlU2NoZWR1bGVkRXZlbnQoZ3VpbGRJZCwgZXZlbnRJZCkge1xuICAgICAgYXdhaXQgcmVzdC5kZWxldGUocmVzdC5yb3V0ZXMuZ3VpbGRzLmV2ZW50cy5ldmVudChndWlsZElkLCBldmVudElkKSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZGVsZXRlU3RhZ2VJbnN0YW5jZShjaGFubmVsSWQsIHJlYXNvbikge1xuICAgICAgYXdhaXQgcmVzdC5kZWxldGUocmVzdC5yb3V0ZXMuY2hhbm5lbHMuc3RhZ2UoY2hhbm5lbElkKSwgeyByZWFzb24gfSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZGVsZXRlVXNlclJlYWN0aW9uKGNoYW5uZWxJZCwgbWVzc2FnZUlkLCB1c2VySWQsIHJlYWN0aW9uKSB7XG4gICAgICByZWFjdGlvbiA9IHByb2Nlc3NSZWFjdGlvblN0cmluZyhyZWFjdGlvbilcblxuICAgICAgYXdhaXQgcmVzdC5kZWxldGUocmVzdC5yb3V0ZXMuY2hhbm5lbHMucmVhY3Rpb25zLnVzZXIoY2hhbm5lbElkLCBtZXNzYWdlSWQsIHJlYWN0aW9uLCB1c2VySWQpKVxuICAgIH0sXG5cbiAgICBhc3luYyBkZWxldGVXZWJob29rKHdlYmhvb2tJZCwgcmVhc29uKSB7XG4gICAgICBhd2FpdCByZXN0LmRlbGV0ZShyZXN0LnJvdXRlcy53ZWJob29rcy5pZCh3ZWJob29rSWQpLCB7IHJlYXNvbiB9KVxuICAgIH0sXG5cbiAgICBhc3luYyBkZWxldGVXZWJob29rTWVzc2FnZSh3ZWJob29rSWQsIHRva2VuLCBtZXNzYWdlSWQsIG9wdGlvbnMpIHtcbiAgICAgIGF3YWl0IHJlc3QuZGVsZXRlKHJlc3Qucm91dGVzLndlYmhvb2tzLm1lc3NhZ2Uod2ViaG9va0lkLCB0b2tlbiwgbWVzc2FnZUlkLCBvcHRpb25zKSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZGVsZXRlV2ViaG9va1dpdGhUb2tlbih3ZWJob29rSWQsIHRva2VuKSB7XG4gICAgICBhd2FpdCByZXN0LmRlbGV0ZShyZXN0LnJvdXRlcy53ZWJob29rcy53ZWJob29rKHdlYmhvb2tJZCwgdG9rZW4pLCB7XG4gICAgICAgIHVuYXV0aG9yaXplZDogdHJ1ZSxcbiAgICAgIH0pXG4gICAgfSxcblxuICAgIGFzeW5jIGVkaXRBcHBsaWNhdGlvbkNvbW1hbmRQZXJtaXNzaW9ucyhndWlsZElkLCBjb21tYW5kSWQsIGJlYXJlclRva2VuLCBwZXJtaXNzaW9ucykge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QucHV0PERpc2NvcmRHdWlsZEFwcGxpY2F0aW9uQ29tbWFuZFBlcm1pc3Npb25zPihcbiAgICAgICAgcmVzdC5yb3V0ZXMuaW50ZXJhY3Rpb25zLmNvbW1hbmRzLnBlcm1pc3Npb24ocmVzdC5hcHBsaWNhdGlvbklkLCBndWlsZElkLCBjb21tYW5kSWQpLFxuICAgICAgICB7XG4gICAgICAgICAgYm9keToge1xuICAgICAgICAgICAgcGVybWlzc2lvbnMsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBoZWFkZXJzOiB7IGF1dGhvcml6YXRpb246IGBCZWFyZXIgJHtiZWFyZXJUb2tlbn1gIH0sXG4gICAgICAgIH0sXG4gICAgICApXG4gICAgfSxcblxuICAgIGFzeW5jIGVkaXRBdXRvbW9kUnVsZShndWlsZElkLCBydWxlSWQsIGJvZHksIHJlYXNvbikge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QucGF0Y2g8RGlzY29yZEF1dG9Nb2RlcmF0aW9uUnVsZT4ocmVzdC5yb3V0ZXMuZ3VpbGRzLmF1dG9tb2QucnVsZShndWlsZElkLCBydWxlSWQpLCB7IGJvZHksIHJlYXNvbiB9KVxuICAgIH0sXG5cbiAgICBhc3luYyBlZGl0Qm90UHJvZmlsZShvcHRpb25zKSB7XG4gICAgICBjb25zdCBhdmF0YXIgPSBvcHRpb25zPy5ib3RBdmF0YXJVUkwgPyBhd2FpdCB1cmxUb0Jhc2U2NChvcHRpb25zPy5ib3RBdmF0YXJVUkwpIDogb3B0aW9ucz8uYm90QXZhdGFyVVJMXG4gICAgICBjb25zdCBiYW5uZXIgPSBvcHRpb25zPy5ib3RCYW5uZXJVUkwgPyBhd2FpdCB1cmxUb0Jhc2U2NChvcHRpb25zPy5ib3RCYW5uZXJVUkwpIDogb3B0aW9ucz8uYm90QmFubmVyVVJMXG5cbiAgICAgIHJldHVybiBhd2FpdCByZXN0LnBhdGNoPERpc2NvcmRVc2VyPihyZXN0LnJvdXRlcy5jdXJyZW50VXNlcigpLCB7XG4gICAgICAgIGJvZHk6IHtcbiAgICAgICAgICB1c2VybmFtZTogb3B0aW9ucy51c2VybmFtZT8udHJpbSgpLFxuICAgICAgICAgIGF2YXRhcixcbiAgICAgICAgICBiYW5uZXIsXG4gICAgICAgIH0sXG4gICAgICB9KVxuICAgIH0sXG5cbiAgICBhc3luYyBlZGl0Q2hhbm5lbChjaGFubmVsSWQsIGJvZHksIHJlYXNvbikge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QucGF0Y2g8RGlzY29yZENoYW5uZWw+KHJlc3Qucm91dGVzLmNoYW5uZWxzLmNoYW5uZWwoY2hhbm5lbElkKSwgeyBib2R5LCByZWFzb24gfSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZWRpdENoYW5uZWxQZXJtaXNzaW9uT3ZlcnJpZGVzKGNoYW5uZWxJZCwgYm9keSwgcmVhc29uKSB7XG4gICAgICBhd2FpdCByZXN0LnB1dChyZXN0LnJvdXRlcy5jaGFubmVscy5vdmVyd3JpdGUoY2hhbm5lbElkLCBib2R5LmlkKSwgeyBib2R5LCByZWFzb24gfSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZWRpdENoYW5uZWxQb3NpdGlvbnMoZ3VpbGRJZCwgYm9keSkge1xuICAgICAgYXdhaXQgcmVzdC5wYXRjaChyZXN0LnJvdXRlcy5ndWlsZHMuY2hhbm5lbHMoZ3VpbGRJZCksIHsgYm9keSB9KVxuICAgIH0sXG5cbiAgICBhc3luYyBlZGl0RW1vamkoZ3VpbGRJZCwgaWQsIGJvZHksIHJlYXNvbikge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QucGF0Y2g8RGlzY29yZEVtb2ppPihyZXN0LnJvdXRlcy5ndWlsZHMuZW1vamkoZ3VpbGRJZCwgaWQpLCB7IGJvZHksIHJlYXNvbiB9KVxuICAgIH0sXG5cbiAgICBhc3luYyBlZGl0QXBwbGljYXRpb25FbW9qaShpZCwgYm9keSkge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QucGF0Y2g8RGlzY29yZEVtb2ppPihyZXN0LnJvdXRlcy5hcHBsaWNhdGlvbkVtb2ppKHJlc3QuYXBwbGljYXRpb25JZCwgaWQpLCB7IGJvZHkgfSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZWRpdEZvbGxvd3VwTWVzc2FnZSh0b2tlbiwgbWVzc2FnZUlkLCBib2R5KSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5wYXRjaDxEaXNjb3JkTWVzc2FnZT4ocmVzdC5yb3V0ZXMuaW50ZXJhY3Rpb25zLnJlc3BvbnNlcy5tZXNzYWdlKHJlc3QuYXBwbGljYXRpb25JZCwgdG9rZW4sIG1lc3NhZ2VJZCksIHtcbiAgICAgICAgYm9keSxcbiAgICAgICAgZmlsZXM6IGJvZHkuZmlsZXMsXG4gICAgICAgIHVuYXV0aG9yaXplZDogdHJ1ZSxcbiAgICAgIH0pXG4gICAgfSxcblxuICAgIGFzeW5jIGVkaXRHbG9iYWxBcHBsaWNhdGlvbkNvbW1hbmQoY29tbWFuZElkLCBib2R5KSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5wYXRjaDxEaXNjb3JkQXBwbGljYXRpb25Db21tYW5kPihyZXN0LnJvdXRlcy5pbnRlcmFjdGlvbnMuY29tbWFuZHMuY29tbWFuZChyZXN0LmFwcGxpY2F0aW9uSWQsIGNvbW1hbmRJZCksIHsgYm9keSB9KVxuICAgIH0sXG5cbiAgICBhc3luYyBlZGl0R3VpbGQoZ3VpbGRJZCwgYm9keSwgcmVhc29uKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5wYXRjaDxEaXNjb3JkR3VpbGQ+KHJlc3Qucm91dGVzLmd1aWxkcy5ndWlsZChndWlsZElkKSwgeyBib2R5LCByZWFzb24gfSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZWRpdEd1aWxkQXBwbGljYXRpb25Db21tYW5kKGNvbW1hbmRJZCwgZ3VpbGRJZCwgYm9keSkge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QucGF0Y2g8RGlzY29yZEFwcGxpY2F0aW9uQ29tbWFuZD4ocmVzdC5yb3V0ZXMuaW50ZXJhY3Rpb25zLmNvbW1hbmRzLmd1aWxkcy5vbmUocmVzdC5hcHBsaWNhdGlvbklkLCBndWlsZElkLCBjb21tYW5kSWQpLCB7XG4gICAgICAgIGJvZHksXG4gICAgICB9KVxuICAgIH0sXG5cbiAgICBhc3luYyBlZGl0R3VpbGRNZmFMZXZlbChndWlsZElkOiBCaWdTdHJpbmcsIG1mYUxldmVsOiBNZmFMZXZlbHMsIHJlYXNvbj86IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgYXdhaXQgcmVzdC5wb3N0KHJlc3Qucm91dGVzLmd1aWxkcy5tZmEoZ3VpbGRJZCksIHsgYm9keTogeyBsZXZlbDogbWZhTGV2ZWwgfSwgcmVhc29uIH0pXG4gICAgfSxcblxuICAgIGFzeW5jIGVkaXRHdWlsZFN0aWNrZXIoZ3VpbGRJZCwgc3RpY2tlcklkLCBib2R5LCByZWFzb24pIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LnBhdGNoPERpc2NvcmRTdGlja2VyPihyZXN0LnJvdXRlcy5ndWlsZHMuc3RpY2tlcihndWlsZElkLCBzdGlja2VySWQpLCB7IGJvZHksIHJlYXNvbiB9KVxuICAgIH0sXG5cbiAgICBhc3luYyBlZGl0R3VpbGRUZW1wbGF0ZShndWlsZElkLCB0ZW1wbGF0ZUNvZGU6IHN0cmluZywgYm9keTogTW9kaWZ5R3VpbGRUZW1wbGF0ZSk6IFByb21pc2U8Q2FtZWxpemU8RGlzY29yZFRlbXBsYXRlPj4ge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QucGF0Y2g8RGlzY29yZFRlbXBsYXRlPihyZXN0LnJvdXRlcy5ndWlsZHMudGVtcGxhdGVzLmd1aWxkKGd1aWxkSWQsIHRlbXBsYXRlQ29kZSksIHsgYm9keSB9KVxuICAgIH0sXG5cbiAgICBhc3luYyBlZGl0TWVzc2FnZShjaGFubmVsSWQsIG1lc3NhZ2VJZCwgYm9keSkge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QucGF0Y2g8RGlzY29yZE1lc3NhZ2U+KHJlc3Qucm91dGVzLmNoYW5uZWxzLm1lc3NhZ2UoY2hhbm5lbElkLCBtZXNzYWdlSWQpLCB7IGJvZHksIGZpbGVzOiBib2R5LmZpbGVzIH0pXG4gICAgfSxcblxuICAgIGFzeW5jIGVkaXRPcmlnaW5hbEludGVyYWN0aW9uUmVzcG9uc2UodG9rZW4sIGJvZHkpIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LnBhdGNoPERpc2NvcmRNZXNzYWdlPihyZXN0LnJvdXRlcy5pbnRlcmFjdGlvbnMucmVzcG9uc2VzLm9yaWdpbmFsKHJlc3QuYXBwbGljYXRpb25JZCwgdG9rZW4pLCB7XG4gICAgICAgIGJvZHksXG4gICAgICAgIGZpbGVzOiBib2R5LmZpbGVzLFxuICAgICAgfSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZWRpdE9yaWdpbmFsV2ViaG9va01lc3NhZ2Uod2ViaG9va0lkLCB0b2tlbiwgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QucGF0Y2g8RGlzY29yZE1lc3NhZ2U+KHJlc3Qucm91dGVzLndlYmhvb2tzLm9yaWdpbmFsKHdlYmhvb2tJZCwgdG9rZW4sIG9wdGlvbnMpLCB7XG4gICAgICAgIGJvZHk6IHtcbiAgICAgICAgICB0eXBlOiBJbnRlcmFjdGlvblJlc3BvbnNlVHlwZXMuVXBkYXRlTWVzc2FnZSxcbiAgICAgICAgICBkYXRhOiBvcHRpb25zLFxuICAgICAgICB9LFxuICAgICAgICBmaWxlczogb3B0aW9ucy5maWxlcyxcbiAgICAgICAgdW5hdXRob3JpemVkOiB0cnVlLFxuICAgICAgfSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZWRpdE93blZvaWNlU3RhdGUoZ3VpbGRJZCwgb3B0aW9ucykge1xuICAgICAgYXdhaXQgcmVzdC5wYXRjaChyZXN0LnJvdXRlcy5ndWlsZHMudm9pY2UoZ3VpbGRJZCksIHtcbiAgICAgICAgYm9keToge1xuICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgcmVxdWVzdFRvU3BlYWtUaW1lc3RhbXA6IG9wdGlvbnMucmVxdWVzdFRvU3BlYWtUaW1lc3RhbXBcbiAgICAgICAgICAgID8gbmV3IERhdGUob3B0aW9ucy5yZXF1ZXN0VG9TcGVha1RpbWVzdGFtcCkudG9JU09TdHJpbmcoKVxuICAgICAgICAgICAgOiBvcHRpb25zLnJlcXVlc3RUb1NwZWFrVGltZXN0YW1wLFxuICAgICAgICB9LFxuICAgICAgfSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZWRpdFNjaGVkdWxlZEV2ZW50KGd1aWxkSWQsIGV2ZW50SWQsIGJvZHksIHJlYXNvbikge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QucGF0Y2g8RGlzY29yZFNjaGVkdWxlZEV2ZW50PihyZXN0LnJvdXRlcy5ndWlsZHMuZXZlbnRzLmV2ZW50KGd1aWxkSWQsIGV2ZW50SWQpLCB7IGJvZHksIHJlYXNvbiB9KVxuICAgIH0sXG5cbiAgICBhc3luYyBlZGl0Um9sZShndWlsZElkLCByb2xlSWQsIGJvZHksIHJlYXNvbikge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QucGF0Y2g8RGlzY29yZFJvbGU+KHJlc3Qucm91dGVzLmd1aWxkcy5yb2xlcy5vbmUoZ3VpbGRJZCwgcm9sZUlkKSwgeyBib2R5LCByZWFzb24gfSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZWRpdFJvbGVQb3NpdGlvbnMoZ3VpbGRJZCwgYm9keSwgcmVhc29uKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5wYXRjaDxEaXNjb3JkUm9sZVtdPihyZXN0LnJvdXRlcy5ndWlsZHMucm9sZXMuYWxsKGd1aWxkSWQpLCB7IGJvZHksIHJlYXNvbiB9KVxuICAgIH0sXG5cbiAgICBhc3luYyBlZGl0U3RhZ2VJbnN0YW5jZShjaGFubmVsSWQsIHRvcGljLCByZWFzb24/OiBzdHJpbmcpIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LnBhdGNoPERpc2NvcmRTdGFnZUluc3RhbmNlPihyZXN0LnJvdXRlcy5jaGFubmVscy5zdGFnZShjaGFubmVsSWQpLCB7IGJvZHk6IHsgdG9waWMgfSwgcmVhc29uIH0pXG4gICAgfSxcblxuICAgIGFzeW5jIGVkaXRVc2VyVm9pY2VTdGF0ZShndWlsZElkLCBvcHRpb25zKSB7XG4gICAgICBhd2FpdCByZXN0LnBhdGNoKHJlc3Qucm91dGVzLmd1aWxkcy52b2ljZShndWlsZElkLCBvcHRpb25zLnVzZXJJZCksIHsgYm9keTogb3B0aW9ucyB9KVxuICAgIH0sXG5cbiAgICBhc3luYyBlZGl0V2ViaG9vayh3ZWJob29rSWQsIGJvZHksIHJlYXNvbikge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QucGF0Y2g8RGlzY29yZFdlYmhvb2s+KHJlc3Qucm91dGVzLndlYmhvb2tzLmlkKHdlYmhvb2tJZCksIHsgYm9keSwgcmVhc29uIH0pXG4gICAgfSxcblxuICAgIGFzeW5jIGVkaXRXZWJob29rTWVzc2FnZSh3ZWJob29rSWQsIHRva2VuLCBtZXNzYWdlSWQsIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LnBhdGNoPERpc2NvcmRNZXNzYWdlPihyZXN0LnJvdXRlcy53ZWJob29rcy5tZXNzYWdlKHdlYmhvb2tJZCwgdG9rZW4sIG1lc3NhZ2VJZCwgb3B0aW9ucyksIHtcbiAgICAgICAgYm9keTogb3B0aW9ucyxcbiAgICAgICAgZmlsZXM6IG9wdGlvbnMuZmlsZXMsXG4gICAgICAgIHVuYXV0aG9yaXplZDogdHJ1ZSxcbiAgICAgIH0pXG4gICAgfSxcblxuICAgIGFzeW5jIGVkaXRXZWJob29rV2l0aFRva2VuKHdlYmhvb2tJZCwgdG9rZW4sIGJvZHkpIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LnBhdGNoPERpc2NvcmRXZWJob29rPihyZXN0LnJvdXRlcy53ZWJob29rcy53ZWJob29rKHdlYmhvb2tJZCwgdG9rZW4pLCB7XG4gICAgICAgIGJvZHksXG4gICAgICAgIHVuYXV0aG9yaXplZDogdHJ1ZSxcbiAgICAgIH0pXG4gICAgfSxcblxuICAgIGFzeW5jIGVkaXRXZWxjb21lU2NyZWVuKGd1aWxkSWQsIGJvZHksIHJlYXNvbikge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QucGF0Y2g8RGlzY29yZFdlbGNvbWVTY3JlZW4+KHJlc3Qucm91dGVzLmd1aWxkcy53ZWxjb21lKGd1aWxkSWQpLCB7IGJvZHksIHJlYXNvbiB9KVxuICAgIH0sXG5cbiAgICBhc3luYyBlZGl0V2lkZ2V0U2V0dGluZ3MoZ3VpbGRJZCwgYm9keSwgcmVhc29uKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5wYXRjaDxEaXNjb3JkR3VpbGRXaWRnZXRTZXR0aW5ncz4ocmVzdC5yb3V0ZXMuZ3VpbGRzLndpZGdldChndWlsZElkKSwgeyBib2R5LCByZWFzb24gfSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZXhlY3V0ZVdlYmhvb2sod2ViaG9va0lkLCB0b2tlbiwgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QucG9zdDxEaXNjb3JkTWVzc2FnZT4ocmVzdC5yb3V0ZXMud2ViaG9va3Mud2ViaG9vayh3ZWJob29rSWQsIHRva2VuLCBvcHRpb25zKSwge1xuICAgICAgICBib2R5OiBvcHRpb25zLFxuICAgICAgICB1bmF1dGhvcml6ZWQ6IHRydWUsXG4gICAgICB9KVxuICAgIH0sXG5cbiAgICBhc3luYyBmb2xsb3dBbm5vdW5jZW1lbnQoc291cmNlQ2hhbm5lbElkLCB0YXJnZXRDaGFubmVsSWQsIHJlYXNvbikge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QucG9zdDxEaXNjb3JkRm9sbG93ZWRDaGFubmVsPihyZXN0LnJvdXRlcy5jaGFubmVscy5mb2xsb3coc291cmNlQ2hhbm5lbElkKSwge1xuICAgICAgICBib2R5OiB7XG4gICAgICAgICAgd2ViaG9va0NoYW5uZWxJZDogdGFyZ2V0Q2hhbm5lbElkLFxuICAgICAgICB9LFxuICAgICAgICByZWFzb24sXG4gICAgICB9KVxuICAgIH0sXG5cbiAgICBhc3luYyBnZXRBY3RpdmVUaHJlYWRzKGd1aWxkSWQpIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LmdldDxEaXNjb3JkTGlzdEFjdGl2ZVRocmVhZHM+KHJlc3Qucm91dGVzLmNoYW5uZWxzLnRocmVhZHMuYWN0aXZlKGd1aWxkSWQpKVxuICAgIH0sXG5cbiAgICBhc3luYyBnZXRBcHBsaWNhdGlvbkNvbW1hbmRQZXJtaXNzaW9uKGd1aWxkSWQsIGNvbW1hbmRJZCwgb3B0aW9ucykge1xuICAgICAgY29uc3QgcmVzdE9wdGlvbnM6IE9taXQ8TWFrZVJlcXVlc3RPcHRpb25zLCAnYm9keSc+ID0ge31cblxuICAgICAgaWYgKG9wdGlvbnM/LmFjY2Vzc1Rva2VuKSB7XG4gICAgICAgIHJlc3RPcHRpb25zLnVuYXV0aG9yaXplZCA9IHRydWVcbiAgICAgICAgcmVzdE9wdGlvbnMuaGVhZGVycyA9IHtcbiAgICAgICAgICBhdXRob3JpemF0aW9uOiBgQmVhcmVyICR7b3B0aW9ucy5hY2Nlc3NUb2tlbn1gLFxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBhd2FpdCByZXN0LmdldDxEaXNjb3JkR3VpbGRBcHBsaWNhdGlvbkNvbW1hbmRQZXJtaXNzaW9ucz4oXG4gICAgICAgIHJlc3Qucm91dGVzLmludGVyYWN0aW9ucy5jb21tYW5kcy5wZXJtaXNzaW9uKG9wdGlvbnM/LmFwcGxpY2F0aW9uSWQgPz8gcmVzdC5hcHBsaWNhdGlvbklkLCBndWlsZElkLCBjb21tYW5kSWQpLFxuICAgICAgICByZXN0T3B0aW9ucyxcbiAgICAgIClcbiAgICB9LFxuXG4gICAgYXN5bmMgZ2V0QXBwbGljYXRpb25Db21tYW5kUGVybWlzc2lvbnMoZ3VpbGRJZCwgb3B0aW9ucykge1xuICAgICAgY29uc3QgcmVzdE9wdGlvbnM6IE9taXQ8TWFrZVJlcXVlc3RPcHRpb25zLCAnYm9keSc+ID0ge31cblxuICAgICAgaWYgKG9wdGlvbnM/LmFjY2Vzc1Rva2VuKSB7XG4gICAgICAgIHJlc3RPcHRpb25zLnVuYXV0aG9yaXplZCA9IHRydWVcbiAgICAgICAgcmVzdE9wdGlvbnMuaGVhZGVycyA9IHtcbiAgICAgICAgICBhdXRob3JpemF0aW9uOiBgQmVhcmVyICR7b3B0aW9ucy5hY2Nlc3NUb2tlbn1gLFxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBhd2FpdCByZXN0LmdldDxEaXNjb3JkR3VpbGRBcHBsaWNhdGlvbkNvbW1hbmRQZXJtaXNzaW9uc1tdPihcbiAgICAgICAgcmVzdC5yb3V0ZXMuaW50ZXJhY3Rpb25zLmNvbW1hbmRzLnBlcm1pc3Npb25zKG9wdGlvbnM/LmFwcGxpY2F0aW9uSWQgPz8gcmVzdC5hcHBsaWNhdGlvbklkLCBndWlsZElkKSxcbiAgICAgICAgcmVzdE9wdGlvbnMsXG4gICAgICApXG4gICAgfSxcblxuICAgIGFzeW5jIGdldEFwcGxpY2F0aW9uSW5mbygpIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LmdldDxEaXNjb3JkQXBwbGljYXRpb24+KHJlc3Qucm91dGVzLm9hdXRoMi5hcHBsaWNhdGlvbigpKVxuICAgIH0sXG5cbiAgICBhc3luYyBlZGl0QXBwbGljYXRpb25JbmZvKGJvZHkpIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LnBhdGNoPERpc2NvcmRBcHBsaWNhdGlvbj4ocmVzdC5yb3V0ZXMuYXBwbGljYXRpb24oKSwge1xuICAgICAgICBib2R5LFxuICAgICAgfSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZ2V0Q3VycmVudEF1dGhlbnRpY2F0aW9uSW5mbyh0b2tlbikge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QuZ2V0PERpc2NvcmRDdXJyZW50QXV0aG9yaXphdGlvbj4ocmVzdC5yb3V0ZXMub2F1dGgyLmN1cnJlbnRBdXRob3JpemF0aW9uKCksIHtcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIGF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0b2tlbn1gLFxuICAgICAgICB9LFxuICAgICAgICB1bmF1dGhvcml6ZWQ6IHRydWUsXG4gICAgICB9KVxuICAgIH0sXG5cbiAgICBhc3luYyBleGNoYW5nZVRva2VuKGNsaWVudElkLCBjbGllbnRTZWNyZXQsIGJvZHkpIHtcbiAgICAgIGNvbnN0IGJhc2ljQ3JlZGVudGlhbHMgPSBCdWZmZXIuZnJvbShgJHtjbGllbnRJZH06JHtjbGllbnRTZWNyZXR9YClcblxuICAgICAgY29uc3QgcmVzdE9wdGlvbnM6IE1ha2VSZXF1ZXN0T3B0aW9ucyA9IHtcbiAgICAgICAgYm9keSxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdjb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJyxcbiAgICAgICAgICBhdXRob3JpemF0aW9uOiBgQmFzaWMgJHtiYXNpY0NyZWRlbnRpYWxzLnRvU3RyaW5nKCdiYXNlNjQnKX1gLFxuICAgICAgICB9LFxuICAgICAgICBydW5UaHJvdWdoUXVldWU6IGZhbHNlLFxuICAgICAgICB1bmF1dGhvcml6ZWQ6IHRydWUsXG4gICAgICB9XG5cbiAgICAgIGlmIChib2R5LmdyYW50VHlwZSA9PT0gJ2NsaWVudF9jcmVkZW50aWFscycpIHtcbiAgICAgICAgcmVzdE9wdGlvbnMuYm9keS5zY29wZSA9IGJvZHkuc2NvcGUuam9pbignICcpXG4gICAgICB9XG5cbiAgICAgIHJldHVybiBhd2FpdCByZXN0LnBvc3Q8RGlzY29yZEFjY2Vzc1Rva2VuUmVzcG9uc2U+KHJlc3Qucm91dGVzLm9hdXRoMi50b2tlbkV4Y2hhbmdlKCksIHJlc3RPcHRpb25zKVxuICAgIH0sXG5cbiAgICBhc3luYyByZXZva2VUb2tlbihjbGllbnRJZCwgY2xpZW50U2VjcmV0LCBib2R5KSB7XG4gICAgICBjb25zdCBiYXNpY0NyZWRlbnRpYWxzID0gQnVmZmVyLmZyb20oYCR7Y2xpZW50SWR9OiR7Y2xpZW50U2VjcmV0fWApXG5cbiAgICAgIGF3YWl0IHJlc3QucG9zdChyZXN0LnJvdXRlcy5vYXV0aDIudG9rZW5SZXZva2UoKSwge1xuICAgICAgICBib2R5LFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnLFxuICAgICAgICAgIGF1dGhvcml6YXRpb246IGBCYXNpYyAke2Jhc2ljQ3JlZGVudGlhbHMudG9TdHJpbmcoJ2Jhc2U2NCcpfWAsXG4gICAgICAgIH0sXG4gICAgICAgIHVuYXV0aG9yaXplZDogdHJ1ZSxcbiAgICAgIH0pXG4gICAgfSxcblxuICAgIGFzeW5jIGdldEF1ZGl0TG9nKGd1aWxkSWQsIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LmdldDxEaXNjb3JkQXVkaXRMb2c+KHJlc3Qucm91dGVzLmd1aWxkcy5hdWRpdGxvZ3MoZ3VpbGRJZCwgb3B0aW9ucykpXG4gICAgfSxcblxuICAgIGFzeW5jIGdldEF1dG9tb2RSdWxlKGd1aWxkSWQsIHJ1bGVJZCkge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QuZ2V0PERpc2NvcmRBdXRvTW9kZXJhdGlvblJ1bGU+KHJlc3Qucm91dGVzLmd1aWxkcy5hdXRvbW9kLnJ1bGUoZ3VpbGRJZCwgcnVsZUlkKSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZ2V0QXV0b21vZFJ1bGVzKGd1aWxkSWQpIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LmdldDxEaXNjb3JkQXV0b01vZGVyYXRpb25SdWxlW10+KHJlc3Qucm91dGVzLmd1aWxkcy5hdXRvbW9kLnJ1bGVzKGd1aWxkSWQpKVxuICAgIH0sXG5cbiAgICBhc3luYyBnZXRBdmFpbGFibGVWb2ljZVJlZ2lvbnMoKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5nZXQ8RGlzY29yZFZvaWNlUmVnaW9uW10+KHJlc3Qucm91dGVzLnJlZ2lvbnMoKSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZ2V0QmFuKGd1aWxkSWQsIHVzZXJJZCkge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QuZ2V0PERpc2NvcmRCYW4+KHJlc3Qucm91dGVzLmd1aWxkcy5tZW1iZXJzLmJhbihndWlsZElkLCB1c2VySWQpKVxuICAgIH0sXG5cbiAgICBhc3luYyBnZXRCYW5zKGd1aWxkSWQsIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LmdldDxEaXNjb3JkQmFuW10+KHJlc3Qucm91dGVzLmd1aWxkcy5tZW1iZXJzLmJhbnMoZ3VpbGRJZCwgb3B0aW9ucykpXG4gICAgfSxcblxuICAgIGFzeW5jIGdldENoYW5uZWwoaWQpIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LmdldDxEaXNjb3JkQ2hhbm5lbD4ocmVzdC5yb3V0ZXMuY2hhbm5lbHMuY2hhbm5lbChpZCkpXG4gICAgfSxcblxuICAgIGFzeW5jIGdldENoYW5uZWxJbnZpdGVzKGNoYW5uZWxJZCkge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QuZ2V0PERpc2NvcmRJbnZpdGVNZXRhZGF0YVtdPihyZXN0LnJvdXRlcy5jaGFubmVscy5pbnZpdGVzKGNoYW5uZWxJZCkpXG4gICAgfSxcblxuICAgIGFzeW5jIGdldENoYW5uZWxzKGd1aWxkSWQpIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LmdldDxEaXNjb3JkQ2hhbm5lbFtdPihyZXN0LnJvdXRlcy5ndWlsZHMuY2hhbm5lbHMoZ3VpbGRJZCkpXG4gICAgfSxcblxuICAgIGFzeW5jIGdldENoYW5uZWxXZWJob29rcyhjaGFubmVsSWQpIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LmdldDxEaXNjb3JkV2ViaG9va1tdPihyZXN0LnJvdXRlcy5jaGFubmVscy53ZWJob29rcyhjaGFubmVsSWQpKVxuICAgIH0sXG5cbiAgICBhc3luYyBnZXREbUNoYW5uZWwodXNlcklkKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5wb3N0PERpc2NvcmRDaGFubmVsPihyZXN0LnJvdXRlcy5jaGFubmVscy5kbSgpLCB7XG4gICAgICAgIGJvZHk6IHsgcmVjaXBpZW50SWQ6IHVzZXJJZCB9LFxuICAgICAgfSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZ2V0R3JvdXBEbUNoYW5uZWwoYm9keSkge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QucG9zdDxEaXNjb3JkQ2hhbm5lbD4ocmVzdC5yb3V0ZXMuY2hhbm5lbHMuZG0oKSwge1xuICAgICAgICBib2R5LFxuICAgICAgfSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZ2V0RW1vamkoZ3VpbGRJZCwgZW1vamlJZCkge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QuZ2V0PERpc2NvcmRFbW9qaT4ocmVzdC5yb3V0ZXMuZ3VpbGRzLmVtb2ppKGd1aWxkSWQsIGVtb2ppSWQpKVxuICAgIH0sXG5cbiAgICBhc3luYyBnZXRBcHBsaWNhdGlvbkVtb2ppKGVtb2ppSWQpIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LmdldDxEaXNjb3JkRW1vamk+KHJlc3Qucm91dGVzLmFwcGxpY2F0aW9uRW1vamkocmVzdC5hcHBsaWNhdGlvbklkLCBlbW9qaUlkKSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZ2V0RW1vamlzKGd1aWxkSWQpIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LmdldDxEaXNjb3JkRW1vamlbXT4ocmVzdC5yb3V0ZXMuZ3VpbGRzLmVtb2ppcyhndWlsZElkKSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZ2V0QXBwbGljYXRpb25FbW9qaXMoKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5nZXQ8eyBpdGVtczogRGlzY29yZEVtb2ppW10gfT4ocmVzdC5yb3V0ZXMuYXBwbGljYXRpb25FbW9qaXMocmVzdC5hcHBsaWNhdGlvbklkKSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZ2V0Rm9sbG93dXBNZXNzYWdlKHRva2VuLCBtZXNzYWdlSWQpIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LmdldDxEaXNjb3JkTWVzc2FnZT4ocmVzdC5yb3V0ZXMuaW50ZXJhY3Rpb25zLnJlc3BvbnNlcy5tZXNzYWdlKHJlc3QuYXBwbGljYXRpb25JZCwgdG9rZW4sIG1lc3NhZ2VJZCksIHsgdW5hdXRob3JpemVkOiB0cnVlIH0pXG4gICAgfSxcblxuICAgIGFzeW5jIGdldEdhdGV3YXlCb3QoKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5nZXQ8RGlzY29yZEdldEdhdGV3YXlCb3Q+KHJlc3Qucm91dGVzLmdhdGV3YXlCb3QoKSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZ2V0R2xvYmFsQXBwbGljYXRpb25Db21tYW5kKGNvbW1hbmRJZCkge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QuZ2V0PERpc2NvcmRBcHBsaWNhdGlvbkNvbW1hbmQ+KHJlc3Qucm91dGVzLmludGVyYWN0aW9ucy5jb21tYW5kcy5jb21tYW5kKHJlc3QuYXBwbGljYXRpb25JZCwgY29tbWFuZElkKSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZ2V0R2xvYmFsQXBwbGljYXRpb25Db21tYW5kcygpIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LmdldDxEaXNjb3JkQXBwbGljYXRpb25Db21tYW5kW10+KHJlc3Qucm91dGVzLmludGVyYWN0aW9ucy5jb21tYW5kcy5jb21tYW5kcyhyZXN0LmFwcGxpY2F0aW9uSWQpKVxuICAgIH0sXG5cbiAgICBhc3luYyBnZXRHdWlsZChndWlsZElkLCBvcHRpb25zID0geyBjb3VudHM6IHRydWUgfSkge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QuZ2V0PERpc2NvcmRHdWlsZD4ocmVzdC5yb3V0ZXMuZ3VpbGRzLmd1aWxkKGd1aWxkSWQsIG9wdGlvbnMuY291bnRzKSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZ2V0R3VpbGRzKHRva2VuLCBvcHRpb25zKSB7XG4gICAgICBjb25zdCBtYWtlUmVxdWVzdE9wdGlvbnM6IE1ha2VSZXF1ZXN0T3B0aW9ucyB8IHVuZGVmaW5lZCA9IHRva2VuXG4gICAgICAgID8ge1xuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICBhdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dG9rZW59YCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB1bmF1dGhvcml6ZWQ6IHRydWUsXG4gICAgICAgICAgfVxuICAgICAgICA6IHVuZGVmaW5lZFxuXG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5nZXQ8UGFydGlhbDxEaXNjb3JkR3VpbGQ+W10+KHJlc3Qucm91dGVzLmd1aWxkcy51c2VyR3VpbGRzKG9wdGlvbnMpLCBtYWtlUmVxdWVzdE9wdGlvbnMpXG4gICAgfSxcblxuICAgIGFzeW5jIGdldEd1aWxkQXBwbGljYXRpb25Db21tYW5kKGNvbW1hbmRJZCwgZ3VpbGRJZCkge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QuZ2V0PERpc2NvcmRBcHBsaWNhdGlvbkNvbW1hbmQ+KHJlc3Qucm91dGVzLmludGVyYWN0aW9ucy5jb21tYW5kcy5ndWlsZHMub25lKHJlc3QuYXBwbGljYXRpb25JZCwgZ3VpbGRJZCwgY29tbWFuZElkKSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZ2V0R3VpbGRBcHBsaWNhdGlvbkNvbW1hbmRzKGd1aWxkSWQpIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LmdldDxEaXNjb3JkQXBwbGljYXRpb25Db21tYW5kW10+KHJlc3Qucm91dGVzLmludGVyYWN0aW9ucy5jb21tYW5kcy5ndWlsZHMuYWxsKHJlc3QuYXBwbGljYXRpb25JZCwgZ3VpbGRJZCkpXG4gICAgfSxcblxuICAgIGFzeW5jIGdldEd1aWxkUHJldmlldyhndWlsZElkKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5nZXQ8RGlzY29yZEd1aWxkUHJldmlldz4ocmVzdC5yb3V0ZXMuZ3VpbGRzLnByZXZpZXcoZ3VpbGRJZCkpXG4gICAgfSxcblxuICAgIGFzeW5jIGdldEd1aWxkVGVtcGxhdGUodGVtcGxhdGVDb2RlKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5nZXQ8RGlzY29yZFRlbXBsYXRlPihyZXN0LnJvdXRlcy5ndWlsZHMudGVtcGxhdGVzLmNvZGUodGVtcGxhdGVDb2RlKSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZ2V0R3VpbGRUZW1wbGF0ZXMoZ3VpbGRJZCkge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QuZ2V0PERpc2NvcmRUZW1wbGF0ZVtdPihyZXN0LnJvdXRlcy5ndWlsZHMudGVtcGxhdGVzLmFsbChndWlsZElkKSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZ2V0R3VpbGRXZWJob29rcyhndWlsZElkKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5nZXQ8RGlzY29yZFdlYmhvb2tbXT4ocmVzdC5yb3V0ZXMuZ3VpbGRzLndlYmhvb2tzKGd1aWxkSWQpKVxuICAgIH0sXG5cbiAgICBhc3luYyBnZXRJbnRlZ3JhdGlvbnMoZ3VpbGRJZCkge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QuZ2V0PERpc2NvcmRJbnRlZ3JhdGlvbltdPihyZXN0LnJvdXRlcy5ndWlsZHMuaW50ZWdyYXRpb25zKGd1aWxkSWQpKVxuICAgIH0sXG5cbiAgICBhc3luYyBnZXRJbnZpdGUoaW52aXRlQ29kZSwgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QuZ2V0PERpc2NvcmRJbnZpdGVNZXRhZGF0YT4ocmVzdC5yb3V0ZXMuZ3VpbGRzLmludml0ZShpbnZpdGVDb2RlLCBvcHRpb25zKSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZ2V0SW52aXRlcyhndWlsZElkKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5nZXQ8RGlzY29yZEludml0ZU1ldGFkYXRhW10+KHJlc3Qucm91dGVzLmd1aWxkcy5pbnZpdGVzKGd1aWxkSWQpKVxuICAgIH0sXG5cbiAgICBhc3luYyBnZXRNZXNzYWdlKGNoYW5uZWxJZCwgbWVzc2FnZUlkKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5nZXQ8RGlzY29yZE1lc3NhZ2U+KHJlc3Qucm91dGVzLmNoYW5uZWxzLm1lc3NhZ2UoY2hhbm5lbElkLCBtZXNzYWdlSWQpKVxuICAgIH0sXG5cbiAgICBhc3luYyBnZXRNZXNzYWdlcyhjaGFubmVsSWQsIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LmdldDxEaXNjb3JkTWVzc2FnZVtdPihyZXN0LnJvdXRlcy5jaGFubmVscy5tZXNzYWdlcyhjaGFubmVsSWQsIG9wdGlvbnMpKVxuICAgIH0sXG5cbiAgICBhc3luYyBnZXRTdGlja2VyUGFjayhzdGlja2VyUGFja0lkKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5nZXQ8RGlzY29yZFN0aWNrZXJQYWNrPihyZXN0LnJvdXRlcy5zdGlja2VyUGFjayhzdGlja2VyUGFja0lkKSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZ2V0U3RpY2tlclBhY2tzKCkge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QuZ2V0PERpc2NvcmRTdGlja2VyUGFja1tdPihyZXN0LnJvdXRlcy5zdGlja2VyUGFja3MoKSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZ2V0T3JpZ2luYWxJbnRlcmFjdGlvblJlc3BvbnNlKHRva2VuKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5nZXQ8RGlzY29yZE1lc3NhZ2U+KHJlc3Qucm91dGVzLmludGVyYWN0aW9ucy5yZXNwb25zZXMub3JpZ2luYWwocmVzdC5hcHBsaWNhdGlvbklkLCB0b2tlbiksIHsgdW5hdXRob3JpemVkOiB0cnVlIH0pXG4gICAgfSxcblxuICAgIGFzeW5jIGdldFBpbm5lZE1lc3NhZ2VzKGNoYW5uZWxJZCkge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QuZ2V0PERpc2NvcmRNZXNzYWdlW10+KHJlc3Qucm91dGVzLmNoYW5uZWxzLnBpbnMoY2hhbm5lbElkKSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZ2V0UHJpdmF0ZUFyY2hpdmVkVGhyZWFkcyhjaGFubmVsSWQsIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LmdldDxEaXNjb3JkTGlzdEFyY2hpdmVkVGhyZWFkcz4ocmVzdC5yb3V0ZXMuY2hhbm5lbHMudGhyZWFkcy5wcml2YXRlKGNoYW5uZWxJZCwgb3B0aW9ucykpXG4gICAgfSxcblxuICAgIGFzeW5jIGdldFByaXZhdGVKb2luZWRBcmNoaXZlZFRocmVhZHMoY2hhbm5lbElkLCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5nZXQ8RGlzY29yZExpc3RBcmNoaXZlZFRocmVhZHM+KHJlc3Qucm91dGVzLmNoYW5uZWxzLnRocmVhZHMuam9pbmVkKGNoYW5uZWxJZCwgb3B0aW9ucykpXG4gICAgfSxcblxuICAgIGFzeW5jIGdldFBydW5lQ291bnQoZ3VpbGRJZCwgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QuZ2V0PERpc2NvcmRQcnVuZWRDb3VudD4ocmVzdC5yb3V0ZXMuZ3VpbGRzLnBydW5lKGd1aWxkSWQsIG9wdGlvbnMpKVxuICAgIH0sXG5cbiAgICBhc3luYyBnZXRQdWJsaWNBcmNoaXZlZFRocmVhZHMoY2hhbm5lbElkLCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5nZXQ8RGlzY29yZExpc3RBcmNoaXZlZFRocmVhZHM+KHJlc3Qucm91dGVzLmNoYW5uZWxzLnRocmVhZHMucHVibGljKGNoYW5uZWxJZCwgb3B0aW9ucykpXG4gICAgfSxcblxuICAgIGFzeW5jIGdldFJvbGVzKGd1aWxkSWQpIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LmdldDxEaXNjb3JkUm9sZVtdPihyZXN0LnJvdXRlcy5ndWlsZHMucm9sZXMuYWxsKGd1aWxkSWQpKVxuICAgIH0sXG5cbiAgICBhc3luYyBnZXRSb2xlKGd1aWxkSWQsIHJvbGVJZCkge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QuZ2V0PERpc2NvcmRSb2xlPihyZXN0LnJvdXRlcy5ndWlsZHMucm9sZXMub25lKGd1aWxkSWQsIHJvbGVJZCkpXG4gICAgfSxcblxuICAgIGFzeW5jIGdldFNjaGVkdWxlZEV2ZW50KGd1aWxkSWQsIGV2ZW50SWQsIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LmdldDxEaXNjb3JkU2NoZWR1bGVkRXZlbnQ+KHJlc3Qucm91dGVzLmd1aWxkcy5ldmVudHMuZXZlbnQoZ3VpbGRJZCwgZXZlbnRJZCwgb3B0aW9ucz8ud2l0aFVzZXJDb3VudCkpXG4gICAgfSxcblxuICAgIGFzeW5jIGdldFNjaGVkdWxlZEV2ZW50cyhndWlsZElkLCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5nZXQ8RGlzY29yZFNjaGVkdWxlZEV2ZW50W10+KHJlc3Qucm91dGVzLmd1aWxkcy5ldmVudHMuZXZlbnRzKGd1aWxkSWQsIG9wdGlvbnM/LndpdGhVc2VyQ291bnQpKVxuICAgIH0sXG5cbiAgICBhc3luYyBnZXRTY2hlZHVsZWRFdmVudFVzZXJzKGd1aWxkSWQsIGV2ZW50SWQsIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LmdldDxBcnJheTx7IHVzZXI6IERpc2NvcmRVc2VyOyBtZW1iZXI/OiBEaXNjb3JkTWVtYmVyIH0+PihyZXN0LnJvdXRlcy5ndWlsZHMuZXZlbnRzLnVzZXJzKGd1aWxkSWQsIGV2ZW50SWQsIG9wdGlvbnMpKVxuICAgIH0sXG5cbiAgICBhc3luYyBnZXRTZXNzaW9uSW5mbygpIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LmdldEdhdGV3YXlCb3QoKVxuICAgIH0sXG5cbiAgICBhc3luYyBnZXRTdGFnZUluc3RhbmNlKGNoYW5uZWxJZCkge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QuZ2V0PERpc2NvcmRTdGFnZUluc3RhbmNlPihyZXN0LnJvdXRlcy5jaGFubmVscy5zdGFnZShjaGFubmVsSWQpKVxuICAgIH0sXG5cbiAgICBhc3luYyBnZXRPd25Wb2ljZVN0YXRlKGd1aWxkSWQpIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LmdldDxEaXNjb3JkVm9pY2VTdGF0ZT4ocmVzdC5yb3V0ZXMuZ3VpbGRzLnZvaWNlKGd1aWxkSWQpKVxuICAgIH0sXG5cbiAgICBhc3luYyBnZXRVc2VyVm9pY2VTdGF0ZShndWlsZElkLCB1c2VySWQpIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LmdldDxEaXNjb3JkVm9pY2VTdGF0ZT4ocmVzdC5yb3V0ZXMuZ3VpbGRzLnZvaWNlKGd1aWxkSWQsIHVzZXJJZCkpXG4gICAgfSxcblxuICAgIGFzeW5jIGdldFN0aWNrZXIoc3RpY2tlcklkOiBCaWdTdHJpbmcpIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LmdldDxEaXNjb3JkU3RpY2tlcj4ocmVzdC5yb3V0ZXMuc3RpY2tlcihzdGlja2VySWQpKVxuICAgIH0sXG5cbiAgICBhc3luYyBnZXRHdWlsZFN0aWNrZXIoZ3VpbGRJZCwgc3RpY2tlcklkKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5nZXQ8RGlzY29yZFN0aWNrZXI+KHJlc3Qucm91dGVzLmd1aWxkcy5zdGlja2VyKGd1aWxkSWQsIHN0aWNrZXJJZCkpXG4gICAgfSxcblxuICAgIGFzeW5jIGdldEd1aWxkU3RpY2tlcnMoZ3VpbGRJZCkge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QuZ2V0PERpc2NvcmRTdGlja2VyW10+KHJlc3Qucm91dGVzLmd1aWxkcy5zdGlja2VycyhndWlsZElkKSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZ2V0VGhyZWFkTWVtYmVyKGNoYW5uZWxJZCwgdXNlcklkKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5nZXQ8RGlzY29yZFRocmVhZE1lbWJlcj4ocmVzdC5yb3V0ZXMuY2hhbm5lbHMudGhyZWFkcy51c2VyKGNoYW5uZWxJZCwgdXNlcklkKSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZ2V0VGhyZWFkTWVtYmVycyhjaGFubmVsSWQpIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LmdldDxEaXNjb3JkVGhyZWFkTWVtYmVyW10+KHJlc3Qucm91dGVzLmNoYW5uZWxzLnRocmVhZHMubWVtYmVycyhjaGFubmVsSWQpKVxuICAgIH0sXG5cbiAgICBhc3luYyBnZXRSZWFjdGlvbnMoY2hhbm5lbElkLCBtZXNzYWdlSWQsIHJlYWN0aW9uLCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5nZXQ8RGlzY29yZFVzZXJbXT4ocmVzdC5yb3V0ZXMuY2hhbm5lbHMucmVhY3Rpb25zLm1lc3NhZ2UoY2hhbm5lbElkLCBtZXNzYWdlSWQsIHJlYWN0aW9uLCBvcHRpb25zKSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZ2V0VXNlcihpZCkge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QuZ2V0PERpc2NvcmRVc2VyPihyZXN0LnJvdXRlcy51c2VyKGlkKSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZ2V0Q3VycmVudFVzZXIodG9rZW4pIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LmdldDxEaXNjb3JkVXNlcj4ocmVzdC5yb3V0ZXMuY3VycmVudFVzZXIoKSwge1xuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgYXV0aG9yaXphdGlvbjogYEJlYXJlciAke3Rva2VufWAsXG4gICAgICAgIH0sXG4gICAgICAgIHVuYXV0aG9yaXplZDogdHJ1ZSxcbiAgICAgIH0pXG4gICAgfSxcblxuICAgIGFzeW5jIGdldFVzZXJDb25uZWN0aW9ucyh0b2tlbikge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QuZ2V0PERpc2NvcmRDb25uZWN0aW9uW10+KHJlc3Qucm91dGVzLm9hdXRoMi5jb25uZWN0aW9ucygpLCB7XG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICBhdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dG9rZW59YCxcbiAgICAgICAgfSxcbiAgICAgICAgdW5hdXRob3JpemVkOiB0cnVlLFxuICAgICAgfSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZ2V0VXNlckFwcGxpY2F0aW9uUm9sZUNvbm5lY3Rpb24odG9rZW4sIGFwcGxpY2F0aW9uSWQpIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LmdldDxEaXNjb3JkQXBwbGljYXRpb25Sb2xlQ29ubmVjdGlvbj4ocmVzdC5yb3V0ZXMub2F1dGgyLnJvbGVDb25uZWN0aW9ucyhhcHBsaWNhdGlvbklkKSwge1xuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgYXV0aG9yaXphdGlvbjogYEJlYXJlciAke3Rva2VufWAsXG4gICAgICAgIH0sXG4gICAgICAgIHVuYXV0aG9yaXplZDogdHJ1ZSxcbiAgICAgIH0pXG4gICAgfSxcblxuICAgIGFzeW5jIGdldFZhbml0eVVybChndWlsZElkKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5nZXQ8RGlzY29yZFZhbml0eVVybD4ocmVzdC5yb3V0ZXMuZ3VpbGRzLnZhbml0eShndWlsZElkKSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZ2V0Vm9pY2VSZWdpb25zKGd1aWxkSWQpIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LmdldDxEaXNjb3JkVm9pY2VSZWdpb25bXT4ocmVzdC5yb3V0ZXMuZ3VpbGRzLnJlZ2lvbnMoZ3VpbGRJZCkpXG4gICAgfSxcblxuICAgIGFzeW5jIGdldFdlYmhvb2sod2ViaG9va0lkKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5nZXQ8RGlzY29yZFdlYmhvb2s+KHJlc3Qucm91dGVzLndlYmhvb2tzLmlkKHdlYmhvb2tJZCkpXG4gICAgfSxcblxuICAgIGFzeW5jIGdldFdlYmhvb2tNZXNzYWdlKHdlYmhvb2tJZCwgdG9rZW4sIG1lc3NhZ2VJZCwgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QuZ2V0PERpc2NvcmRNZXNzYWdlPihyZXN0LnJvdXRlcy53ZWJob29rcy5tZXNzYWdlKHdlYmhvb2tJZCwgdG9rZW4sIG1lc3NhZ2VJZCwgb3B0aW9ucyksIHtcbiAgICAgICAgdW5hdXRob3JpemVkOiB0cnVlLFxuICAgICAgfSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZ2V0V2ViaG9va1dpdGhUb2tlbih3ZWJob29rSWQsIHRva2VuKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5nZXQ8RGlzY29yZFdlYmhvb2s+KHJlc3Qucm91dGVzLndlYmhvb2tzLndlYmhvb2sod2ViaG9va0lkLCB0b2tlbiksIHtcbiAgICAgICAgdW5hdXRob3JpemVkOiB0cnVlLFxuICAgICAgfSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZ2V0V2VsY29tZVNjcmVlbihndWlsZElkKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5nZXQ8RGlzY29yZFdlbGNvbWVTY3JlZW4+KHJlc3Qucm91dGVzLmd1aWxkcy53ZWxjb21lKGd1aWxkSWQpKVxuICAgIH0sXG5cbiAgICBhc3luYyBnZXRXaWRnZXQoZ3VpbGRJZCkge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QuZ2V0PERpc2NvcmRHdWlsZFdpZGdldD4ocmVzdC5yb3V0ZXMuZ3VpbGRzLndpZGdldEpzb24oZ3VpbGRJZCkpXG4gICAgfSxcblxuICAgIGFzeW5jIGdldFdpZGdldFNldHRpbmdzKGd1aWxkSWQpIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LmdldDxEaXNjb3JkR3VpbGRXaWRnZXRTZXR0aW5ncz4ocmVzdC5yb3V0ZXMuZ3VpbGRzLndpZGdldChndWlsZElkKSlcbiAgICB9LFxuXG4gICAgYXN5bmMgam9pblRocmVhZChjaGFubmVsSWQpIHtcbiAgICAgIGF3YWl0IHJlc3QucHV0KHJlc3Qucm91dGVzLmNoYW5uZWxzLnRocmVhZHMubWUoY2hhbm5lbElkKSlcbiAgICB9LFxuXG4gICAgYXN5bmMgbGVhdmVHdWlsZChndWlsZElkKSB7XG4gICAgICBhd2FpdCByZXN0LmRlbGV0ZShyZXN0LnJvdXRlcy5ndWlsZHMubGVhdmUoZ3VpbGRJZCkpXG4gICAgfSxcblxuICAgIGFzeW5jIGxlYXZlVGhyZWFkKGNoYW5uZWxJZCkge1xuICAgICAgYXdhaXQgcmVzdC5kZWxldGUocmVzdC5yb3V0ZXMuY2hhbm5lbHMudGhyZWFkcy5tZShjaGFubmVsSWQpKVxuICAgIH0sXG5cbiAgICBhc3luYyBwdWJsaXNoTWVzc2FnZShjaGFubmVsSWQsIG1lc3NhZ2VJZCkge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QucG9zdDxEaXNjb3JkTWVzc2FnZT4ocmVzdC5yb3V0ZXMuY2hhbm5lbHMuY3Jvc3Nwb3N0KGNoYW5uZWxJZCwgbWVzc2FnZUlkKSlcbiAgICB9LFxuXG4gICAgYXN5bmMgcmVtb3ZlUm9sZShndWlsZElkLCB1c2VySWQsIHJvbGVJZCwgcmVhc29uKSB7XG4gICAgICBhd2FpdCByZXN0LmRlbGV0ZShyZXN0LnJvdXRlcy5ndWlsZHMucm9sZXMubWVtYmVyKGd1aWxkSWQsIHVzZXJJZCwgcm9sZUlkKSwgeyByZWFzb24gfSlcbiAgICB9LFxuXG4gICAgYXN5bmMgcmVtb3ZlVGhyZWFkTWVtYmVyKGNoYW5uZWxJZCwgdXNlcklkKSB7XG4gICAgICBhd2FpdCByZXN0LmRlbGV0ZShyZXN0LnJvdXRlcy5jaGFubmVscy50aHJlYWRzLnVzZXIoY2hhbm5lbElkLCB1c2VySWQpKVxuICAgIH0sXG5cbiAgICBhc3luYyByZW1vdmVEbVJlY2lwaWVudChjaGFubmVsSWQsIHVzZXJJZCkge1xuICAgICAgYXdhaXQgcmVzdC5kZWxldGUocmVzdC5yb3V0ZXMuY2hhbm5lbHMuZG1SZWNpcGllbnQoY2hhbm5lbElkLCB1c2VySWQpKVxuICAgIH0sXG5cbiAgICBhc3luYyBzZW5kRm9sbG93dXBNZXNzYWdlKHRva2VuLCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5wb3N0KHJlc3Qucm91dGVzLndlYmhvb2tzLndlYmhvb2socmVzdC5hcHBsaWNhdGlvbklkLCB0b2tlbiksIHtcbiAgICAgICAgYm9keTogb3B0aW9ucyxcbiAgICAgICAgZmlsZXM6IG9wdGlvbnMuZmlsZXMsXG4gICAgICAgIHVuYXV0aG9yaXplZDogdHJ1ZSxcbiAgICAgIH0pXG4gICAgfSxcblxuICAgIGFzeW5jIHNlbmRJbnRlcmFjdGlvblJlc3BvbnNlKGludGVyYWN0aW9uSWQsIHRva2VuLCBvcHRpb25zLCBwYXJhbXMpIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LnBvc3Q8dm9pZCB8IERpc2NvcmRJbnRlcmFjdGlvbkNhbGxiYWNrUmVzcG9uc2U+KHJlc3Qucm91dGVzLmludGVyYWN0aW9ucy5yZXNwb25zZXMuY2FsbGJhY2soaW50ZXJhY3Rpb25JZCwgdG9rZW4sIHBhcmFtcyksIHtcbiAgICAgICAgYm9keTogb3B0aW9ucyxcbiAgICAgICAgZmlsZXM6IG9wdGlvbnMuZGF0YT8uZmlsZXMsXG4gICAgICAgIHJ1blRocm91Z2hRdWV1ZTogZmFsc2UsXG4gICAgICAgIHVuYXV0aG9yaXplZDogdHJ1ZSxcbiAgICAgIH0pXG4gICAgfSxcblxuICAgIGFzeW5jIHNlbmRNZXNzYWdlKGNoYW5uZWxJZCwgYm9keSkge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QucG9zdDxEaXNjb3JkTWVzc2FnZT4ocmVzdC5yb3V0ZXMuY2hhbm5lbHMubWVzc2FnZXMoY2hhbm5lbElkKSwgeyBib2R5LCBmaWxlczogYm9keS5maWxlcyB9KVxuICAgIH0sXG5cbiAgICBhc3luYyBzdGFydFRocmVhZFdpdGhNZXNzYWdlKGNoYW5uZWxJZCwgbWVzc2FnZUlkLCBib2R5LCByZWFzb24pIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LnBvc3Q8RGlzY29yZENoYW5uZWw+KHJlc3Qucm91dGVzLmNoYW5uZWxzLnRocmVhZHMubWVzc2FnZShjaGFubmVsSWQsIG1lc3NhZ2VJZCksIHsgYm9keSwgcmVhc29uIH0pXG4gICAgfSxcblxuICAgIGFzeW5jIHN0YXJ0VGhyZWFkV2l0aG91dE1lc3NhZ2UoY2hhbm5lbElkLCBib2R5LCByZWFzb24pIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LnBvc3Q8RGlzY29yZENoYW5uZWw+KHJlc3Qucm91dGVzLmNoYW5uZWxzLnRocmVhZHMuYWxsKGNoYW5uZWxJZCksIHsgYm9keSwgcmVhc29uIH0pXG4gICAgfSxcblxuICAgIGFzeW5jIGdldFBvbGxBbnN3ZXJWb3RlcnMoY2hhbm5lbElkLCBtZXNzYWdlSWQsIGFuc3dlcklkLCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5nZXQ8RGlzY29yZEdldEFuc3dlclZvdGVzUmVzcG9uc2U+KHJlc3Qucm91dGVzLmNoYW5uZWxzLnBvbGxzLnZvdGVzKGNoYW5uZWxJZCwgbWVzc2FnZUlkLCBhbnN3ZXJJZCwgb3B0aW9ucykpXG4gICAgfSxcblxuICAgIGFzeW5jIGVuZFBvbGwoY2hhbm5lbElkLCBtZXNzYWdlSWQpIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LnBvc3Q8RGlzY29yZE1lc3NhZ2U+KHJlc3Qucm91dGVzLmNoYW5uZWxzLnBvbGxzLmV4cGlyZShjaGFubmVsSWQsIG1lc3NhZ2VJZCkpXG4gICAgfSxcblxuICAgIGFzeW5jIHN5bmNHdWlsZFRlbXBsYXRlKGd1aWxkSWQpIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LnB1dDxEaXNjb3JkVGVtcGxhdGU+KHJlc3Qucm91dGVzLmd1aWxkcy50ZW1wbGF0ZXMuYWxsKGd1aWxkSWQpKVxuICAgIH0sXG5cbiAgICBhc3luYyBiYW5NZW1iZXIoZ3VpbGRJZCwgdXNlcklkLCBib2R5LCByZWFzb24pIHtcbiAgICAgIGF3YWl0IHJlc3QucHV0PHZvaWQ+KHJlc3Qucm91dGVzLmd1aWxkcy5tZW1iZXJzLmJhbihndWlsZElkLCB1c2VySWQpLCB7IGJvZHksIHJlYXNvbiB9KVxuICAgIH0sXG5cbiAgICBhc3luYyBidWxrQmFuTWVtYmVycyhndWlsZElkLCBvcHRpb25zLCByZWFzb24pIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LnBvc3Q8RGlzY29yZEJ1bGtCYW4+KHJlc3Qucm91dGVzLmd1aWxkcy5tZW1iZXJzLmJ1bGtCYW4oZ3VpbGRJZCksIHsgYm9keTogb3B0aW9ucywgcmVhc29uIH0pXG4gICAgfSxcblxuICAgIGFzeW5jIGVkaXRCb3RNZW1iZXIoZ3VpbGRJZCwgYm9keSwgcmVhc29uKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5wYXRjaDxEaXNjb3JkTWVtYmVyPihyZXN0LnJvdXRlcy5ndWlsZHMubWVtYmVycy5ib3QoZ3VpbGRJZCksIHsgYm9keSwgcmVhc29uIH0pXG4gICAgfSxcblxuICAgIGFzeW5jIGVkaXRNZW1iZXIoZ3VpbGRJZCwgdXNlcklkLCBib2R5LCByZWFzb24pIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LnBhdGNoPERpc2NvcmRNZW1iZXJXaXRoVXNlcj4ocmVzdC5yb3V0ZXMuZ3VpbGRzLm1lbWJlcnMubWVtYmVyKGd1aWxkSWQsIHVzZXJJZCksIHsgYm9keSwgcmVhc29uIH0pXG4gICAgfSxcblxuICAgIGFzeW5jIGdldE1lbWJlcihndWlsZElkLCB1c2VySWQpIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LmdldDxEaXNjb3JkTWVtYmVyV2l0aFVzZXI+KHJlc3Qucm91dGVzLmd1aWxkcy5tZW1iZXJzLm1lbWJlcihndWlsZElkLCB1c2VySWQpKVxuICAgIH0sXG5cbiAgICBhc3luYyBnZXRDdXJyZW50TWVtYmVyKGd1aWxkSWQsIHRva2VuKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5nZXQ8RGlzY29yZE1lbWJlcldpdGhVc2VyPihyZXN0LnJvdXRlcy5ndWlsZHMubWVtYmVycy5jdXJyZW50TWVtYmVyKGd1aWxkSWQpLCB7XG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICBhdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dG9rZW59YCxcbiAgICAgICAgfSxcbiAgICAgICAgdW5hdXRob3JpemVkOiB0cnVlLFxuICAgICAgfSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZ2V0TWVtYmVycyhndWlsZElkLCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5nZXQ8RGlzY29yZE1lbWJlcldpdGhVc2VyW10+KHJlc3Qucm91dGVzLmd1aWxkcy5tZW1iZXJzLm1lbWJlcnMoZ3VpbGRJZCwgb3B0aW9ucykpXG4gICAgfSxcblxuICAgIGFzeW5jIGdldEFwcGxpY2F0aW9uQWN0aXZpdHlJbnN0YW5jZShhcHBsaWNhdGlvbklkLCBpbnN0YW5jZUlkKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5nZXQ8RGlzY29yZEFjdGl2aXR5SW5zdGFuY2U+KHJlc3Qucm91dGVzLmFwcGxpY2F0aW9uQWN0aXZpdHlJbnN0YW5jZShhcHBsaWNhdGlvbklkLCBpbnN0YW5jZUlkKSlcbiAgICB9LFxuXG4gICAgYXN5bmMga2lja01lbWJlcihndWlsZElkLCB1c2VySWQsIHJlYXNvbikge1xuICAgICAgYXdhaXQgcmVzdC5kZWxldGUocmVzdC5yb3V0ZXMuZ3VpbGRzLm1lbWJlcnMubWVtYmVyKGd1aWxkSWQsIHVzZXJJZCksIHtcbiAgICAgICAgcmVhc29uLFxuICAgICAgfSlcbiAgICB9LFxuXG4gICAgYXN5bmMgcGluTWVzc2FnZShjaGFubmVsSWQsIG1lc3NhZ2VJZCwgcmVhc29uKSB7XG4gICAgICBhd2FpdCByZXN0LnB1dChyZXN0LnJvdXRlcy5jaGFubmVscy5waW4oY2hhbm5lbElkLCBtZXNzYWdlSWQpLCB7IHJlYXNvbiB9KVxuICAgIH0sXG5cbiAgICBhc3luYyBwcnVuZU1lbWJlcnMoZ3VpbGRJZCwgYm9keSwgcmVhc29uKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5wb3N0PHsgcHJ1bmVkOiBudW1iZXIgfCBudWxsIH0+KHJlc3Qucm91dGVzLmd1aWxkcy5tZW1iZXJzLnBydW5lKGd1aWxkSWQpLCB7IGJvZHksIHJlYXNvbiB9KVxuICAgIH0sXG5cbiAgICBhc3luYyBzZWFyY2hNZW1iZXJzKGd1aWxkSWQsIHF1ZXJ5LCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5nZXQ8RGlzY29yZE1lbWJlcldpdGhVc2VyW10+KHJlc3Qucm91dGVzLmd1aWxkcy5tZW1iZXJzLnNlYXJjaChndWlsZElkLCBxdWVyeSwgb3B0aW9ucykpXG4gICAgfSxcblxuICAgIGFzeW5jIGdldEd1aWxkT25ib2FyZGluZyhndWlsZElkKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5nZXQ8RGlzY29yZEd1aWxkT25ib2FyZGluZz4ocmVzdC5yb3V0ZXMuZ3VpbGRzLm9uYm9hcmRpbmcoZ3VpbGRJZCkpXG4gICAgfSxcblxuICAgIGFzeW5jIGVkaXRHdWlsZE9uYm9hcmRpbmcoZ3VpbGRJZCwgb3B0aW9ucywgcmVhc29uKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5wdXQ8RGlzY29yZEd1aWxkT25ib2FyZGluZz4ocmVzdC5yb3V0ZXMuZ3VpbGRzLm9uYm9hcmRpbmcoZ3VpbGRJZCksIHtcbiAgICAgICAgYm9keTogb3B0aW9ucyxcbiAgICAgICAgcmVhc29uLFxuICAgICAgfSlcbiAgICB9LFxuXG4gICAgYXN5bmMgdW5iYW5NZW1iZXIoZ3VpbGRJZCwgdXNlcklkLCByZWFzb24pIHtcbiAgICAgIGF3YWl0IHJlc3QuZGVsZXRlKHJlc3Qucm91dGVzLmd1aWxkcy5tZW1iZXJzLmJhbihndWlsZElkLCB1c2VySWQpLCB7IHJlYXNvbiB9KVxuICAgIH0sXG5cbiAgICBhc3luYyB1bnBpbk1lc3NhZ2UoY2hhbm5lbElkLCBtZXNzYWdlSWQsIHJlYXNvbikge1xuICAgICAgYXdhaXQgcmVzdC5kZWxldGUocmVzdC5yb3V0ZXMuY2hhbm5lbHMucGluKGNoYW5uZWxJZCwgbWVzc2FnZUlkKSwgeyByZWFzb24gfSlcbiAgICB9LFxuXG4gICAgYXN5bmMgdHJpZ2dlclR5cGluZ0luZGljYXRvcihjaGFubmVsSWQpIHtcbiAgICAgIGF3YWl0IHJlc3QucG9zdChyZXN0LnJvdXRlcy5jaGFubmVscy50eXBpbmcoY2hhbm5lbElkKSlcbiAgICB9LFxuXG4gICAgYXN5bmMgdXBzZXJ0R2xvYmFsQXBwbGljYXRpb25Db21tYW5kcyhib2R5LCBvcHRpb25zKSB7XG4gICAgICBjb25zdCByZXN0T3B0aW9uczogTWFrZVJlcXVlc3RPcHRpb25zID0geyBib2R5IH1cblxuICAgICAgaWYgKG9wdGlvbnM/LmJlYXJlclRva2VuKSB7XG4gICAgICAgIHJlc3RPcHRpb25zLnVuYXV0aG9yaXplZCA9IHRydWVcbiAgICAgICAgcmVzdE9wdGlvbnMuaGVhZGVycyA9IHtcbiAgICAgICAgICBhdXRob3JpemF0aW9uOiBgQmVhcmVyICR7b3B0aW9ucy5iZWFyZXJUb2tlbn1gLFxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBhd2FpdCByZXN0LnB1dDxEaXNjb3JkQXBwbGljYXRpb25Db21tYW5kW10+KHJlc3Qucm91dGVzLmludGVyYWN0aW9ucy5jb21tYW5kcy5jb21tYW5kcyhyZXN0LmFwcGxpY2F0aW9uSWQpLCByZXN0T3B0aW9ucylcbiAgICB9LFxuXG4gICAgYXN5bmMgdXBzZXJ0R3VpbGRBcHBsaWNhdGlvbkNvbW1hbmRzKGd1aWxkSWQsIGJvZHksIG9wdGlvbnMpIHtcbiAgICAgIGNvbnN0IHJlc3RPcHRpb25zOiBNYWtlUmVxdWVzdE9wdGlvbnMgPSB7IGJvZHkgfVxuXG4gICAgICBpZiAob3B0aW9ucz8uYmVhcmVyVG9rZW4pIHtcbiAgICAgICAgcmVzdE9wdGlvbnMudW5hdXRob3JpemVkID0gdHJ1ZVxuICAgICAgICByZXN0T3B0aW9ucy5oZWFkZXJzID0ge1xuICAgICAgICAgIGF1dGhvcml6YXRpb246IGBCZWFyZXIgJHtvcHRpb25zLmJlYXJlclRva2VufWAsXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QucHV0PERpc2NvcmRBcHBsaWNhdGlvbkNvbW1hbmRbXT4ocmVzdC5yb3V0ZXMuaW50ZXJhY3Rpb25zLmNvbW1hbmRzLmd1aWxkcy5hbGwocmVzdC5hcHBsaWNhdGlvbklkLCBndWlsZElkKSwgcmVzdE9wdGlvbnMpXG4gICAgfSxcblxuICAgIGFzeW5jIGVkaXRVc2VyQXBwbGljYXRpb25Sb2xlQ29ubmVjdGlvbih0b2tlbiwgYXBwbGljYXRpb25JZCwgYm9keSkge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QucHV0PERpc2NvcmRBcHBsaWNhdGlvblJvbGVDb25uZWN0aW9uPihyZXN0LnJvdXRlcy5vYXV0aDIucm9sZUNvbm5lY3Rpb25zKGFwcGxpY2F0aW9uSWQpLCB7XG4gICAgICAgIGJvZHksXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICBhdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dG9rZW59YCxcbiAgICAgICAgfSxcbiAgICAgICAgdW5hdXRob3JpemVkOiB0cnVlLFxuICAgICAgfSlcbiAgICB9LFxuXG4gICAgYXN5bmMgYWRkR3VpbGRNZW1iZXIoZ3VpbGRJZCwgdXNlcklkLCBib2R5KSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5wdXQocmVzdC5yb3V0ZXMuZ3VpbGRzLm1lbWJlcnMubWVtYmVyKGd1aWxkSWQsIHVzZXJJZCksIHtcbiAgICAgICAgYm9keSxcbiAgICAgIH0pXG4gICAgfSxcblxuICAgIGFzeW5jIGNyZWF0ZVRlc3RFbnRpdGxlbWVudChhcHBsaWNhdGlvbklkLCBib2R5KSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5wb3N0PERpc2NvcmRFbnRpdGxlbWVudD4ocmVzdC5yb3V0ZXMubW9uZXRpemF0aW9uLmVudGl0bGVtZW50cyhhcHBsaWNhdGlvbklkKSwge1xuICAgICAgICBib2R5LFxuICAgICAgfSlcbiAgICB9LFxuXG4gICAgYXN5bmMgbGlzdEVudGl0bGVtZW50cyhhcHBsaWNhdGlvbklkLCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5nZXQ8RGlzY29yZEVudGl0bGVtZW50W10+KHJlc3Qucm91dGVzLm1vbmV0aXphdGlvbi5lbnRpdGxlbWVudHMoYXBwbGljYXRpb25JZCwgb3B0aW9ucykpXG4gICAgfSxcblxuICAgIGFzeW5jIGdldEVudGl0bGVtZW50KGFwcGxpY2F0aW9uSWQsIGVudGl0bGVtZW50SWQpIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LmdldDxEaXNjb3JkRW50aXRsZW1lbnQ+KHJlc3Qucm91dGVzLm1vbmV0aXphdGlvbi5lbnRpdGxlbWVudChhcHBsaWNhdGlvbklkLCBlbnRpdGxlbWVudElkKSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZGVsZXRlVGVzdEVudGl0bGVtZW50KGFwcGxpY2F0aW9uSWQsIGVudGl0bGVtZW50SWQpIHtcbiAgICAgIGF3YWl0IHJlc3QuZGVsZXRlKHJlc3Qucm91dGVzLm1vbmV0aXphdGlvbi5lbnRpdGxlbWVudChhcHBsaWNhdGlvbklkLCBlbnRpdGxlbWVudElkKSlcbiAgICB9LFxuXG4gICAgYXN5bmMgY29uc3VtZUVudGl0bGVtZW50KGFwcGxpY2F0aW9uSWQsIGVudGl0bGVtZW50SWQpIHtcbiAgICAgIGF3YWl0IHJlc3QucG9zdChyZXN0LnJvdXRlcy5tb25ldGl6YXRpb24uY29uc3VtZUVudGl0bGVtZW50KGFwcGxpY2F0aW9uSWQsIGVudGl0bGVtZW50SWQpKVxuICAgIH0sXG5cbiAgICBhc3luYyBsaXN0U2t1cyhhcHBsaWNhdGlvbklkKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5nZXQ8RGlzY29yZFNrdVtdPihyZXN0LnJvdXRlcy5tb25ldGl6YXRpb24uc2t1cyhhcHBsaWNhdGlvbklkKSlcbiAgICB9LFxuXG4gICAgYXN5bmMgbGlzdFN1YnNjcmlwdGlvbnMoc2t1SWQsIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LmdldDxEaXNjb3JkU3Vic2NyaXB0aW9uW10+KHJlc3Qucm91dGVzLm1vbmV0aXphdGlvbi5zdWJzY3JpcHRpb25zKHNrdUlkLCBvcHRpb25zKSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZ2V0U3Vic2NyaXB0aW9uKHNrdUlkLCBzdWJzY3JpcHRpb25JZCkge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QuZ2V0PERpc2NvcmRTdWJzY3JpcHRpb24+KHJlc3Qucm91dGVzLm1vbmV0aXphdGlvbi5zdWJzY3JpcHRpb24oc2t1SWQsIHN1YnNjcmlwdGlvbklkKSlcbiAgICB9LFxuXG4gICAgYXN5bmMgc2VuZFNvdW5kYm9hcmRTb3VuZChjaGFubmVsSWQsIG9wdGlvbnMpIHtcbiAgICAgIGF3YWl0IHJlc3QucG9zdChyZXN0LnJvdXRlcy5zb3VuZGJvYXJkLnNlbmRTb3VuZChjaGFubmVsSWQpLCB7XG4gICAgICAgIGJvZHk6IG9wdGlvbnMsXG4gICAgICB9KVxuICAgIH0sXG5cbiAgICBhc3luYyBsaXN0RGVmYXVsdFNvdW5kYm9hcmRTb3VuZHMoKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5nZXQ8RGlzY29yZFNvdW5kYm9hcmRTb3VuZFtdPihyZXN0LnJvdXRlcy5zb3VuZGJvYXJkLmxpc3REZWZhdWx0KCkpXG4gICAgfSxcblxuICAgIGFzeW5jIGxpc3RHdWlsZFNvdW5kYm9hcmRTb3VuZHMoZ3VpbGRJZCkge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QuZ2V0PHsgaXRlbXM6IERpc2NvcmRTb3VuZGJvYXJkU291bmRbXSB9PihyZXN0LnJvdXRlcy5zb3VuZGJvYXJkLmd1aWxkU291bmRzKGd1aWxkSWQpKVxuICAgIH0sXG5cbiAgICBhc3luYyBnZXRHdWlsZFNvdW5kYm9hcmRTb3VuZChndWlsZElkLCBzb3VuZElkKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5nZXQ8RGlzY29yZFNvdW5kYm9hcmRTb3VuZD4ocmVzdC5yb3V0ZXMuc291bmRib2FyZC5ndWlsZFNvdW5kKGd1aWxkSWQsIHNvdW5kSWQpKVxuICAgIH0sXG5cbiAgICBhc3luYyBjcmVhdGVHdWlsZFNvdW5kYm9hcmRTb3VuZChndWlsZElkLCBvcHRpb25zLCByZWFzb24pIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LnBvc3Q8RGlzY29yZFNvdW5kYm9hcmRTb3VuZD4ocmVzdC5yb3V0ZXMuc291bmRib2FyZC5ndWlsZFNvdW5kcyhndWlsZElkKSwge1xuICAgICAgICBib2R5OiBvcHRpb25zLFxuICAgICAgICByZWFzb24sXG4gICAgICB9KVxuICAgIH0sXG5cbiAgICBhc3luYyBtb2RpZnlHdWlsZFNvdW5kYm9hcmRTb3VuZChndWlsZElkLCBzb3VuZElkLCBvcHRpb25zLCByZWFzb24pIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LnBvc3Q8RGlzY29yZFNvdW5kYm9hcmRTb3VuZD4ocmVzdC5yb3V0ZXMuc291bmRib2FyZC5ndWlsZFNvdW5kKGd1aWxkSWQsIHNvdW5kSWQpLCB7XG4gICAgICAgIGJvZHk6IG9wdGlvbnMsXG4gICAgICAgIHJlYXNvbixcbiAgICAgIH0pXG4gICAgfSxcblxuICAgIGFzeW5jIGRlbGV0ZUd1aWxkU291bmRib2FyZFNvdW5kKGd1aWxkSWQsIHNvdW5kSWQsIHJlYXNvbikge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QuZGVsZXRlKHJlc3Qucm91dGVzLnNvdW5kYm9hcmQuZ3VpbGRTb3VuZChndWlsZElkLCBzb3VuZElkKSwge1xuICAgICAgICByZWFzb24sXG4gICAgICB9KVxuICAgIH0sXG5cbiAgICBwcmVmZXJTbmFrZUNhc2UoZW5hYmxlZDogYm9vbGVhbikge1xuICAgICAgY29uc3QgY2FtZWxpemVyID0gZW5hYmxlZCA/ICh4OiBhbnkpID0+IHggOiBjYW1lbGl6ZVxuXG4gICAgICByZXN0LmdldCA9IGFzeW5jICh1cmwsIG9wdGlvbnMpID0+IHtcbiAgICAgICAgcmV0dXJuIGNhbWVsaXplcihhd2FpdCByZXN0Lm1ha2VSZXF1ZXN0KCdHRVQnLCB1cmwsIG9wdGlvbnMpKVxuICAgICAgfVxuXG4gICAgICByZXN0LnBvc3QgPSBhc3luYyAodXJsOiBzdHJpbmcsIG9wdGlvbnM/OiBPbWl0PENyZWF0ZVJlcXVlc3RCb2R5T3B0aW9ucywgJ2JvZHknIHwgJ21ldGhvZCc+KSA9PiB7XG4gICAgICAgIHJldHVybiBjYW1lbGl6ZXIoYXdhaXQgcmVzdC5tYWtlUmVxdWVzdCgnUE9TVCcsIHVybCwgb3B0aW9ucykpXG4gICAgICB9XG5cbiAgICAgIHJlc3QuZGVsZXRlID0gYXN5bmMgKHVybDogc3RyaW5nLCBvcHRpb25zPzogT21pdDxDcmVhdGVSZXF1ZXN0Qm9keU9wdGlvbnMsICdib2R5JyB8ICdtZXRob2QnPikgPT4ge1xuICAgICAgICBjYW1lbGl6ZXIoYXdhaXQgcmVzdC5tYWtlUmVxdWVzdCgnREVMRVRFJywgdXJsLCBvcHRpb25zKSlcbiAgICAgIH1cblxuICAgICAgcmVzdC5wYXRjaCA9IGFzeW5jICh1cmw6IHN0cmluZywgb3B0aW9ucz86IE9taXQ8Q3JlYXRlUmVxdWVzdEJvZHlPcHRpb25zLCAnYm9keScgfCAnbWV0aG9kJz4pID0+IHtcbiAgICAgICAgcmV0dXJuIGNhbWVsaXplcihhd2FpdCByZXN0Lm1ha2VSZXF1ZXN0KCdQQVRDSCcsIHVybCwgb3B0aW9ucykpXG4gICAgICB9XG5cbiAgICAgIHJlc3QucHV0ID0gYXN5bmMgKHVybDogc3RyaW5nLCBvcHRpb25zPzogT21pdDxDcmVhdGVSZXF1ZXN0Qm9keU9wdGlvbnMsICdib2R5JyB8ICdtZXRob2QnPikgPT4ge1xuICAgICAgICByZXR1cm4gY2FtZWxpemVyKGF3YWl0IHJlc3QubWFrZVJlcXVlc3QoJ1BVVCcsIHVybCwgb3B0aW9ucykpXG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXN0XG4gICAgfSxcbiAgfVxuXG4gIHJldHVybiByZXN0XG59XG5cbmVudW0gSHR0cFJlc3BvbnNlQ29kZSB7XG4gIC8qKiBNaW5pbXVtIHZhbHVlIG9mIGEgY29kZSBpbiBvZGVyIHRvIGNvbnNpZGVyIHRoYXQgaXQgd2FzIHN1Y2Nlc3NmdWwuICovXG4gIFN1Y2Nlc3MgPSAyMDAsXG4gIC8qKiBSZXF1ZXN0IGNvbXBsZXRlZCBzdWNjZXNzZnVsbHksIGJ1dCBEaXNjb3JkIHJldHVybmVkIGFuIGVtcHR5IGJvZHkuICovXG4gIE5vQ29udGVudCA9IDIwNCxcbiAgLyoqIE1pbmltdW0gdmFsdWUgb2YgYSBjb2RlIGluIG9yZGVyIHRvIGNvbnNpZGVyIHRoYXQgc29tZXRoaW5nIHdlbnQgd3JvbmcuICovXG4gIEVycm9yID0gNDAwLFxuICAvKiogVGhpcyByZXF1ZXN0IGdvdCByYXRlIGxpbWl0ZWQuICovXG4gIFRvb01hbnlSZXF1ZXN0cyA9IDQyOSxcbn1cbiJdLCJuYW1lcyI6WyJCdWZmZXIiLCJJbnRlcmFjdGlvblJlc3BvbnNlVHlwZXMiLCJESVNDT1JERU5PX1ZFUlNJT04iLCJjYWxjdWxhdGVCaXRzIiwiY2FtZWxUb1NuYWtlQ2FzZSIsImNhbWVsaXplIiwiZGVsYXkiLCJnZXRCb3RJZEZyb21Ub2tlbiIsImxvZ2dlciIsInByb2Nlc3NSZWFjdGlvblN0cmluZyIsInVybFRvQmFzZTY0IiwiY3JlYXRlSW52YWxpZFJlcXVlc3RCdWNrZXQiLCJRdWV1ZSIsImNyZWF0ZVJvdXRlcyIsIkRJU0NPUkRfQVBJX1ZFUlNJT04iLCJESVNDT1JEX0FQSV9VUkwiLCJBVURJVF9MT0dfUkVBU09OX0hFQURFUiIsIlJBVEVfTElNSVRfUkVNQUlOSU5HX0hFQURFUiIsIlJBVEVfTElNSVRfUkVTRVRfQUZURVJfSEVBREVSIiwiUkFURV9MSU1JVF9HTE9CQUxfSEVBREVSIiwiUkFURV9MSU1JVF9CVUNLRVRfSEVBREVSIiwiUkFURV9MSU1JVF9MSU1JVF9IRUFERVIiLCJSQVRFX0xJTUlUX1NDT1BFX0hFQURFUiIsImNyZWF0ZVJlc3RNYW5hZ2VyIiwib3B0aW9ucyIsImFwcGxpY2F0aW9uSWQiLCJCaWdJbnQiLCJ0b2tlbiIsImJhc2VVcmwiLCJwcm94eSIsInJlc3QiLCJhdXRob3JpemF0aW9uIiwiYXV0aG9yaXphdGlvbkhlYWRlciIsImRlbGV0ZVF1ZXVlRGVsYXkiLCJnbG9iYWxseVJhdGVMaW1pdGVkIiwiaW52YWxpZEJ1Y2tldCIsImlzUHJveGllZCIsInN0YXJ0c1dpdGgiLCJ1cGRhdGVCZWFyZXJUb2tlbkVuZHBvaW50IiwibWF4UmV0cnlDb3VudCIsIkluZmluaXR5IiwicHJvY2Vzc2luZ1JhdGVMaW1pdGVkUGF0aHMiLCJxdWV1ZXMiLCJNYXAiLCJyYXRlTGltaXRlZFBhdGhzIiwidmVyc2lvbiIsInJvdXRlcyIsImNyZWF0ZUJhc2VIZWFkZXJzIiwiY2hlY2tSYXRlTGltaXRzIiwidXJsIiwiaWRlbnRpZmllciIsInJhdGVsaW1pdGVkIiwiZ2V0IiwiZ2xvYmFsIiwibm93IiwiRGF0ZSIsInJlc2V0VGltZXN0YW1wIiwidXBkYXRlVG9rZW5RdWV1ZXMiLCJvbGRUb2tlbiIsIm5ld1Rva2VuIiwiRXJyb3IiLCJoZWFkZXJzIiwidW5kZWZpbmVkIiwiZmV0Y2giLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsIm5ld0lkZW50aWZpZXIiLCJrZXkiLCJxdWV1ZSIsImVudHJpZXMiLCJkZWxldGUiLCJuZXdLZXkiLCJuZXdRdWV1ZSIsIndhaXRpbmciLCJ1bnNoaWZ0IiwicGVuZGluZyIsImNsZWFudXAiLCJzZXQiLCJyYXRlbGltaXRQYXRoIiwiYnVja2V0SWQiLCJjaGFuZ2VUb0Rpc2NvcmRGb3JtYXQiLCJvYmoiLCJBcnJheSIsImlzQXJyYXkiLCJtYXAiLCJpdGVtIiwibmV3T2JqIiwiT2JqZWN0Iiwia2V5cyIsInZhbHVlIiwiaW5jbHVkZXMiLCJkZWZhdWx0X21lbWJlcl9wZXJtaXNzaW9ucyIsIm5hbWVfbG9jYWxpemF0aW9ucyIsImRlc2NyaXB0aW9uX2xvY2FsaXphdGlvbnMiLCJ0b1N0cmluZyIsImNyZWF0ZVJlcXVlc3RCb2R5IiwidW5hdXRob3JpemVkIiwicmVhc29uIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiZmlsZXMiLCJmb3JtIiwiRm9ybURhdGEiLCJpIiwibGVuZ3RoIiwiYXBwZW5kIiwiYmxvYiIsIm5hbWUiLCJmb3JtQm9keSIsImRpc2NvcmRCb2R5IiwicHJvcCIsInB1c2giLCJqb2luIiwiYXNzaWduIiwicHJvY2Vzc1JhdGVMaW1pdGVkUGF0aHMiLCJzaXplIiwic2V0VGltZW91dCIsInByb2Nlc3NIZWFkZXJzIiwicmF0ZUxpbWl0ZWQiLCJyZW1haW5pbmciLCJyZXRyeUFmdGVyIiwicmVzZXQiLCJOdW1iZXIiLCJsaW1pdCIsImhhbmRsZUNvbXBsZXRlZFJlcXVlc3QiLCJpbnRlcnZhbCIsIm1heCIsImdsb2JhbFJlc2V0Iiwic2VuZFJlcXVlc3QiLCJyb3V0ZSIsInBheWxvYWQiLCJyZXF1ZXN0Qm9keU9wdGlvbnMiLCJsb2dnaW5nSGVhZGVycyIsImF1dGhvcml6YXRpb25TY2hlbWUiLCJzcGxpdCIsImRlYnVnIiwicmVzcG9uc2UiLCJjYXRjaCIsImVycm9yIiwicmVqZWN0Iiwib2siLCJzdGF0dXMiLCJzdGF0dXNUZXh0Iiwic2ltcGxpZnlVcmwiLCJ0ZXh0IiwicmV0cnlDb3VudCIsInJlc2V0QWZ0ZXIiLCJhcnJheUJ1ZmZlciIsInJldHJ5UmVxdWVzdCIsInJlc29sdmUiLCJwYXJ0cyIsInNlY29uZExhc3RQYXJ0Iiwic3BsaWNlIiwicHJvY2Vzc1JlcXVlc3QiLCJyZXF1ZXN0IiwicnVuVGhyb3VnaFF1ZXVlIiwicXVldWVJZGVudGlmaWVyIiwibWFrZVJlcXVlc3QiLCJidWNrZXRRdWV1ZSIsIm1lc3NhZ2UiLCJyZXN1bHQiLCJlcnJUZXh0IiwiY2F1c2UiLCJlcnIiLCJqc29uIiwiUHJvbWlzZSIsImRhdGEiLCJwYXJzZSIsInBvc3QiLCJwYXRjaCIsInB1dCIsImFkZFJlYWN0aW9uIiwiY2hhbm5lbElkIiwibWVzc2FnZUlkIiwicmVhY3Rpb24iLCJjaGFubmVscyIsInJlYWN0aW9ucyIsImJvdCIsImFkZFJlYWN0aW9ucyIsIm9yZGVyZWQiLCJhbGwiLCJhZGRSb2xlIiwiZ3VpbGRJZCIsInVzZXJJZCIsInJvbGVJZCIsImd1aWxkcyIsInJvbGVzIiwibWVtYmVyIiwiYWRkVGhyZWFkTWVtYmVyIiwidGhyZWFkcyIsInVzZXIiLCJhZGREbVJlY2lwaWVudCIsImRtUmVjaXBpZW50IiwiY3JlYXRlQXV0b21vZFJ1bGUiLCJhdXRvbW9kIiwicnVsZXMiLCJjcmVhdGVDaGFubmVsIiwiY3JlYXRlRW1vamkiLCJlbW9qaXMiLCJjcmVhdGVBcHBsaWNhdGlvbkVtb2ppIiwiYXBwbGljYXRpb25FbW9qaXMiLCJjcmVhdGVHbG9iYWxBcHBsaWNhdGlvbkNvbW1hbmQiLCJyZXN0T3B0aW9ucyIsImJlYXJlclRva2VuIiwiaW50ZXJhY3Rpb25zIiwiY29tbWFuZHMiLCJjcmVhdGVHdWlsZCIsImNyZWF0ZUd1aWxkQXBwbGljYXRpb25Db21tYW5kIiwiY3JlYXRlR3VpbGRGcm9tVGVtcGxhdGUiLCJ0ZW1wbGF0ZUNvZGUiLCJpY29uIiwidGVtcGxhdGVzIiwiY29kZSIsImNyZWF0ZUd1aWxkU3RpY2tlciIsImZpbGUiLCJkZXNjcmlwdGlvbiIsInRhZ3MiLCJzdGlja2VycyIsImNyZWF0ZUd1aWxkVGVtcGxhdGUiLCJjcmVhdGVGb3J1bVRocmVhZCIsImZvcnVtIiwiY3JlYXRlSW52aXRlIiwiaW52aXRlcyIsImNyZWF0ZVJvbGUiLCJjcmVhdGVTY2hlZHVsZWRFdmVudCIsImV2ZW50cyIsImNyZWF0ZVN0YWdlSW5zdGFuY2UiLCJzdGFnZXMiLCJjcmVhdGVXZWJob29rIiwid2ViaG9va3MiLCJhdmF0YXIiLCJkZWxldGVBdXRvbW9kUnVsZSIsInJ1bGVJZCIsInJ1bGUiLCJkZWxldGVDaGFubmVsIiwiY2hhbm5lbCIsImRlbGV0ZUNoYW5uZWxQZXJtaXNzaW9uT3ZlcnJpZGUiLCJvdmVyd3JpdGVJZCIsIm92ZXJ3cml0ZSIsImRlbGV0ZUVtb2ppIiwiaWQiLCJlbW9qaSIsImRlbGV0ZUFwcGxpY2F0aW9uRW1vamkiLCJhcHBsaWNhdGlvbkVtb2ppIiwiZGVsZXRlRm9sbG93dXBNZXNzYWdlIiwicmVzcG9uc2VzIiwiZGVsZXRlR2xvYmFsQXBwbGljYXRpb25Db21tYW5kIiwiY29tbWFuZElkIiwiY29tbWFuZCIsImRlbGV0ZUd1aWxkIiwiZ3VpbGQiLCJkZWxldGVHdWlsZEFwcGxpY2F0aW9uQ29tbWFuZCIsIm9uZSIsImRlbGV0ZUd1aWxkU3RpY2tlciIsInN0aWNrZXJJZCIsInN0aWNrZXIiLCJkZWxldGVHdWlsZFRlbXBsYXRlIiwiZGVsZXRlSW50ZWdyYXRpb24iLCJpbnRlZ3JhdGlvbklkIiwiaW50ZWdyYXRpb24iLCJkZWxldGVJbnZpdGUiLCJpbnZpdGVDb2RlIiwiaW52aXRlIiwiZGVsZXRlTWVzc2FnZSIsImRlbGV0ZU1lc3NhZ2VzIiwibWVzc2FnZUlkcyIsImJ1bGsiLCJtZXNzYWdlcyIsInNsaWNlIiwiZGVsZXRlT3JpZ2luYWxJbnRlcmFjdGlvblJlc3BvbnNlIiwib3JpZ2luYWwiLCJkZWxldGVPd25SZWFjdGlvbiIsImRlbGV0ZVJlYWN0aW9uc0FsbCIsImRlbGV0ZVJlYWN0aW9uc0Vtb2ppIiwiZGVsZXRlUm9sZSIsImRlbGV0ZVNjaGVkdWxlZEV2ZW50IiwiZXZlbnRJZCIsImV2ZW50IiwiZGVsZXRlU3RhZ2VJbnN0YW5jZSIsInN0YWdlIiwiZGVsZXRlVXNlclJlYWN0aW9uIiwiZGVsZXRlV2ViaG9vayIsIndlYmhvb2tJZCIsImRlbGV0ZVdlYmhvb2tNZXNzYWdlIiwiZGVsZXRlV2ViaG9va1dpdGhUb2tlbiIsIndlYmhvb2siLCJlZGl0QXBwbGljYXRpb25Db21tYW5kUGVybWlzc2lvbnMiLCJwZXJtaXNzaW9ucyIsInBlcm1pc3Npb24iLCJlZGl0QXV0b21vZFJ1bGUiLCJlZGl0Qm90UHJvZmlsZSIsImJvdEF2YXRhclVSTCIsImJhbm5lciIsImJvdEJhbm5lclVSTCIsImN1cnJlbnRVc2VyIiwidXNlcm5hbWUiLCJ0cmltIiwiZWRpdENoYW5uZWwiLCJlZGl0Q2hhbm5lbFBlcm1pc3Npb25PdmVycmlkZXMiLCJlZGl0Q2hhbm5lbFBvc2l0aW9ucyIsImVkaXRFbW9qaSIsImVkaXRBcHBsaWNhdGlvbkVtb2ppIiwiZWRpdEZvbGxvd3VwTWVzc2FnZSIsImVkaXRHbG9iYWxBcHBsaWNhdGlvbkNvbW1hbmQiLCJlZGl0R3VpbGQiLCJlZGl0R3VpbGRBcHBsaWNhdGlvbkNvbW1hbmQiLCJlZGl0R3VpbGRNZmFMZXZlbCIsIm1mYUxldmVsIiwibWZhIiwibGV2ZWwiLCJlZGl0R3VpbGRTdGlja2VyIiwiZWRpdEd1aWxkVGVtcGxhdGUiLCJlZGl0TWVzc2FnZSIsImVkaXRPcmlnaW5hbEludGVyYWN0aW9uUmVzcG9uc2UiLCJlZGl0T3JpZ2luYWxXZWJob29rTWVzc2FnZSIsInR5cGUiLCJVcGRhdGVNZXNzYWdlIiwiZWRpdE93blZvaWNlU3RhdGUiLCJ2b2ljZSIsInJlcXVlc3RUb1NwZWFrVGltZXN0YW1wIiwidG9JU09TdHJpbmciLCJlZGl0U2NoZWR1bGVkRXZlbnQiLCJlZGl0Um9sZSIsImVkaXRSb2xlUG9zaXRpb25zIiwiZWRpdFN0YWdlSW5zdGFuY2UiLCJ0b3BpYyIsImVkaXRVc2VyVm9pY2VTdGF0ZSIsImVkaXRXZWJob29rIiwiZWRpdFdlYmhvb2tNZXNzYWdlIiwiZWRpdFdlYmhvb2tXaXRoVG9rZW4iLCJlZGl0V2VsY29tZVNjcmVlbiIsIndlbGNvbWUiLCJlZGl0V2lkZ2V0U2V0dGluZ3MiLCJ3aWRnZXQiLCJleGVjdXRlV2ViaG9vayIsImZvbGxvd0Fubm91bmNlbWVudCIsInNvdXJjZUNoYW5uZWxJZCIsInRhcmdldENoYW5uZWxJZCIsImZvbGxvdyIsIndlYmhvb2tDaGFubmVsSWQiLCJnZXRBY3RpdmVUaHJlYWRzIiwiYWN0aXZlIiwiZ2V0QXBwbGljYXRpb25Db21tYW5kUGVybWlzc2lvbiIsImFjY2Vzc1Rva2VuIiwiZ2V0QXBwbGljYXRpb25Db21tYW5kUGVybWlzc2lvbnMiLCJnZXRBcHBsaWNhdGlvbkluZm8iLCJvYXV0aDIiLCJhcHBsaWNhdGlvbiIsImVkaXRBcHBsaWNhdGlvbkluZm8iLCJnZXRDdXJyZW50QXV0aGVudGljYXRpb25JbmZvIiwiY3VycmVudEF1dGhvcml6YXRpb24iLCJleGNoYW5nZVRva2VuIiwiY2xpZW50SWQiLCJjbGllbnRTZWNyZXQiLCJiYXNpY0NyZWRlbnRpYWxzIiwiZnJvbSIsImdyYW50VHlwZSIsInNjb3BlIiwidG9rZW5FeGNoYW5nZSIsInJldm9rZVRva2VuIiwidG9rZW5SZXZva2UiLCJnZXRBdWRpdExvZyIsImF1ZGl0bG9ncyIsImdldEF1dG9tb2RSdWxlIiwiZ2V0QXV0b21vZFJ1bGVzIiwiZ2V0QXZhaWxhYmxlVm9pY2VSZWdpb25zIiwicmVnaW9ucyIsImdldEJhbiIsIm1lbWJlcnMiLCJiYW4iLCJnZXRCYW5zIiwiYmFucyIsImdldENoYW5uZWwiLCJnZXRDaGFubmVsSW52aXRlcyIsImdldENoYW5uZWxzIiwiZ2V0Q2hhbm5lbFdlYmhvb2tzIiwiZ2V0RG1DaGFubmVsIiwiZG0iLCJyZWNpcGllbnRJZCIsImdldEdyb3VwRG1DaGFubmVsIiwiZ2V0RW1vamkiLCJlbW9qaUlkIiwiZ2V0QXBwbGljYXRpb25FbW9qaSIsImdldEVtb2ppcyIsImdldEFwcGxpY2F0aW9uRW1vamlzIiwiZ2V0Rm9sbG93dXBNZXNzYWdlIiwiZ2V0R2F0ZXdheUJvdCIsImdhdGV3YXlCb3QiLCJnZXRHbG9iYWxBcHBsaWNhdGlvbkNvbW1hbmQiLCJnZXRHbG9iYWxBcHBsaWNhdGlvbkNvbW1hbmRzIiwiZ2V0R3VpbGQiLCJjb3VudHMiLCJnZXRHdWlsZHMiLCJtYWtlUmVxdWVzdE9wdGlvbnMiLCJ1c2VyR3VpbGRzIiwiZ2V0R3VpbGRBcHBsaWNhdGlvbkNvbW1hbmQiLCJnZXRHdWlsZEFwcGxpY2F0aW9uQ29tbWFuZHMiLCJnZXRHdWlsZFByZXZpZXciLCJwcmV2aWV3IiwiZ2V0R3VpbGRUZW1wbGF0ZSIsImdldEd1aWxkVGVtcGxhdGVzIiwiZ2V0R3VpbGRXZWJob29rcyIsImdldEludGVncmF0aW9ucyIsImludGVncmF0aW9ucyIsImdldEludml0ZSIsImdldEludml0ZXMiLCJnZXRNZXNzYWdlIiwiZ2V0TWVzc2FnZXMiLCJnZXRTdGlja2VyUGFjayIsInN0aWNrZXJQYWNrSWQiLCJzdGlja2VyUGFjayIsImdldFN0aWNrZXJQYWNrcyIsInN0aWNrZXJQYWNrcyIsImdldE9yaWdpbmFsSW50ZXJhY3Rpb25SZXNwb25zZSIsImdldFBpbm5lZE1lc3NhZ2VzIiwicGlucyIsImdldFByaXZhdGVBcmNoaXZlZFRocmVhZHMiLCJwcml2YXRlIiwiZ2V0UHJpdmF0ZUpvaW5lZEFyY2hpdmVkVGhyZWFkcyIsImpvaW5lZCIsImdldFBydW5lQ291bnQiLCJwcnVuZSIsImdldFB1YmxpY0FyY2hpdmVkVGhyZWFkcyIsInB1YmxpYyIsImdldFJvbGVzIiwiZ2V0Um9sZSIsImdldFNjaGVkdWxlZEV2ZW50Iiwid2l0aFVzZXJDb3VudCIsImdldFNjaGVkdWxlZEV2ZW50cyIsImdldFNjaGVkdWxlZEV2ZW50VXNlcnMiLCJ1c2VycyIsImdldFNlc3Npb25JbmZvIiwiZ2V0U3RhZ2VJbnN0YW5jZSIsImdldE93blZvaWNlU3RhdGUiLCJnZXRVc2VyVm9pY2VTdGF0ZSIsImdldFN0aWNrZXIiLCJnZXRHdWlsZFN0aWNrZXIiLCJnZXRHdWlsZFN0aWNrZXJzIiwiZ2V0VGhyZWFkTWVtYmVyIiwiZ2V0VGhyZWFkTWVtYmVycyIsImdldFJlYWN0aW9ucyIsImdldFVzZXIiLCJnZXRDdXJyZW50VXNlciIsImdldFVzZXJDb25uZWN0aW9ucyIsImNvbm5lY3Rpb25zIiwiZ2V0VXNlckFwcGxpY2F0aW9uUm9sZUNvbm5lY3Rpb24iLCJyb2xlQ29ubmVjdGlvbnMiLCJnZXRWYW5pdHlVcmwiLCJ2YW5pdHkiLCJnZXRWb2ljZVJlZ2lvbnMiLCJnZXRXZWJob29rIiwiZ2V0V2ViaG9va01lc3NhZ2UiLCJnZXRXZWJob29rV2l0aFRva2VuIiwiZ2V0V2VsY29tZVNjcmVlbiIsImdldFdpZGdldCIsIndpZGdldEpzb24iLCJnZXRXaWRnZXRTZXR0aW5ncyIsImpvaW5UaHJlYWQiLCJtZSIsImxlYXZlR3VpbGQiLCJsZWF2ZSIsImxlYXZlVGhyZWFkIiwicHVibGlzaE1lc3NhZ2UiLCJjcm9zc3Bvc3QiLCJyZW1vdmVSb2xlIiwicmVtb3ZlVGhyZWFkTWVtYmVyIiwicmVtb3ZlRG1SZWNpcGllbnQiLCJzZW5kRm9sbG93dXBNZXNzYWdlIiwic2VuZEludGVyYWN0aW9uUmVzcG9uc2UiLCJpbnRlcmFjdGlvbklkIiwicGFyYW1zIiwiY2FsbGJhY2siLCJzZW5kTWVzc2FnZSIsInN0YXJ0VGhyZWFkV2l0aE1lc3NhZ2UiLCJzdGFydFRocmVhZFdpdGhvdXRNZXNzYWdlIiwiZ2V0UG9sbEFuc3dlclZvdGVycyIsImFuc3dlcklkIiwicG9sbHMiLCJ2b3RlcyIsImVuZFBvbGwiLCJleHBpcmUiLCJzeW5jR3VpbGRUZW1wbGF0ZSIsImJhbk1lbWJlciIsImJ1bGtCYW5NZW1iZXJzIiwiYnVsa0JhbiIsImVkaXRCb3RNZW1iZXIiLCJlZGl0TWVtYmVyIiwiZ2V0TWVtYmVyIiwiZ2V0Q3VycmVudE1lbWJlciIsImN1cnJlbnRNZW1iZXIiLCJnZXRNZW1iZXJzIiwiZ2V0QXBwbGljYXRpb25BY3Rpdml0eUluc3RhbmNlIiwiaW5zdGFuY2VJZCIsImFwcGxpY2F0aW9uQWN0aXZpdHlJbnN0YW5jZSIsImtpY2tNZW1iZXIiLCJwaW5NZXNzYWdlIiwicGluIiwicHJ1bmVNZW1iZXJzIiwic2VhcmNoTWVtYmVycyIsInF1ZXJ5Iiwic2VhcmNoIiwiZ2V0R3VpbGRPbmJvYXJkaW5nIiwib25ib2FyZGluZyIsImVkaXRHdWlsZE9uYm9hcmRpbmciLCJ1bmJhbk1lbWJlciIsInVucGluTWVzc2FnZSIsInRyaWdnZXJUeXBpbmdJbmRpY2F0b3IiLCJ0eXBpbmciLCJ1cHNlcnRHbG9iYWxBcHBsaWNhdGlvbkNvbW1hbmRzIiwidXBzZXJ0R3VpbGRBcHBsaWNhdGlvbkNvbW1hbmRzIiwiZWRpdFVzZXJBcHBsaWNhdGlvblJvbGVDb25uZWN0aW9uIiwiYWRkR3VpbGRNZW1iZXIiLCJjcmVhdGVUZXN0RW50aXRsZW1lbnQiLCJtb25ldGl6YXRpb24iLCJlbnRpdGxlbWVudHMiLCJsaXN0RW50aXRsZW1lbnRzIiwiZ2V0RW50aXRsZW1lbnQiLCJlbnRpdGxlbWVudElkIiwiZW50aXRsZW1lbnQiLCJkZWxldGVUZXN0RW50aXRsZW1lbnQiLCJjb25zdW1lRW50aXRsZW1lbnQiLCJsaXN0U2t1cyIsInNrdXMiLCJsaXN0U3Vic2NyaXB0aW9ucyIsInNrdUlkIiwic3Vic2NyaXB0aW9ucyIsImdldFN1YnNjcmlwdGlvbiIsInN1YnNjcmlwdGlvbklkIiwic3Vic2NyaXB0aW9uIiwic2VuZFNvdW5kYm9hcmRTb3VuZCIsInNvdW5kYm9hcmQiLCJzZW5kU291bmQiLCJsaXN0RGVmYXVsdFNvdW5kYm9hcmRTb3VuZHMiLCJsaXN0RGVmYXVsdCIsImxpc3RHdWlsZFNvdW5kYm9hcmRTb3VuZHMiLCJndWlsZFNvdW5kcyIsImdldEd1aWxkU291bmRib2FyZFNvdW5kIiwic291bmRJZCIsImd1aWxkU291bmQiLCJjcmVhdGVHdWlsZFNvdW5kYm9hcmRTb3VuZCIsIm1vZGlmeUd1aWxkU291bmRib2FyZFNvdW5kIiwiZGVsZXRlR3VpbGRTb3VuZGJvYXJkU291bmQiLCJwcmVmZXJTbmFrZUNhc2UiLCJlbmFibGVkIiwiY2FtZWxpemVyIiwieCIsIkh0dHBSZXNwb25zZUNvZGUiXSwibWFwcGluZ3MiOiJBQUFBLFNBQVNBLE1BQU0sUUFBUSxjQUFhO0FBQ3BDLFNBb0RFQyx3QkFBd0IsUUFHbkIsb0JBQW1CO0FBQzFCLFNBQ0VDLGtCQUFrQixFQUNsQkMsYUFBYSxFQUNiQyxnQkFBZ0IsRUFDaEJDLFFBQVEsRUFDUkMsS0FBSyxFQUNMQyxpQkFBaUIsRUFDakJDLE1BQU0sRUFDTkMscUJBQXFCLEVBQ3JCQyxXQUFXLFFBQ04sb0JBQW1CO0FBQzFCLFNBQVNDLDBCQUEwQixRQUFRLHFCQUFvQjtBQUMvRCxTQUFTQyxLQUFLLFFBQVEsYUFBWTtBQUNsQyxTQUFTQyxZQUFZLFFBQVEsY0FBYTtBQUcxQyxPQUFPLE1BQU1DLHNCQUFzQixHQUFFO0FBQ3JDLE9BQU8sTUFBTUMsa0JBQWtCLDBCQUF5QjtBQUV4RCxPQUFPLE1BQU1DLDBCQUEwQixxQkFBb0I7QUFDM0QsT0FBTyxNQUFNQyw4QkFBOEIsd0JBQXVCO0FBQ2xFLE9BQU8sTUFBTUMsZ0NBQWdDLDBCQUF5QjtBQUN0RSxPQUFPLE1BQU1DLDJCQUEyQixxQkFBb0I7QUFDNUQsT0FBTyxNQUFNQywyQkFBMkIscUJBQW9CO0FBQzVELE9BQU8sTUFBTUMsMEJBQTBCLG9CQUFtQjtBQUMxRCxPQUFPLE1BQU1DLDBCQUEwQixvQkFBbUI7QUFFMUQsT0FBTyxTQUFTQyxrQkFBa0JDLE9BQWlDO0lBQ2pFLE1BQU1DLGdCQUFnQkQsUUFBUUMsYUFBYSxHQUFHQyxPQUFPRixRQUFRQyxhQUFhLElBQUlsQixrQkFBa0JpQixRQUFRRyxLQUFLO0lBRTdHLE1BQU1DLFVBQVVKLFFBQVFLLEtBQUssRUFBRUQsV0FBV2I7SUFFMUMsTUFBTWUsT0FBb0I7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