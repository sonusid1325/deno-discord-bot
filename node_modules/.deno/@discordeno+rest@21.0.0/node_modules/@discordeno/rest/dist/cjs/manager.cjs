"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    AUDIT_LOG_REASON_HEADER: function() {
        return AUDIT_LOG_REASON_HEADER;
    },
    DISCORD_API_URL: function() {
        return DISCORD_API_URL;
    },
    DISCORD_API_VERSION: function() {
        return DISCORD_API_VERSION;
    },
    RATE_LIMIT_BUCKET_HEADER: function() {
        return RATE_LIMIT_BUCKET_HEADER;
    },
    RATE_LIMIT_GLOBAL_HEADER: function() {
        return RATE_LIMIT_GLOBAL_HEADER;
    },
    RATE_LIMIT_LIMIT_HEADER: function() {
        return RATE_LIMIT_LIMIT_HEADER;
    },
    RATE_LIMIT_REMAINING_HEADER: function() {
        return RATE_LIMIT_REMAINING_HEADER;
    },
    RATE_LIMIT_RESET_AFTER_HEADER: function() {
        return RATE_LIMIT_RESET_AFTER_HEADER;
    },
    RATE_LIMIT_SCOPE_HEADER: function() {
        return RATE_LIMIT_SCOPE_HEADER;
    },
    createRestManager: function() {
        return createRestManager;
    }
});
const _nodebuffer = require("node:buffer");
const _types = require("@discordeno/types");
const _utils = require("@discordeno/utils");
const _invalidBucket = require("./invalidBucket.cjs");
const _queue = require("./queue.cjs");
const _routes = require("./routes.cjs");
const DISCORD_API_VERSION = 10;
const DISCORD_API_URL = 'https://discord.com/api';
const AUDIT_LOG_REASON_HEADER = 'x-audit-log-reason';
const RATE_LIMIT_REMAINING_HEADER = 'x-ratelimit-remaining';
const RATE_LIMIT_RESET_AFTER_HEADER = 'x-ratelimit-reset-after';
const RATE_LIMIT_GLOBAL_HEADER = 'x-ratelimit-global';
const RATE_LIMIT_BUCKET_HEADER = 'x-ratelimit-bucket';
const RATE_LIMIT_LIMIT_HEADER = 'x-ratelimit-limit';
const RATE_LIMIT_SCOPE_HEADER = 'x-ratelimit-scope';
function createRestManager(options) {
    const applicationId = options.applicationId ? BigInt(options.applicationId) : (0, _utils.getBotIdFromToken)(options.token);
    const baseUrl = options.proxy?.baseUrl ?? DISCORD_API_URL;
    const rest = {
        applicationId,
        authorization: options.proxy?.authorization,
        authorizationHeader: options.proxy?.authorizationHeader ?? 'authorization',
        baseUrl,
        deleteQueueDelay: 60000,
        globallyRateLimited: false,
        invalidBucket: (0, _invalidBucket.createInvalidRequestBucket)({
            logger: options.logger
        }),
        isProxied: !baseUrl.startsWith(DISCORD_API_URL),
        updateBearerTokenEndpoint: options.proxy?.updateBearerTokenEndpoint,
        maxRetryCount: Infinity,
        processingRateLimitedPaths: false,
        queues: new Map(),
        rateLimitedPaths: new Map(),
        token: options.token,
        version: options.version ?? DISCORD_API_VERSION,
        logger: options.logger ?? _utils.logger,
        routes: (0, _routes.createRoutes)(),
        createBaseHeaders () {
            return {
                'user-agent': `DiscordBot (https://github.com/discordeno/discordeno, v${_utils.DISCORDENO_VERSION})`
            };
        },
        checkRateLimits (url, identifier) {
            const ratelimited = rest.rateLimitedPaths.get(`${identifier}${url}`);
            const global = rest.rateLimitedPaths.get('global');
            const now = Date.now();
            if (ratelimited && now < ratelimited.resetTimestamp) {
                return ratelimited.resetTimestamp - now;
            }
            if (global && now < global.resetTimestamp) {
                return global.resetTimestamp - now;
            }
            return false;
        },
        async updateTokenQueues (oldToken, newToken) {
            if (rest.isProxied) {
                if (!rest.updateBearerTokenEndpoint) {
                    throw new Error("The 'proxy.updateBearerTokenEndpoint' option needs to be set when using a rest proxy and needed to call 'updateTokenQueues'");
                }
                const headers = {
                    'content-type': 'application/json'
                };
                if (rest.authorization !== undefined) {
                    headers[rest.authorizationHeader] = rest.authorization;
                }
                await fetch(`${rest.baseUrl}/${rest.updateBearerTokenEndpoint}`, {
                    method: 'POST',
                    body: JSON.stringify({
                        oldToken,
                        newToken
                    }),
                    headers
                });
                return;
            }
            const newIdentifier = `Bearer ${newToken}`;
            // Update all the queues
            for (const [key, queue] of rest.queues.entries()){
                if (!key.startsWith(`Bearer ${oldToken}`)) continue;
                rest.queues.delete(key);
                queue.identifier = newIdentifier;
                const newKey = `${newIdentifier}${queue.url}`;
                const newQueue = rest.queues.get(newKey);
                // Merge the queues
                if (newQueue) {
                    newQueue.waiting.unshift(...queue.waiting);
                    newQueue.pending.unshift(...queue.pending);
                    queue.waiting = [];
                    queue.pending = [];
                    queue.cleanup();
                } else {
                    rest.queues.set(newKey, queue);
                }
            }
            for (const [key, ratelimitPath] of rest.rateLimitedPaths.entries()){
                if (!key.startsWith(`Bearer ${oldToken}`)) continue;
                rest.rateLimitedPaths.set(`${newIdentifier}${ratelimitPath.url}`, ratelimitPath);
                if (ratelimitPath.bucketId) {
                    rest.rateLimitedPaths.set(`${newIdentifier}${ratelimitPath.bucketId}`, ratelimitPath);
                }
            }
        },
        changeToDiscordFormat (obj) {
            if (obj === null) return null;
            if (typeof obj === 'object') {
                if (Array.isArray(obj)) {
                    return obj.map((item)=>rest.changeToDiscordFormat(item));
                }
                const newObj = {};
                for (const key of Object.keys(obj)){
                    const value = obj[key];
                    // If the key is already in snake_case we can assume it is already in the discord format.
                    if (key.includes('_')) {
                        newObj[key] = value;
                        continue;
                    }
                    // Some falsy values should be allowed like null or 0
                    if (value !== undefined) {
                        switch(key){
                            case 'permissions':
                            case 'allow':
                            case 'deny':
                                newObj[key] = typeof value === 'string' ? value : (0, _utils.calculateBits)(value);
                                continue;
                            case 'defaultMemberPermissions':
                                newObj.default_member_permissions = typeof value === 'string' ? value : (0, _utils.calculateBits)(value);
                                continue;
                            case 'nameLocalizations':
                                newObj.name_localizations = value;
                                continue;
                            case 'descriptionLocalizations':
                                newObj.description_localizations = value;
                                continue;
                        }
                    }
                    newObj[(0, _utils.camelToSnakeCase)(key)] = rest.changeToDiscordFormat(value);
                }
                return newObj;
            }
            if (typeof obj === 'bigint') return obj.toString();
            return obj;
        },
        createRequestBody (method, options) {
            const headers = this.createBaseHeaders();
            if (options?.unauthorized !== true) headers.authorization = `Bot ${rest.token}`;
            // IF A REASON IS PROVIDED ENCODE IT IN HEADERS
            if (options?.reason !== undefined) {
                headers[AUDIT_LOG_REASON_HEADER] = encodeURIComponent(options?.reason);
            }
            let body;
            // TODO: check if we need to add specific check for GET method
            // Since GET does not allow bodies
            // Have to check for attachments first, since body then has to be send in a different way.
            if (options?.files !== undefined) {
                const form = new FormData();
                for(let i = 0; i < options.files.length; ++i){
                    form.append(`files[${i}]`, options.files[i].blob, options.files[i].name);
                }
                // Have to use changeToDiscordFormat or else JSON.stringify may throw an error for the presence of BigInt(s) in the json
                form.append('payload_json', JSON.stringify(rest.changeToDiscordFormat({
                    ...options.body,
                    files: undefined
                })));
                // No need to set the `content-type` header since `fetch` does that automatically for us when we use a `FormData` object.
                body = form;
            } else if (options?.body && options.headers && options.headers['content-type'] === 'application/x-www-form-urlencoded') {
                // OAuth2 body handling
                const formBody = [];
                const discordBody = rest.changeToDiscordFormat(options.body);
                for(const prop in discordBody){
                    formBody.push(`${encodeURIComponent(prop)}=${encodeURIComponent(discordBody[prop])}`);
                }
                body = formBody.join('&');
            } else if (options?.body !== undefined) {
                if (options.body instanceof FormData) {
                    body = options.body;
                // No need to set the `content-type` header since `fetch` does that automatically for us when we use a `FormData` object.
                } else {
                    body = JSON.stringify(rest.changeToDiscordFormat(options.body));
                    headers['content-type'] = `application/json`;
                }
            }
            // SOMETIMES SPECIAL HEADERS (E.G. CUSTOM AUTHORIZATION) NEED TO BE USED
            if (options?.headers) {
                Object.assign(headers, options.headers);
            }
            return {
                body,
                headers,
                method
            };
        },
        processRateLimitedPaths () {
            const now = Date.now();
            for (const [key, value] of rest.rateLimitedPaths.entries()){
                //   rest.debug(
                // `[REST - processRateLimitedPaths] Running for of loop. ${
                //   value.resetTimestamp - now
                // }`
                //   )
                // If the time has not reached cancel
                if (value.resetTimestamp > now) continue;
                // Rate limit is over, delete the rate limiter
                rest.rateLimitedPaths.delete(key);
                // If it was global, also mark the global value as false
                if (key === 'global') rest.globallyRateLimited = false;
            }
            // ALL PATHS ARE CLEARED CAN CANCEL OUT!
            if (rest.rateLimitedPaths.size === 0) {
                rest.processingRateLimitedPaths = false;
            } else {
                rest.processingRateLimitedPaths = true;
                // RECHECK IN 1 SECOND
                setTimeout(()=>{
                    // rest.debug('[REST - processRateLimitedPaths] Running setTimeout.')
                    rest.processRateLimitedPaths();
                }, 1000);
            }
        },
        /** Processes the rate limit headers and determines if it needs to be rate limited and returns the bucket id if available */ processHeaders (url, headers, identifier) {
            let rateLimited = false;
            // GET ALL NECESSARY HEADERS
            const remaining = headers.get(RATE_LIMIT_REMAINING_HEADER);
            const retryAfter = headers.get(RATE_LIMIT_RESET_AFTER_HEADER);
            const reset = Date.now() + Number(retryAfter) * 1000;
            const global = headers.get(RATE_LIMIT_GLOBAL_HEADER);
            // undefined override null needed for typings
            const bucketId = headers.get(RATE_LIMIT_BUCKET_HEADER) ?? undefined;
            const limit = headers.get(RATE_LIMIT_LIMIT_HEADER);
            // If we didn't received the identifier, fallback to the bot token
            identifier ??= `Bot ${rest.token}`;
            rest.queues.get(`${identifier}${url}`)?.handleCompletedRequest({
                remaining: remaining ? Number(remaining) : undefined,
                interval: retryAfter ? Number(retryAfter) * 1000 : undefined,
                max: limit ? Number(limit) : undefined
            });
            // IF THERE IS NO REMAINING RATE LIMIT, MARK IT AS RATE LIMITED
            if (remaining === '0') {
                rateLimited = true;
                // SAVE THE URL AS LIMITED, IMPORTANT FOR NEW REQUESTS BY USER WITHOUT BUCKET
                rest.rateLimitedPaths.set(`${identifier}${url}`, {
                    url,
                    resetTimestamp: reset,
                    bucketId
                });
                // SAVE THE BUCKET AS LIMITED SINCE DIFFERENT URLS MAY SHARE A BUCKET
                if (bucketId) {
                    rest.rateLimitedPaths.set(`${identifier}${bucketId}`, {
                        url,
                        resetTimestamp: reset,
                        bucketId
                    });
                }
            }
            // IF THERE IS NO REMAINING GLOBAL LIMIT, MARK IT RATE LIMITED GLOBALLY
            if (global) {
                const retryAfter = Number(headers.get('retry-after')) * 1000;
                const globalReset = Date.now() + retryAfter;
                //   rest.debug(
                // `[REST = Globally Rate Limited] URL: ${url} | Global Rest: ${globalReset}`
                //   )
                rest.globallyRateLimited = true;
                rateLimited = true;
                setTimeout(()=>{
                    rest.globallyRateLimited = false;
                }, retryAfter);
                rest.rateLimitedPaths.set('global', {
                    url: 'global',
                    resetTimestamp: globalReset,
                    bucketId
                });
                if (bucketId) {
                    rest.rateLimitedPaths.set(identifier, {
                        url: 'global',
                        resetTimestamp: globalReset,
                        bucketId
                    });
                }
            }
            if (rateLimited && !rest.processingRateLimitedPaths) {
                rest.processRateLimitedPaths();
            }
            return rateLimited ? bucketId : undefined;
        },
        async sendRequest (options) {
            const url = `${rest.baseUrl}/v${rest.version}${options.route}`;
            const payload = rest.createRequestBody(options.method, options.requestBodyOptions);
            const loggingHeaders = {
                ...payload.headers
            };
            if (payload.headers.authorization) {
                const authorizationScheme = payload.headers.authorization?.split(' ')[0];
                loggingHeaders.authorization = `${authorizationScheme} tokenhere`;
            }
            rest.logger.debug(`sending request to ${url}`, 'with payload:', {
                ...payload,
                headers: loggingHeaders
            });
            const response = await fetch(url, payload).catch(async (error)=>{
                rest.logger.error(error);
                // Mark request and completed
                rest.invalidBucket.handleCompletedRequest(999, false);
                options.reject({
                    ok: false,
                    status: 999,
                    error: 'Possible network or request shape issue occurred. If this is rare, its a network glitch. If it occurs a lot something is wrong.'
                });
                throw error;
            });
            rest.logger.debug(`request fetched from ${url} with status ${response.status} & ${response.statusText}`);
            // Mark request and completed
            rest.invalidBucket.handleCompletedRequest(response.status, response.headers.get(RATE_LIMIT_SCOPE_HEADER) === 'shared');
            // Set the bucket id if it was available on the headers
            const bucketId = rest.processHeaders(rest.simplifyUrl(options.route, options.method), response.headers, payload.headers.authorization);
            if (bucketId) options.bucketId = bucketId;
            if (response.status < 200 || response.status >= 400) {
                rest.logger.debug(`Request to ${url} failed.`);
                if (response.status !== 429) {
                    options.reject({
                        ok: false,
                        status: response.status,
                        body: await response.text()
                    });
                    return;
                }
                rest.logger.debug(`Request to ${url} was ratelimited.`);
                // Too many attempts, get rid of request from queue.
                if (options.retryCount >= rest.maxRetryCount) {
                    rest.logger.debug(`Request to ${url} exceeded the maximum allowed retries.`, 'with payload:', payload);
                    // rest.debug(`[REST - RetriesMaxed] ${JSON.stringify(options)}`)
                    options.reject({
                        ok: false,
                        status: response.status,
                        error: 'The request was rate limited and it maxed out the retries limit.'
                    });
                    return;
                }
                options.retryCount += 1;
                const resetAfter = response.headers.get(RATE_LIMIT_RESET_AFTER_HEADER);
                if (resetAfter) await (0, _utils.delay)(Number(resetAfter) * 1000);
                // process the response to prevent mem leak
                await response.arrayBuffer();
                return await options.retryRequest?.(options);
            }
            // Discord sometimes sends no response with no content.
            options.resolve({
                ok: true,
                status: response.status,
                body: response.status === 204 ? undefined : await response.text()
            });
        },
        simplifyUrl (url, method) {
            const parts = url.split('/');
            const secondLastPart = parts[parts.length - 2];
            if (secondLastPart === 'channels' || secondLastPart === 'guilds') {
                return url;
            }
            if (secondLastPart === 'reactions' || parts[parts.length - 1] === '@me') {
                parts.splice(-2);
                parts.push('reactions');
            } else {
                parts.splice(-1);
                parts.push('x');
            }
            if (parts[parts.length - 3] === 'reactions') {
                parts.splice(-2);
            }
            if (method === 'DELETE' && secondLastPart === 'messages') {
                return `D${parts.join('/')}`;
            }
            return parts.join('/');
        },
        async processRequest (request) {
            const url = rest.simplifyUrl(request.route, request.method);
            if (request.runThroughQueue === false) {
                await rest.sendRequest(request);
                return;
            }
            // If we the request has a token, use it
            // Else fallback to prefix with the bot token
            const queueIdentifier = request.requestBodyOptions?.headers?.authorization ?? `Bot ${rest.token}`;
            const queue = rest.queues.get(`${queueIdentifier}${url}`);
            if (queue !== undefined) {
                queue.makeRequest(request);
            } else {
                // CREATES A NEW QUEUE
                const bucketQueue = new _queue.Queue(rest, {
                    url,
                    deleteQueueDelay: rest.deleteQueueDelay,
                    identifier: queueIdentifier
                });
                // Save queue
                rest.queues.set(`${queueIdentifier}${url}`, bucketQueue);
                // Add request to queue
                bucketQueue.makeRequest(request);
            }
        },
        async makeRequest (method, route, options) {
            // This error needs to be created here because of how stack traces get calculated
            const error = new Error();
            error.message = 'Failed to send request to discord.';
            if (rest.isProxied) {
                if (rest.authorization) {
                    options ??= {};
                    options.headers ??= {};
                    options.headers[rest.authorizationHeader] = rest.authorization;
                }
                const result = await fetch(`${rest.baseUrl}/v${rest.version}${route}`, rest.createRequestBody(method, options));
                if (!result.ok) {
                    const errText = await result.text().catch(()=>null);
                    if (errText) {
                        error.cause = {
                            ok: false,
                            status: result.status,
                            body: errText
                        };
                        throw error;
                    }
                    const err = await result.json().catch(()=>{});
                    // Legacy Handling to not break old code or when body is missing
                    if (!err?.body) throw new Error(`Error: ${err.message ?? result.statusText}`);
                    throw new Error(JSON.stringify(err));
                }
                return result.status !== 204 ? await result.json() : undefined;
            }
            return await new Promise(async (resolve, reject)=>{
                const payload = {
                    route,
                    method,
                    requestBodyOptions: options,
                    retryCount: 0,
                    retryRequest: async (payload)=>{
                        await rest.processRequest(payload);
                    },
                    resolve: (data)=>{
                        resolve(data.status !== 204 ? JSON.parse(data.body ?? '{}') : undefined);
                    },
                    reject: (reason)=>{
                        error.cause = reason;
                        reject(error);
                    },
                    runThroughQueue: options?.runThroughQueue
                };
                await rest.processRequest(payload);
            });
        },
        async get (url, options) {
            return (0, _utils.camelize)(await rest.makeRequest('GET', url, options));
        },
        async post (url, options) {
            return (0, _utils.camelize)(await rest.makeRequest('POST', url, options));
        },
        async delete (url, options) {
            (0, _utils.camelize)(await rest.makeRequest('DELETE', url, options));
        },
        async patch (url, options) {
            return (0, _utils.camelize)(await rest.makeRequest('PATCH', url, options));
        },
        async put (url, options) {
            return (0, _utils.camelize)(await rest.makeRequest('PUT', url, options));
        },
        async addReaction (channelId, messageId, reaction) {
            reaction = (0, _utils.processReactionString)(reaction);
            await rest.put(rest.routes.channels.reactions.bot(channelId, messageId, reaction));
        },
        async addReactions (channelId, messageId, reactions, ordered = false) {
            if (!ordered) {
                await Promise.all(reactions.map(async (reaction)=>{
                    await rest.addReaction(channelId, messageId, reaction);
                }));
                return;
            }
            for (const reaction of reactions){
                await rest.addReaction(channelId, messageId, reaction);
            }
        },
        async addRole (guildId, userId, roleId, reason) {
            await rest.put(rest.routes.guilds.roles.member(guildId, userId, roleId), {
                reason
            });
        },
        async addThreadMember (channelId, userId) {
            await rest.put(rest.routes.channels.threads.user(channelId, userId));
        },
        async addDmRecipient (channelId, userId, body) {
            await rest.put(rest.routes.channels.dmRecipient(channelId, userId), {
                body
            });
        },
        async createAutomodRule (guildId, body, reason) {
            return await rest.post(rest.routes.guilds.automod.rules(guildId), {
                body,
                reason
            });
        },
        async createChannel (guildId, body, reason) {
            return await rest.post(rest.routes.guilds.channels(guildId), {
                body,
                reason
            });
        },
        async createEmoji (guildId, body, reason) {
            return await rest.post(rest.routes.guilds.emojis(guildId), {
                body,
                reason
            });
        },
        async createApplicationEmoji (body) {
            return await rest.post(rest.routes.applicationEmojis(rest.applicationId), {
                body
            });
        },
        async createGlobalApplicationCommand (body, options) {
            const restOptions = {
                body
            };
            if (options?.bearerToken) {
                restOptions.unauthorized = true;
                restOptions.headers = {
                    authorization: `Bearer ${options.bearerToken}`
                };
            }
            return await rest.post(rest.routes.interactions.commands.commands(rest.applicationId), restOptions);
        },
        async createGuild (body) {
            return await rest.post(rest.routes.guilds.all(), {
                body
            });
        },
        async createGuildApplicationCommand (body, guildId, options) {
            const restOptions = {
                body
            };
            if (options?.bearerToken) {
                restOptions.unauthorized = true;
                restOptions.headers = {
                    authorization: `Bearer ${options.bearerToken}`
                };
            }
            return await rest.post(rest.routes.interactions.commands.guilds.all(rest.applicationId, guildId), restOptions);
        },
        async createGuildFromTemplate (templateCode, body) {
            if (body.icon) {
                body.icon = await (0, _utils.urlToBase64)(body.icon);
            }
            return await rest.post(rest.routes.guilds.templates.code(templateCode), {
                body
            });
        },
        async createGuildSticker (guildId, options, reason) {
            const form = new FormData();
            form.append('file', options.file.blob, options.file.name);
            form.append('name', options.name);
            form.append('description', options.description);
            form.append('tags', options.tags);
            return await rest.post(rest.routes.guilds.stickers(guildId), {
                body: form,
                reason
            });
        },
        async createGuildTemplate (guildId, body) {
            return await rest.post(rest.routes.guilds.templates.all(guildId), {
                body
            });
        },
        async createForumThread (channelId, body, reason) {
            return await rest.post(rest.routes.channels.forum(channelId), {
                body,
                files: body.files,
                reason
            });
        },
        async createInvite (channelId, body = {}, reason) {
            return await rest.post(rest.routes.channels.invites(channelId), {
                body,
                reason
            });
        },
        async createRole (guildId, body, reason) {
            return await rest.post(rest.routes.guilds.roles.all(guildId), {
                body,
                reason
            });
        },
        async createScheduledEvent (guildId, body, reason) {
            return await rest.post(rest.routes.guilds.events.events(guildId), {
                body,
                reason
            });
        },
        async createStageInstance (body, reason) {
            return await rest.post(rest.routes.channels.stages(), {
                body,
                reason
            });
        },
        async createWebhook (channelId, options, reason) {
            return await rest.post(rest.routes.channels.webhooks(channelId), {
                body: {
                    name: options.name,
                    avatar: options.avatar ? await (0, _utils.urlToBase64)(options.avatar) : undefined
                },
                reason
            });
        },
        async deleteAutomodRule (guildId, ruleId, reason) {
            await rest.delete(rest.routes.guilds.automod.rule(guildId, ruleId), {
                reason
            });
        },
        async deleteChannel (channelId, reason) {
            await rest.delete(rest.routes.channels.channel(channelId), {
                reason
            });
        },
        async deleteChannelPermissionOverride (channelId, overwriteId, reason) {
            await rest.delete(rest.routes.channels.overwrite(channelId, overwriteId), {
                reason
            });
        },
        async deleteEmoji (guildId, id, reason) {
            await rest.delete(rest.routes.guilds.emoji(guildId, id), {
                reason
            });
        },
        async deleteApplicationEmoji (id) {
            await rest.delete(rest.routes.applicationEmoji(rest.applicationId, id));
        },
        async deleteFollowupMessage (token, messageId) {
            await rest.delete(rest.routes.interactions.responses.message(rest.applicationId, token, messageId), {
                unauthorized: true
            });
        },
        async deleteGlobalApplicationCommand (commandId) {
            await rest.delete(rest.routes.interactions.commands.command(rest.applicationId, commandId));
        },
        async deleteGuild (guildId) {
            await rest.delete(rest.routes.guilds.guild(guildId));
        },
        async deleteGuildApplicationCommand (commandId, guildId) {
            await rest.delete(rest.routes.interactions.commands.guilds.one(rest.applicationId, guildId, commandId));
        },
        async deleteGuildSticker (guildId, stickerId, reason) {
            await rest.delete(rest.routes.guilds.sticker(guildId, stickerId), {
                reason
            });
        },
        async deleteGuildTemplate (guildId, templateCode) {
            await rest.delete(rest.routes.guilds.templates.guild(guildId, templateCode));
        },
        async deleteIntegration (guildId, integrationId, reason) {
            await rest.delete(rest.routes.guilds.integration(guildId, integrationId), {
                reason
            });
        },
        async deleteInvite (inviteCode, reason) {
            await rest.delete(rest.routes.guilds.invite(inviteCode), {
                reason
            });
        },
        async deleteMessage (channelId, messageId, reason) {
            await rest.delete(rest.routes.channels.message(channelId, messageId), {
                reason
            });
        },
        async deleteMessages (channelId, messageIds, reason) {
            await rest.post(rest.routes.channels.bulk(channelId), {
                body: {
                    messages: messageIds.slice(0, 100).map((id)=>id.toString())
                },
                reason
            });
        },
        async deleteOriginalInteractionResponse (token) {
            await rest.delete(rest.routes.interactions.responses.original(rest.applicationId, token), {
                unauthorized: true
            });
        },
        async deleteOwnReaction (channelId, messageId, reaction) {
            reaction = (0, _utils.processReactionString)(reaction);
            await rest.delete(rest.routes.channels.reactions.bot(channelId, messageId, reaction));
        },
        async deleteReactionsAll (channelId, messageId) {
            await rest.delete(rest.routes.channels.reactions.all(channelId, messageId));
        },
        async deleteReactionsEmoji (channelId, messageId, reaction) {
            reaction = (0, _utils.processReactionString)(reaction);
            await rest.delete(rest.routes.channels.reactions.emoji(channelId, messageId, reaction));
        },
        async deleteRole (guildId, roleId, reason) {
            await rest.delete(rest.routes.guilds.roles.one(guildId, roleId), {
                reason
            });
        },
        async deleteScheduledEvent (guildId, eventId) {
            await rest.delete(rest.routes.guilds.events.event(guildId, eventId));
        },
        async deleteStageInstance (channelId, reason) {
            await rest.delete(rest.routes.channels.stage(channelId), {
                reason
            });
        },
        async deleteUserReaction (channelId, messageId, userId, reaction) {
            reaction = (0, _utils.processReactionString)(reaction);
            await rest.delete(rest.routes.channels.reactions.user(channelId, messageId, reaction, userId));
        },
        async deleteWebhook (webhookId, reason) {
            await rest.delete(rest.routes.webhooks.id(webhookId), {
                reason
            });
        },
        async deleteWebhookMessage (webhookId, token, messageId, options) {
            await rest.delete(rest.routes.webhooks.message(webhookId, token, messageId, options));
        },
        async deleteWebhookWithToken (webhookId, token) {
            await rest.delete(rest.routes.webhooks.webhook(webhookId, token), {
                unauthorized: true
            });
        },
        async editApplicationCommandPermissions (guildId, commandId, bearerToken, permissions) {
            return await rest.put(rest.routes.interactions.commands.permission(rest.applicationId, guildId, commandId), {
                body: {
                    permissions
                },
                headers: {
                    authorization: `Bearer ${bearerToken}`
                }
            });
        },
        async editAutomodRule (guildId, ruleId, body, reason) {
            return await rest.patch(rest.routes.guilds.automod.rule(guildId, ruleId), {
                body,
                reason
            });
        },
        async editBotProfile (options) {
            const avatar = options?.botAvatarURL ? await (0, _utils.urlToBase64)(options?.botAvatarURL) : options?.botAvatarURL;
            const banner = options?.botBannerURL ? await (0, _utils.urlToBase64)(options?.botBannerURL) : options?.botBannerURL;
            return await rest.patch(rest.routes.currentUser(), {
                body: {
                    username: options.username?.trim(),
                    avatar,
                    banner
                }
            });
        },
        async editChannel (channelId, body, reason) {
            return await rest.patch(rest.routes.channels.channel(channelId), {
                body,
                reason
            });
        },
        async editChannelPermissionOverrides (channelId, body, reason) {
            await rest.put(rest.routes.channels.overwrite(channelId, body.id), {
                body,
                reason
            });
        },
        async editChannelPositions (guildId, body) {
            await rest.patch(rest.routes.guilds.channels(guildId), {
                body
            });
        },
        async editEmoji (guildId, id, body, reason) {
            return await rest.patch(rest.routes.guilds.emoji(guildId, id), {
                body,
                reason
            });
        },
        async editApplicationEmoji (id, body) {
            return await rest.patch(rest.routes.applicationEmoji(rest.applicationId, id), {
                body
            });
        },
        async editFollowupMessage (token, messageId, body) {
            return await rest.patch(rest.routes.interactions.responses.message(rest.applicationId, token, messageId), {
                body,
                files: body.files,
                unauthorized: true
            });
        },
        async editGlobalApplicationCommand (commandId, body) {
            return await rest.patch(rest.routes.interactions.commands.command(rest.applicationId, commandId), {
                body
            });
        },
        async editGuild (guildId, body, reason) {
            return await rest.patch(rest.routes.guilds.guild(guildId), {
                body,
                reason
            });
        },
        async editGuildApplicationCommand (commandId, guildId, body) {
            return await rest.patch(rest.routes.interactions.commands.guilds.one(rest.applicationId, guildId, commandId), {
                body
            });
        },
        async editGuildMfaLevel (guildId, mfaLevel, reason) {
            await rest.post(rest.routes.guilds.mfa(guildId), {
                body: {
                    level: mfaLevel
                },
                reason
            });
        },
        async editGuildSticker (guildId, stickerId, body, reason) {
            return await rest.patch(rest.routes.guilds.sticker(guildId, stickerId), {
                body,
                reason
            });
        },
        async editGuildTemplate (guildId, templateCode, body) {
            return await rest.patch(rest.routes.guilds.templates.guild(guildId, templateCode), {
                body
            });
        },
        async editMessage (channelId, messageId, body) {
            return await rest.patch(rest.routes.channels.message(channelId, messageId), {
                body,
                files: body.files
            });
        },
        async editOriginalInteractionResponse (token, body) {
            return await rest.patch(rest.routes.interactions.responses.original(rest.applicationId, token), {
                body,
                files: body.files
            });
        },
        async editOriginalWebhookMessage (webhookId, token, options) {
            return await rest.patch(rest.routes.webhooks.original(webhookId, token, options), {
                body: {
                    type: _types.InteractionResponseTypes.UpdateMessage,
                    data: options
                },
                files: options.files,
                unauthorized: true
            });
        },
        async editOwnVoiceState (guildId, options) {
            await rest.patch(rest.routes.guilds.voice(guildId), {
                body: {
                    ...options,
                    requestToSpeakTimestamp: options.requestToSpeakTimestamp ? new Date(options.requestToSpeakTimestamp).toISOString() : options.requestToSpeakTimestamp
                }
            });
        },
        async editScheduledEvent (guildId, eventId, body, reason) {
            return await rest.patch(rest.routes.guilds.events.event(guildId, eventId), {
                body,
                reason
            });
        },
        async editRole (guildId, roleId, body, reason) {
            return await rest.patch(rest.routes.guilds.roles.one(guildId, roleId), {
                body,
                reason
            });
        },
        async editRolePositions (guildId, body, reason) {
            return await rest.patch(rest.routes.guilds.roles.all(guildId), {
                body,
                reason
            });
        },
        async editStageInstance (channelId, topic, reason) {
            return await rest.patch(rest.routes.channels.stage(channelId), {
                body: {
                    topic
                },
                reason
            });
        },
        async editUserVoiceState (guildId, options) {
            await rest.patch(rest.routes.guilds.voice(guildId, options.userId), {
                body: options
            });
        },
        async editWebhook (webhookId, body, reason) {
            return await rest.patch(rest.routes.webhooks.id(webhookId), {
                body,
                reason
            });
        },
        async editWebhookMessage (webhookId, token, messageId, options) {
            return await rest.patch(rest.routes.webhooks.message(webhookId, token, messageId, options), {
                body: options,
                files: options.files,
                unauthorized: true
            });
        },
        async editWebhookWithToken (webhookId, token, body) {
            return await rest.patch(rest.routes.webhooks.webhook(webhookId, token), {
                body,
                unauthorized: true
            });
        },
        async editWelcomeScreen (guildId, body, reason) {
            return await rest.patch(rest.routes.guilds.welcome(guildId), {
                body,
                reason
            });
        },
        async editWidgetSettings (guildId, body, reason) {
            return await rest.patch(rest.routes.guilds.widget(guildId), {
                body,
                reason
            });
        },
        async executeWebhook (webhookId, token, options) {
            return await rest.post(rest.routes.webhooks.webhook(webhookId, token, options), {
                body: options,
                unauthorized: true
            });
        },
        async followAnnouncement (sourceChannelId, targetChannelId, reason) {
            return await rest.post(rest.routes.channels.follow(sourceChannelId), {
                body: {
                    webhookChannelId: targetChannelId
                },
                reason
            });
        },
        async getActiveThreads (guildId) {
            return await rest.get(rest.routes.channels.threads.active(guildId));
        },
        async getApplicationCommandPermission (guildId, commandId, options) {
            const restOptions = {};
            if (options?.accessToken) {
                restOptions.unauthorized = true;
                restOptions.headers = {
                    authorization: `Bearer ${options.accessToken}`
                };
            }
            return await rest.get(rest.routes.interactions.commands.permission(options?.applicationId ?? rest.applicationId, guildId, commandId), restOptions);
        },
        async getApplicationCommandPermissions (guildId, options) {
            const restOptions = {};
            if (options?.accessToken) {
                restOptions.unauthorized = true;
                restOptions.headers = {
                    authorization: `Bearer ${options.accessToken}`
                };
            }
            return await rest.get(rest.routes.interactions.commands.permissions(options?.applicationId ?? rest.applicationId, guildId), restOptions);
        },
        async getApplicationInfo () {
            return await rest.get(rest.routes.oauth2.application());
        },
        async editApplicationInfo (body) {
            return await rest.patch(rest.routes.application(), {
                body
            });
        },
        async getCurrentAuthenticationInfo (token) {
            return await rest.get(rest.routes.oauth2.currentAuthorization(), {
                headers: {
                    authorization: `Bearer ${token}`
                },
                unauthorized: true
            });
        },
        async exchangeToken (clientId, clientSecret, body) {
            const basicCredentials = _nodebuffer.Buffer.from(`${clientId}:${clientSecret}`);
            const restOptions = {
                body,
                headers: {
                    'content-type': 'application/x-www-form-urlencoded',
                    authorization: `Basic ${basicCredentials.toString('base64')}`
                },
                runThroughQueue: false,
                unauthorized: true
            };
            if (body.grantType === 'client_credentials') {
                restOptions.body.scope = body.scope.join(' ');
            }
            return await rest.post(rest.routes.oauth2.tokenExchange(), restOptions);
        },
        async revokeToken (clientId, clientSecret, body) {
            const basicCredentials = _nodebuffer.Buffer.from(`${clientId}:${clientSecret}`);
            await rest.post(rest.routes.oauth2.tokenRevoke(), {
                body,
                headers: {
                    'content-type': 'application/x-www-form-urlencoded',
                    authorization: `Basic ${basicCredentials.toString('base64')}`
                },
                unauthorized: true
            });
        },
        async getAuditLog (guildId, options) {
            return await rest.get(rest.routes.guilds.auditlogs(guildId, options));
        },
        async getAutomodRule (guildId, ruleId) {
            return await rest.get(rest.routes.guilds.automod.rule(guildId, ruleId));
        },
        async getAutomodRules (guildId) {
            return await rest.get(rest.routes.guilds.automod.rules(guildId));
        },
        async getAvailableVoiceRegions () {
            return await rest.get(rest.routes.regions());
        },
        async getBan (guildId, userId) {
            return await rest.get(rest.routes.guilds.members.ban(guildId, userId));
        },
        async getBans (guildId, options) {
            return await rest.get(rest.routes.guilds.members.bans(guildId, options));
        },
        async getChannel (id) {
            return await rest.get(rest.routes.channels.channel(id));
        },
        async getChannelInvites (channelId) {
            return await rest.get(rest.routes.channels.invites(channelId));
        },
        async getChannels (guildId) {
            return await rest.get(rest.routes.guilds.channels(guildId));
        },
        async getChannelWebhooks (channelId) {
            return await rest.get(rest.routes.channels.webhooks(channelId));
        },
        async getDmChannel (userId) {
            return await rest.post(rest.routes.channels.dm(), {
                body: {
                    recipientId: userId
                }
            });
        },
        async getGroupDmChannel (body) {
            return await rest.post(rest.routes.channels.dm(), {
                body
            });
        },
        async getEmoji (guildId, emojiId) {
            return await rest.get(rest.routes.guilds.emoji(guildId, emojiId));
        },
        async getApplicationEmoji (emojiId) {
            return await rest.get(rest.routes.applicationEmoji(rest.applicationId, emojiId));
        },
        async getEmojis (guildId) {
            return await rest.get(rest.routes.guilds.emojis(guildId));
        },
        async getApplicationEmojis () {
            return await rest.get(rest.routes.applicationEmojis(rest.applicationId));
        },
        async getFollowupMessage (token, messageId) {
            return await rest.get(rest.routes.interactions.responses.message(rest.applicationId, token, messageId), {
                unauthorized: true
            });
        },
        async getGatewayBot () {
            return await rest.get(rest.routes.gatewayBot());
        },
        async getGlobalApplicationCommand (commandId) {
            return await rest.get(rest.routes.interactions.commands.command(rest.applicationId, commandId));
        },
        async getGlobalApplicationCommands () {
            return await rest.get(rest.routes.interactions.commands.commands(rest.applicationId));
        },
        async getGuild (guildId, options = {
            counts: true
        }) {
            return await rest.get(rest.routes.guilds.guild(guildId, options.counts));
        },
        async getGuilds (token, options) {
            const makeRequestOptions = token ? {
                headers: {
                    authorization: `Bearer ${token}`
                },
                unauthorized: true
            } : undefined;
            return await rest.get(rest.routes.guilds.userGuilds(options), makeRequestOptions);
        },
        async getGuildApplicationCommand (commandId, guildId) {
            return await rest.get(rest.routes.interactions.commands.guilds.one(rest.applicationId, guildId, commandId));
        },
        async getGuildApplicationCommands (guildId) {
            return await rest.get(rest.routes.interactions.commands.guilds.all(rest.applicationId, guildId));
        },
        async getGuildPreview (guildId) {
            return await rest.get(rest.routes.guilds.preview(guildId));
        },
        async getGuildTemplate (templateCode) {
            return await rest.get(rest.routes.guilds.templates.code(templateCode));
        },
        async getGuildTemplates (guildId) {
            return await rest.get(rest.routes.guilds.templates.all(guildId));
        },
        async getGuildWebhooks (guildId) {
            return await rest.get(rest.routes.guilds.webhooks(guildId));
        },
        async getIntegrations (guildId) {
            return await rest.get(rest.routes.guilds.integrations(guildId));
        },
        async getInvite (inviteCode, options) {
            return await rest.get(rest.routes.guilds.invite(inviteCode, options));
        },
        async getInvites (guildId) {
            return await rest.get(rest.routes.guilds.invites(guildId));
        },
        async getMessage (channelId, messageId) {
            return await rest.get(rest.routes.channels.message(channelId, messageId));
        },
        async getMessages (channelId, options) {
            return await rest.get(rest.routes.channels.messages(channelId, options));
        },
        async getStickerPack (stickerPackId) {
            return await rest.get(rest.routes.stickerPack(stickerPackId));
        },
        async getStickerPacks () {
            return await rest.get(rest.routes.stickerPacks());
        },
        async getOriginalInteractionResponse (token) {
            return await rest.get(rest.routes.interactions.responses.original(rest.applicationId, token), {
                unauthorized: true
            });
        },
        async getPinnedMessages (channelId) {
            return await rest.get(rest.routes.channels.pins(channelId));
        },
        async getPrivateArchivedThreads (channelId, options) {
            return await rest.get(rest.routes.channels.threads.private(channelId, options));
        },
        async getPrivateJoinedArchivedThreads (channelId, options) {
            return await rest.get(rest.routes.channels.threads.joined(channelId, options));
        },
        async getPruneCount (guildId, options) {
            return await rest.get(rest.routes.guilds.prune(guildId, options));
        },
        async getPublicArchivedThreads (channelId, options) {
            return await rest.get(rest.routes.channels.threads.public(channelId, options));
        },
        async getRoles (guildId) {
            return await rest.get(rest.routes.guilds.roles.all(guildId));
        },
        async getRole (guildId, roleId) {
            return await rest.get(rest.routes.guilds.roles.one(guildId, roleId));
        },
        async getScheduledEvent (guildId, eventId, options) {
            return await rest.get(rest.routes.guilds.events.event(guildId, eventId, options?.withUserCount));
        },
        async getScheduledEvents (guildId, options) {
            return await rest.get(rest.routes.guilds.events.events(guildId, options?.withUserCount));
        },
        async getScheduledEventUsers (guildId, eventId, options) {
            return await rest.get(rest.routes.guilds.events.users(guildId, eventId, options));
        },
        async getSessionInfo () {
            return await rest.getGatewayBot();
        },
        async getStageInstance (channelId) {
            return await rest.get(rest.routes.channels.stage(channelId));
        },
        async getOwnVoiceState (guildId) {
            return await rest.get(rest.routes.guilds.voice(guildId));
        },
        async getUserVoiceState (guildId, userId) {
            return await rest.get(rest.routes.guilds.voice(guildId, userId));
        },
        async getSticker (stickerId) {
            return await rest.get(rest.routes.sticker(stickerId));
        },
        async getGuildSticker (guildId, stickerId) {
            return await rest.get(rest.routes.guilds.sticker(guildId, stickerId));
        },
        async getGuildStickers (guildId) {
            return await rest.get(rest.routes.guilds.stickers(guildId));
        },
        async getThreadMember (channelId, userId) {
            return await rest.get(rest.routes.channels.threads.user(channelId, userId));
        },
        async getThreadMembers (channelId) {
            return await rest.get(rest.routes.channels.threads.members(channelId));
        },
        async getReactions (channelId, messageId, reaction, options) {
            return await rest.get(rest.routes.channels.reactions.message(channelId, messageId, reaction, options));
        },
        async getUser (id) {
            return await rest.get(rest.routes.user(id));
        },
        async getCurrentUser (token) {
            return await rest.get(rest.routes.currentUser(), {
                headers: {
                    authorization: `Bearer ${token}`
                },
                unauthorized: true
            });
        },
        async getUserConnections (token) {
            return await rest.get(rest.routes.oauth2.connections(), {
                headers: {
                    authorization: `Bearer ${token}`
                },
                unauthorized: true
            });
        },
        async getUserApplicationRoleConnection (token, applicationId) {
            return await rest.get(rest.routes.oauth2.roleConnections(applicationId), {
                headers: {
                    authorization: `Bearer ${token}`
                },
                unauthorized: true
            });
        },
        async getVanityUrl (guildId) {
            return await rest.get(rest.routes.guilds.vanity(guildId));
        },
        async getVoiceRegions (guildId) {
            return await rest.get(rest.routes.guilds.regions(guildId));
        },
        async getWebhook (webhookId) {
            return await rest.get(rest.routes.webhooks.id(webhookId));
        },
        async getWebhookMessage (webhookId, token, messageId, options) {
            return await rest.get(rest.routes.webhooks.message(webhookId, token, messageId, options), {
                unauthorized: true
            });
        },
        async getWebhookWithToken (webhookId, token) {
            return await rest.get(rest.routes.webhooks.webhook(webhookId, token), {
                unauthorized: true
            });
        },
        async getWelcomeScreen (guildId) {
            return await rest.get(rest.routes.guilds.welcome(guildId));
        },
        async getWidget (guildId) {
            return await rest.get(rest.routes.guilds.widgetJson(guildId));
        },
        async getWidgetSettings (guildId) {
            return await rest.get(rest.routes.guilds.widget(guildId));
        },
        async joinThread (channelId) {
            await rest.put(rest.routes.channels.threads.me(channelId));
        },
        async leaveGuild (guildId) {
            await rest.delete(rest.routes.guilds.leave(guildId));
        },
        async leaveThread (channelId) {
            await rest.delete(rest.routes.channels.threads.me(channelId));
        },
        async publishMessage (channelId, messageId) {
            return await rest.post(rest.routes.channels.crosspost(channelId, messageId));
        },
        async removeRole (guildId, userId, roleId, reason) {
            await rest.delete(rest.routes.guilds.roles.member(guildId, userId, roleId), {
                reason
            });
        },
        async removeThreadMember (channelId, userId) {
            await rest.delete(rest.routes.channels.threads.user(channelId, userId));
        },
        async removeDmRecipient (channelId, userId) {
            await rest.delete(rest.routes.channels.dmRecipient(channelId, userId));
        },
        async sendFollowupMessage (token, options) {
            return await rest.post(rest.routes.webhooks.webhook(rest.applicationId, token), {
                body: options,
                files: options.files,
                unauthorized: true
            });
        },
        async sendInteractionResponse (interactionId, token, options, params) {
            return await rest.post(rest.routes.interactions.responses.callback(interactionId, token, params), {
                body: options,
                files: options.data?.files,
                runThroughQueue: false,
                unauthorized: true
            });
        },
        async sendMessage (channelId, body) {
            return await rest.post(rest.routes.channels.messages(channelId), {
                body,
                files: body.files
            });
        },
        async startThreadWithMessage (channelId, messageId, body, reason) {
            return await rest.post(rest.routes.channels.threads.message(channelId, messageId), {
                body,
                reason
            });
        },
        async startThreadWithoutMessage (channelId, body, reason) {
            return await rest.post(rest.routes.channels.threads.all(channelId), {
                body,
                reason
            });
        },
        async getPollAnswerVoters (channelId, messageId, answerId, options) {
            return await rest.get(rest.routes.channels.polls.votes(channelId, messageId, answerId, options));
        },
        async endPoll (channelId, messageId) {
            return await rest.post(rest.routes.channels.polls.expire(channelId, messageId));
        },
        async syncGuildTemplate (guildId) {
            return await rest.put(rest.routes.guilds.templates.all(guildId));
        },
        async banMember (guildId, userId, body, reason) {
            await rest.put(rest.routes.guilds.members.ban(guildId, userId), {
                body,
                reason
            });
        },
        async bulkBanMembers (guildId, options, reason) {
            return await rest.post(rest.routes.guilds.members.bulkBan(guildId), {
                body: options,
                reason
            });
        },
        async editBotMember (guildId, body, reason) {
            return await rest.patch(rest.routes.guilds.members.bot(guildId), {
                body,
                reason
            });
        },
        async editMember (guildId, userId, body, reason) {
            return await rest.patch(rest.routes.guilds.members.member(guildId, userId), {
                body,
                reason
            });
        },
        async getMember (guildId, userId) {
            return await rest.get(rest.routes.guilds.members.member(guildId, userId));
        },
        async getCurrentMember (guildId, token) {
            return await rest.get(rest.routes.guilds.members.currentMember(guildId), {
                headers: {
                    authorization: `Bearer ${token}`
                },
                unauthorized: true
            });
        },
        async getMembers (guildId, options) {
            return await rest.get(rest.routes.guilds.members.members(guildId, options));
        },
        async getApplicationActivityInstance (applicationId, instanceId) {
            return await rest.get(rest.routes.applicationActivityInstance(applicationId, instanceId));
        },
        async kickMember (guildId, userId, reason) {
            await rest.delete(rest.routes.guilds.members.member(guildId, userId), {
                reason
            });
        },
        async pinMessage (channelId, messageId, reason) {
            await rest.put(rest.routes.channels.pin(channelId, messageId), {
                reason
            });
        },
        async pruneMembers (guildId, body, reason) {
            return await rest.post(rest.routes.guilds.members.prune(guildId), {
                body,
                reason
            });
        },
        async searchMembers (guildId, query, options) {
            return await rest.get(rest.routes.guilds.members.search(guildId, query, options));
        },
        async getGuildOnboarding (guildId) {
            return await rest.get(rest.routes.guilds.onboarding(guildId));
        },
        async editGuildOnboarding (guildId, options, reason) {
            return await rest.put(rest.routes.guilds.onboarding(guildId), {
                body: options,
                reason
            });
        },
        async unbanMember (guildId, userId, reason) {
            await rest.delete(rest.routes.guilds.members.ban(guildId, userId), {
                reason
            });
        },
        async unpinMessage (channelId, messageId, reason) {
            await rest.delete(rest.routes.channels.pin(channelId, messageId), {
                reason
            });
        },
        async triggerTypingIndicator (channelId) {
            await rest.post(rest.routes.channels.typing(channelId));
        },
        async upsertGlobalApplicationCommands (body, options) {
            const restOptions = {
                body
            };
            if (options?.bearerToken) {
                restOptions.unauthorized = true;
                restOptions.headers = {
                    authorization: `Bearer ${options.bearerToken}`
                };
            }
            return await rest.put(rest.routes.interactions.commands.commands(rest.applicationId), restOptions);
        },
        async upsertGuildApplicationCommands (guildId, body, options) {
            const restOptions = {
                body
            };
            if (options?.bearerToken) {
                restOptions.unauthorized = true;
                restOptions.headers = {
                    authorization: `Bearer ${options.bearerToken}`
                };
            }
            return await rest.put(rest.routes.interactions.commands.guilds.all(rest.applicationId, guildId), restOptions);
        },
        async editUserApplicationRoleConnection (token, applicationId, body) {
            return await rest.put(rest.routes.oauth2.roleConnections(applicationId), {
                body,
                headers: {
                    authorization: `Bearer ${token}`
                },
                unauthorized: true
            });
        },
        async addGuildMember (guildId, userId, body) {
            return await rest.put(rest.routes.guilds.members.member(guildId, userId), {
                body
            });
        },
        async createTestEntitlement (applicationId, body) {
            return await rest.post(rest.routes.monetization.entitlements(applicationId), {
                body
            });
        },
        async listEntitlements (applicationId, options) {
            return await rest.get(rest.routes.monetization.entitlements(applicationId, options));
        },
        async getEntitlement (applicationId, entitlementId) {
            return await rest.get(rest.routes.monetization.entitlement(applicationId, entitlementId));
        },
        async deleteTestEntitlement (applicationId, entitlementId) {
            await rest.delete(rest.routes.monetization.entitlement(applicationId, entitlementId));
        },
        async consumeEntitlement (applicationId, entitlementId) {
            await rest.post(rest.routes.monetization.consumeEntitlement(applicationId, entitlementId));
        },
        async listSkus (applicationId) {
            return await rest.get(rest.routes.monetization.skus(applicationId));
        },
        async listSubscriptions (skuId, options) {
            return await rest.get(rest.routes.monetization.subscriptions(skuId, options));
        },
        async getSubscription (skuId, subscriptionId) {
            return await rest.get(rest.routes.monetization.subscription(skuId, subscriptionId));
        },
        async sendSoundboardSound (channelId, options) {
            await rest.post(rest.routes.soundboard.sendSound(channelId), {
                body: options
            });
        },
        async listDefaultSoundboardSounds () {
            return await rest.get(rest.routes.soundboard.listDefault());
        },
        async listGuildSoundboardSounds (guildId) {
            return await rest.get(rest.routes.soundboard.guildSounds(guildId));
        },
        async getGuildSoundboardSound (guildId, soundId) {
            return await rest.get(rest.routes.soundboard.guildSound(guildId, soundId));
        },
        async createGuildSoundboardSound (guildId, options, reason) {
            return await rest.post(rest.routes.soundboard.guildSounds(guildId), {
                body: options,
                reason
            });
        },
        async modifyGuildSoundboardSound (guildId, soundId, options, reason) {
            return await rest.post(rest.routes.soundboard.guildSound(guildId, soundId), {
                body: options,
                reason
            });
        },
        async deleteGuildSoundboardSound (guildId, soundId, reason) {
            return await rest.delete(rest.routes.soundboard.guildSound(guildId, soundId), {
                reason
            });
        },
        preferSnakeCase (enabled) {
            const camelizer = enabled ? (x)=>x : _utils.camelize;
            rest.get = async (url, options)=>{
                return camelizer(await rest.makeRequest('GET', url, options));
            };
            rest.post = async (url, options)=>{
                return camelizer(await rest.makeRequest('POST', url, options));
            };
            rest.delete = async (url, options)=>{
                camelizer(await rest.makeRequest('DELETE', url, options));
            };
            rest.patch = async (url, options)=>{
                return camelizer(await rest.makeRequest('PATCH', url, options));
            };
            rest.put = async (url, options)=>{
                return camelizer(await rest.makeRequest('PUT', url, options));
            };
            return rest;
        }
    };
    return rest;
}
var HttpResponseCode = /*#__PURE__*/ function(HttpResponseCode) {
    /** Minimum value of a code in oder to consider that it was successful. */ HttpResponseCode[HttpResponseCode["Success"] = 200] = "Success";
    /** Request completed successfully, but Discord returned an empty body. */ HttpResponseCode[HttpResponseCode["NoContent"] = 204] = "NoContent";
    /** Minimum value of a code in order to consider that something went wrong. */ HttpResponseCode[HttpResponseCode["Error"] = 400] = "Error";
    /** This request got rate limited. */ HttpResponseCode[HttpResponseCode["TooManyRequests"] = 429] = "TooManyRequests";
    return HttpResponseCode;
}(HttpResponseCode || {});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9tYW5hZ2VyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJ1ZmZlciB9IGZyb20gJ25vZGU6YnVmZmVyJ1xuaW1wb3J0IHtcbiAgdHlwZSBCaWdTdHJpbmcsXG4gIHR5cGUgQ2FtZWxpemUsXG4gIHR5cGUgRGlzY29yZEFjY2Vzc1Rva2VuUmVzcG9uc2UsXG4gIHR5cGUgRGlzY29yZEFjdGl2aXR5SW5zdGFuY2UsXG4gIHR5cGUgRGlzY29yZEFwcGxpY2F0aW9uLFxuICB0eXBlIERpc2NvcmRBcHBsaWNhdGlvbkNvbW1hbmQsXG4gIHR5cGUgRGlzY29yZEFwcGxpY2F0aW9uUm9sZUNvbm5lY3Rpb24sXG4gIHR5cGUgRGlzY29yZEF1ZGl0TG9nLFxuICB0eXBlIERpc2NvcmRBdXRvTW9kZXJhdGlvblJ1bGUsXG4gIHR5cGUgRGlzY29yZEJhbixcbiAgdHlwZSBEaXNjb3JkQnVsa0JhbixcbiAgdHlwZSBEaXNjb3JkQ2hhbm5lbCxcbiAgdHlwZSBEaXNjb3JkQ29ubmVjdGlvbixcbiAgdHlwZSBEaXNjb3JkQ3VycmVudEF1dGhvcml6YXRpb24sXG4gIHR5cGUgRGlzY29yZEVtb2ppLFxuICB0eXBlIERpc2NvcmRFbnRpdGxlbWVudCxcbiAgdHlwZSBEaXNjb3JkRm9sbG93ZWRDaGFubmVsLFxuICB0eXBlIERpc2NvcmRHZXRBbnN3ZXJWb3Rlc1Jlc3BvbnNlLFxuICB0eXBlIERpc2NvcmRHZXRHYXRld2F5Qm90LFxuICB0eXBlIERpc2NvcmRHdWlsZCxcbiAgdHlwZSBEaXNjb3JkR3VpbGRBcHBsaWNhdGlvbkNvbW1hbmRQZXJtaXNzaW9ucyxcbiAgdHlwZSBEaXNjb3JkR3VpbGRPbmJvYXJkaW5nLFxuICB0eXBlIERpc2NvcmRHdWlsZFByZXZpZXcsXG4gIHR5cGUgRGlzY29yZEd1aWxkV2lkZ2V0LFxuICB0eXBlIERpc2NvcmRHdWlsZFdpZGdldFNldHRpbmdzLFxuICB0eXBlIERpc2NvcmRJbnRlZ3JhdGlvbixcbiAgdHlwZSBEaXNjb3JkSW50ZXJhY3Rpb25DYWxsYmFja1Jlc3BvbnNlLFxuICB0eXBlIERpc2NvcmRJbnZpdGUsXG4gIHR5cGUgRGlzY29yZEludml0ZU1ldGFkYXRhLFxuICB0eXBlIERpc2NvcmRMaXN0QWN0aXZlVGhyZWFkcyxcbiAgdHlwZSBEaXNjb3JkTGlzdEFyY2hpdmVkVGhyZWFkcyxcbiAgdHlwZSBEaXNjb3JkTWVtYmVyLFxuICB0eXBlIERpc2NvcmRNZW1iZXJXaXRoVXNlcixcbiAgdHlwZSBEaXNjb3JkTWVzc2FnZSxcbiAgdHlwZSBEaXNjb3JkUHJ1bmVkQ291bnQsXG4gIHR5cGUgRGlzY29yZFJvbGUsXG4gIHR5cGUgRGlzY29yZFNjaGVkdWxlZEV2ZW50LFxuICB0eXBlIERpc2NvcmRTa3UsXG4gIHR5cGUgRGlzY29yZFNvdW5kYm9hcmRTb3VuZCxcbiAgdHlwZSBEaXNjb3JkU3RhZ2VJbnN0YW5jZSxcbiAgdHlwZSBEaXNjb3JkU3RpY2tlcixcbiAgdHlwZSBEaXNjb3JkU3RpY2tlclBhY2ssXG4gIHR5cGUgRGlzY29yZFN1YnNjcmlwdGlvbixcbiAgdHlwZSBEaXNjb3JkVGVtcGxhdGUsXG4gIHR5cGUgRGlzY29yZFRocmVhZE1lbWJlcixcbiAgdHlwZSBEaXNjb3JkVXNlcixcbiAgdHlwZSBEaXNjb3JkVmFuaXR5VXJsLFxuICB0eXBlIERpc2NvcmRWb2ljZVJlZ2lvbixcbiAgdHlwZSBEaXNjb3JkVm9pY2VTdGF0ZSxcbiAgdHlwZSBEaXNjb3JkV2ViaG9vayxcbiAgdHlwZSBEaXNjb3JkV2VsY29tZVNjcmVlbixcbiAgSW50ZXJhY3Rpb25SZXNwb25zZVR5cGVzLFxuICB0eXBlIE1mYUxldmVscyxcbiAgdHlwZSBNb2RpZnlHdWlsZFRlbXBsYXRlLFxufSBmcm9tICdAZGlzY29yZGVuby90eXBlcydcbmltcG9ydCB7XG4gIERJU0NPUkRFTk9fVkVSU0lPTixcbiAgY2FsY3VsYXRlQml0cyxcbiAgY2FtZWxUb1NuYWtlQ2FzZSxcbiAgY2FtZWxpemUsXG4gIGRlbGF5LFxuICBnZXRCb3RJZEZyb21Ub2tlbixcbiAgbG9nZ2VyLFxuICBwcm9jZXNzUmVhY3Rpb25TdHJpbmcsXG4gIHVybFRvQmFzZTY0XG59IGZyb20gJ0BkaXNjb3JkZW5vL3V0aWxzJ1xuaW1wb3J0IHsgY3JlYXRlSW52YWxpZFJlcXVlc3RCdWNrZXQgfSBmcm9tICcuL2ludmFsaWRCdWNrZXQuanMnXG5pbXBvcnQgeyBRdWV1ZSB9IGZyb20gJy4vcXVldWUuanMnXG5pbXBvcnQgeyBjcmVhdGVSb3V0ZXMgfSBmcm9tICcuL3JvdXRlcy5qcydcbmltcG9ydCB0eXBlIHsgQ3JlYXRlUmVxdWVzdEJvZHlPcHRpb25zLCBDcmVhdGVSZXN0TWFuYWdlck9wdGlvbnMsIE1ha2VSZXF1ZXN0T3B0aW9ucywgUmVzdE1hbmFnZXIsIFNlbmRSZXF1ZXN0T3B0aW9ucyB9IGZyb20gJy4vdHlwZXMuanMnXG5cbmV4cG9ydCBjb25zdCBESVNDT1JEX0FQSV9WRVJTSU9OID0gMTBcbmV4cG9ydCBjb25zdCBESVNDT1JEX0FQSV9VUkwgPSAnaHR0cHM6Ly9kaXNjb3JkLmNvbS9hcGknXG5cbmV4cG9ydCBjb25zdCBBVURJVF9MT0dfUkVBU09OX0hFQURFUiA9ICd4LWF1ZGl0LWxvZy1yZWFzb24nXG5leHBvcnQgY29uc3QgUkFURV9MSU1JVF9SRU1BSU5JTkdfSEVBREVSID0gJ3gtcmF0ZWxpbWl0LXJlbWFpbmluZydcbmV4cG9ydCBjb25zdCBSQVRFX0xJTUlUX1JFU0VUX0FGVEVSX0hFQURFUiA9ICd4LXJhdGVsaW1pdC1yZXNldC1hZnRlcidcbmV4cG9ydCBjb25zdCBSQVRFX0xJTUlUX0dMT0JBTF9IRUFERVIgPSAneC1yYXRlbGltaXQtZ2xvYmFsJ1xuZXhwb3J0IGNvbnN0IFJBVEVfTElNSVRfQlVDS0VUX0hFQURFUiA9ICd4LXJhdGVsaW1pdC1idWNrZXQnXG5leHBvcnQgY29uc3QgUkFURV9MSU1JVF9MSU1JVF9IRUFERVIgPSAneC1yYXRlbGltaXQtbGltaXQnXG5leHBvcnQgY29uc3QgUkFURV9MSU1JVF9TQ09QRV9IRUFERVIgPSAneC1yYXRlbGltaXQtc2NvcGUnXG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVSZXN0TWFuYWdlcihvcHRpb25zOiBDcmVhdGVSZXN0TWFuYWdlck9wdGlvbnMpOiBSZXN0TWFuYWdlciB7XG4gIGNvbnN0IGFwcGxpY2F0aW9uSWQgPSBvcHRpb25zLmFwcGxpY2F0aW9uSWQgPyBCaWdJbnQob3B0aW9ucy5hcHBsaWNhdGlvbklkKSA6IGdldEJvdElkRnJvbVRva2VuKG9wdGlvbnMudG9rZW4pXG5cbiAgY29uc3QgYmFzZVVybCA9IG9wdGlvbnMucHJveHk/LmJhc2VVcmwgPz8gRElTQ09SRF9BUElfVVJMXG5cbiAgY29uc3QgcmVzdDogUmVzdE1hbmFnZXIgPSB7XG4gICAgYXBwbGljYXRpb25JZCxcbiAgICBhdXRob3JpemF0aW9uOiBvcHRpb25zLnByb3h5Py5hdXRob3JpemF0aW9uLFxuICAgIGF1dGhvcml6YXRpb25IZWFkZXI6IG9wdGlvbnMucHJveHk/LmF1dGhvcml6YXRpb25IZWFkZXIgPz8gJ2F1dGhvcml6YXRpb24nLFxuICAgIGJhc2VVcmwsXG4gICAgZGVsZXRlUXVldWVEZWxheTogNjAwMDAsXG4gICAgZ2xvYmFsbHlSYXRlTGltaXRlZDogZmFsc2UsXG4gICAgaW52YWxpZEJ1Y2tldDogY3JlYXRlSW52YWxpZFJlcXVlc3RCdWNrZXQoeyBsb2dnZXI6IG9wdGlvbnMubG9nZ2VyIH0pLFxuICAgIGlzUHJveGllZDogIWJhc2VVcmwuc3RhcnRzV2l0aChESVNDT1JEX0FQSV9VUkwpLFxuICAgIHVwZGF0ZUJlYXJlclRva2VuRW5kcG9pbnQ6IG9wdGlvbnMucHJveHk/LnVwZGF0ZUJlYXJlclRva2VuRW5kcG9pbnQsXG4gICAgbWF4UmV0cnlDb3VudDogSW5maW5pdHksXG4gICAgcHJvY2Vzc2luZ1JhdGVMaW1pdGVkUGF0aHM6IGZhbHNlLFxuICAgIHF1ZXVlczogbmV3IE1hcCgpLFxuICAgIHJhdGVMaW1pdGVkUGF0aHM6IG5ldyBNYXAoKSxcbiAgICB0b2tlbjogb3B0aW9ucy50b2tlbixcbiAgICB2ZXJzaW9uOiBvcHRpb25zLnZlcnNpb24gPz8gRElTQ09SRF9BUElfVkVSU0lPTixcbiAgICBsb2dnZXI6IG9wdGlvbnMubG9nZ2VyID8/IGxvZ2dlcixcblxuICAgIHJvdXRlczogY3JlYXRlUm91dGVzKCksXG5cbiAgICBjcmVhdGVCYXNlSGVhZGVycygpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgICd1c2VyLWFnZW50JzogYERpc2NvcmRCb3QgKGh0dHBzOi8vZ2l0aHViLmNvbS9kaXNjb3JkZW5vL2Rpc2NvcmRlbm8sIHYke0RJU0NPUkRFTk9fVkVSU0lPTn0pYCxcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgY2hlY2tSYXRlTGltaXRzKHVybCwgaWRlbnRpZmllcikge1xuICAgICAgY29uc3QgcmF0ZWxpbWl0ZWQgPSByZXN0LnJhdGVMaW1pdGVkUGF0aHMuZ2V0KGAke2lkZW50aWZpZXJ9JHt1cmx9YClcblxuICAgICAgY29uc3QgZ2xvYmFsID0gcmVzdC5yYXRlTGltaXRlZFBhdGhzLmdldCgnZ2xvYmFsJylcbiAgICAgIGNvbnN0IG5vdyA9IERhdGUubm93KClcblxuICAgICAgaWYgKHJhdGVsaW1pdGVkICYmIG5vdyA8IHJhdGVsaW1pdGVkLnJlc2V0VGltZXN0YW1wKSB7XG4gICAgICAgIHJldHVybiByYXRlbGltaXRlZC5yZXNldFRpbWVzdGFtcCAtIG5vd1xuICAgICAgfVxuXG4gICAgICBpZiAoZ2xvYmFsICYmIG5vdyA8IGdsb2JhbC5yZXNldFRpbWVzdGFtcCkge1xuICAgICAgICByZXR1cm4gZ2xvYmFsLnJlc2V0VGltZXN0YW1wIC0gbm93XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH0sXG5cbiAgICBhc3luYyB1cGRhdGVUb2tlblF1ZXVlcyhvbGRUb2tlbiwgbmV3VG9rZW4pIHtcbiAgICAgIGlmIChyZXN0LmlzUHJveGllZCkge1xuICAgICAgICBpZiAoIXJlc3QudXBkYXRlQmVhcmVyVG9rZW5FbmRwb2ludCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgIFwiVGhlICdwcm94eS51cGRhdGVCZWFyZXJUb2tlbkVuZHBvaW50JyBvcHRpb24gbmVlZHMgdG8gYmUgc2V0IHdoZW4gdXNpbmcgYSByZXN0IHByb3h5IGFuZCBuZWVkZWQgdG8gY2FsbCAndXBkYXRlVG9rZW5RdWV1ZXMnXCIsXG4gICAgICAgICAgKVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgICAgICAnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICB9IGFzIFJlY29yZDxzdHJpbmcsIHN0cmluZz5cblxuICAgICAgICBpZiAocmVzdC5hdXRob3JpemF0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBoZWFkZXJzW3Jlc3QuYXV0aG9yaXphdGlvbkhlYWRlcl0gPSByZXN0LmF1dGhvcml6YXRpb25cbiAgICAgICAgfVxuXG4gICAgICAgIGF3YWl0IGZldGNoKGAke3Jlc3QuYmFzZVVybH0vJHtyZXN0LnVwZGF0ZUJlYXJlclRva2VuRW5kcG9pbnR9YCwge1xuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgIG9sZFRva2VuLFxuICAgICAgICAgICAgbmV3VG9rZW4sXG4gICAgICAgICAgfSksXG4gICAgICAgICAgaGVhZGVycyxcbiAgICAgICAgfSlcblxuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgY29uc3QgbmV3SWRlbnRpZmllciA9IGBCZWFyZXIgJHtuZXdUb2tlbn1gXG5cbiAgICAgIC8vIFVwZGF0ZSBhbGwgdGhlIHF1ZXVlc1xuICAgICAgZm9yIChjb25zdCBba2V5LCBxdWV1ZV0gb2YgcmVzdC5xdWV1ZXMuZW50cmllcygpKSB7XG4gICAgICAgIGlmICgha2V5LnN0YXJ0c1dpdGgoYEJlYXJlciAke29sZFRva2VufWApKSBjb250aW51ZVxuXG4gICAgICAgIHJlc3QucXVldWVzLmRlbGV0ZShrZXkpXG4gICAgICAgIHF1ZXVlLmlkZW50aWZpZXIgPSBuZXdJZGVudGlmaWVyXG5cbiAgICAgICAgY29uc3QgbmV3S2V5ID0gYCR7bmV3SWRlbnRpZmllcn0ke3F1ZXVlLnVybH1gXG4gICAgICAgIGNvbnN0IG5ld1F1ZXVlID0gcmVzdC5xdWV1ZXMuZ2V0KG5ld0tleSlcblxuICAgICAgICAvLyBNZXJnZSB0aGUgcXVldWVzXG4gICAgICAgIGlmIChuZXdRdWV1ZSkge1xuICAgICAgICAgIG5ld1F1ZXVlLndhaXRpbmcudW5zaGlmdCguLi5xdWV1ZS53YWl0aW5nKVxuICAgICAgICAgIG5ld1F1ZXVlLnBlbmRpbmcudW5zaGlmdCguLi5xdWV1ZS5wZW5kaW5nKVxuXG4gICAgICAgICAgcXVldWUud2FpdGluZyA9IFtdXG4gICAgICAgICAgcXVldWUucGVuZGluZyA9IFtdXG5cbiAgICAgICAgICBxdWV1ZS5jbGVhbnVwKClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXN0LnF1ZXVlcy5zZXQobmV3S2V5LCBxdWV1ZSlcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmb3IgKGNvbnN0IFtrZXksIHJhdGVsaW1pdFBhdGhdIG9mIHJlc3QucmF0ZUxpbWl0ZWRQYXRocy5lbnRyaWVzKCkpIHtcbiAgICAgICAgaWYgKCFrZXkuc3RhcnRzV2l0aChgQmVhcmVyICR7b2xkVG9rZW59YCkpIGNvbnRpbnVlXG5cbiAgICAgICAgcmVzdC5yYXRlTGltaXRlZFBhdGhzLnNldChgJHtuZXdJZGVudGlmaWVyfSR7cmF0ZWxpbWl0UGF0aC51cmx9YCwgcmF0ZWxpbWl0UGF0aClcblxuICAgICAgICBpZiAocmF0ZWxpbWl0UGF0aC5idWNrZXRJZCkge1xuICAgICAgICAgIHJlc3QucmF0ZUxpbWl0ZWRQYXRocy5zZXQoYCR7bmV3SWRlbnRpZmllcn0ke3JhdGVsaW1pdFBhdGguYnVja2V0SWR9YCwgcmF0ZWxpbWl0UGF0aClcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBjaGFuZ2VUb0Rpc2NvcmRGb3JtYXQob2JqOiBhbnkpOiBhbnkge1xuICAgICAgaWYgKG9iaiA9PT0gbnVsbCkgcmV0dXJuIG51bGxcblxuICAgICAgaWYgKHR5cGVvZiBvYmogPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KG9iaikpIHtcbiAgICAgICAgICByZXR1cm4gb2JqLm1hcCgoaXRlbSkgPT4gcmVzdC5jaGFuZ2VUb0Rpc2NvcmRGb3JtYXQoaXRlbSkpXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBuZXdPYmo6IGFueSA9IHt9XG5cbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMob2JqKSkge1xuICAgICAgICAgIGNvbnN0IHZhbHVlID0gb2JqW2tleV1cblxuICAgICAgICAgIC8vIElmIHRoZSBrZXkgaXMgYWxyZWFkeSBpbiBzbmFrZV9jYXNlIHdlIGNhbiBhc3N1bWUgaXQgaXMgYWxyZWFkeSBpbiB0aGUgZGlzY29yZCBmb3JtYXQuXG4gICAgICAgICAgaWYgKGtleS5pbmNsdWRlcygnXycpKSB7XG4gICAgICAgICAgICBuZXdPYmpba2V5XSA9IHZhbHVlXG4gICAgICAgICAgICBjb250aW51ZVxuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIFNvbWUgZmFsc3kgdmFsdWVzIHNob3VsZCBiZSBhbGxvd2VkIGxpa2UgbnVsbCBvciAwXG4gICAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoa2V5KSB7XG4gICAgICAgICAgICAgIGNhc2UgJ3Blcm1pc3Npb25zJzpcbiAgICAgICAgICAgICAgY2FzZSAnYWxsb3cnOlxuICAgICAgICAgICAgICBjYXNlICdkZW55JzpcbiAgICAgICAgICAgICAgICBuZXdPYmpba2V5XSA9IHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgPyB2YWx1ZSA6IGNhbGN1bGF0ZUJpdHModmFsdWUpXG4gICAgICAgICAgICAgICAgY29udGludWVcbiAgICAgICAgICAgICAgY2FzZSAnZGVmYXVsdE1lbWJlclBlcm1pc3Npb25zJzpcbiAgICAgICAgICAgICAgICBuZXdPYmouZGVmYXVsdF9tZW1iZXJfcGVybWlzc2lvbnMgPSB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnID8gdmFsdWUgOiBjYWxjdWxhdGVCaXRzKHZhbHVlKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgICAgICAgIGNhc2UgJ25hbWVMb2NhbGl6YXRpb25zJzpcbiAgICAgICAgICAgICAgICBuZXdPYmoubmFtZV9sb2NhbGl6YXRpb25zID0gdmFsdWVcbiAgICAgICAgICAgICAgICBjb250aW51ZVxuICAgICAgICAgICAgICBjYXNlICdkZXNjcmlwdGlvbkxvY2FsaXphdGlvbnMnOlxuICAgICAgICAgICAgICAgIG5ld09iai5kZXNjcmlwdGlvbl9sb2NhbGl6YXRpb25zID0gdmFsdWVcbiAgICAgICAgICAgICAgICBjb250aW51ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIG5ld09ialtjYW1lbFRvU25ha2VDYXNlKGtleSldID0gcmVzdC5jaGFuZ2VUb0Rpc2NvcmRGb3JtYXQodmFsdWUpXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3T2JqXG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2Ygb2JqID09PSAnYmlnaW50JykgcmV0dXJuIG9iai50b1N0cmluZygpXG5cbiAgICAgIHJldHVybiBvYmpcbiAgICB9LFxuXG4gICAgY3JlYXRlUmVxdWVzdEJvZHkobWV0aG9kLCBvcHRpb25zKSB7XG4gICAgICBjb25zdCBoZWFkZXJzID0gdGhpcy5jcmVhdGVCYXNlSGVhZGVycygpXG5cbiAgICAgIGlmIChvcHRpb25zPy51bmF1dGhvcml6ZWQgIT09IHRydWUpIGhlYWRlcnMuYXV0aG9yaXphdGlvbiA9IGBCb3QgJHtyZXN0LnRva2VufWBcblxuICAgICAgLy8gSUYgQSBSRUFTT04gSVMgUFJPVklERUQgRU5DT0RFIElUIElOIEhFQURFUlNcbiAgICAgIGlmIChvcHRpb25zPy5yZWFzb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBoZWFkZXJzW0FVRElUX0xPR19SRUFTT05fSEVBREVSXSA9IGVuY29kZVVSSUNvbXBvbmVudChvcHRpb25zPy5yZWFzb24pXG4gICAgICB9XG5cbiAgICAgIGxldCBib2R5OiBzdHJpbmcgfCBGb3JtRGF0YSB8IHVuZGVmaW5lZFxuXG4gICAgICAvLyBUT0RPOiBjaGVjayBpZiB3ZSBuZWVkIHRvIGFkZCBzcGVjaWZpYyBjaGVjayBmb3IgR0VUIG1ldGhvZFxuICAgICAgLy8gU2luY2UgR0VUIGRvZXMgbm90IGFsbG93IGJvZGllc1xuXG4gICAgICAvLyBIYXZlIHRvIGNoZWNrIGZvciBhdHRhY2htZW50cyBmaXJzdCwgc2luY2UgYm9keSB0aGVuIGhhcyB0byBiZSBzZW5kIGluIGEgZGlmZmVyZW50IHdheS5cbiAgICAgIGlmIChvcHRpb25zPy5maWxlcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnN0IGZvcm0gPSBuZXcgRm9ybURhdGEoKVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9wdGlvbnMuZmlsZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICBmb3JtLmFwcGVuZChgZmlsZXNbJHtpfV1gLCBvcHRpb25zLmZpbGVzW2ldLmJsb2IsIG9wdGlvbnMuZmlsZXNbaV0ubmFtZSlcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEhhdmUgdG8gdXNlIGNoYW5nZVRvRGlzY29yZEZvcm1hdCBvciBlbHNlIEpTT04uc3RyaW5naWZ5IG1heSB0aHJvdyBhbiBlcnJvciBmb3IgdGhlIHByZXNlbmNlIG9mIEJpZ0ludChzKSBpbiB0aGUganNvblxuICAgICAgICBmb3JtLmFwcGVuZCgncGF5bG9hZF9qc29uJywgSlNPTi5zdHJpbmdpZnkocmVzdC5jaGFuZ2VUb0Rpc2NvcmRGb3JtYXQoeyAuLi5vcHRpb25zLmJvZHksIGZpbGVzOiB1bmRlZmluZWQgfSkpKVxuXG4gICAgICAgIC8vIE5vIG5lZWQgdG8gc2V0IHRoZSBgY29udGVudC10eXBlYCBoZWFkZXIgc2luY2UgYGZldGNoYCBkb2VzIHRoYXQgYXV0b21hdGljYWxseSBmb3IgdXMgd2hlbiB3ZSB1c2UgYSBgRm9ybURhdGFgIG9iamVjdC5cbiAgICAgICAgYm9keSA9IGZvcm1cbiAgICAgIH0gZWxzZSBpZiAob3B0aW9ucz8uYm9keSAmJiBvcHRpb25zLmhlYWRlcnMgJiYgb3B0aW9ucy5oZWFkZXJzWydjb250ZW50LXR5cGUnXSA9PT0gJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcpIHtcbiAgICAgICAgLy8gT0F1dGgyIGJvZHkgaGFuZGxpbmdcbiAgICAgICAgY29uc3QgZm9ybUJvZHk6IHN0cmluZ1tdID0gW11cblxuICAgICAgICBjb25zdCBkaXNjb3JkQm9keSA9IHJlc3QuY2hhbmdlVG9EaXNjb3JkRm9ybWF0KG9wdGlvbnMuYm9keSlcblxuICAgICAgICBmb3IgKGNvbnN0IHByb3AgaW4gZGlzY29yZEJvZHkpIHtcbiAgICAgICAgICBmb3JtQm9keS5wdXNoKGAke2VuY29kZVVSSUNvbXBvbmVudChwcm9wKX09JHtlbmNvZGVVUklDb21wb25lbnQoZGlzY29yZEJvZHlbcHJvcF0pfWApXG4gICAgICAgIH1cblxuICAgICAgICBib2R5ID0gZm9ybUJvZHkuam9pbignJicpXG4gICAgICB9IGVsc2UgaWYgKG9wdGlvbnM/LmJvZHkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAob3B0aW9ucy5ib2R5IGluc3RhbmNlb2YgRm9ybURhdGEpIHtcbiAgICAgICAgICBib2R5ID0gb3B0aW9ucy5ib2R5XG4gICAgICAgICAgLy8gTm8gbmVlZCB0byBzZXQgdGhlIGBjb250ZW50LXR5cGVgIGhlYWRlciBzaW5jZSBgZmV0Y2hgIGRvZXMgdGhhdCBhdXRvbWF0aWNhbGx5IGZvciB1cyB3aGVuIHdlIHVzZSBhIGBGb3JtRGF0YWAgb2JqZWN0LlxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeShyZXN0LmNoYW5nZVRvRGlzY29yZEZvcm1hdChvcHRpb25zLmJvZHkpKVxuICAgICAgICAgIGhlYWRlcnNbJ2NvbnRlbnQtdHlwZSddID0gYGFwcGxpY2F0aW9uL2pzb25gXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gU09NRVRJTUVTIFNQRUNJQUwgSEVBREVSUyAoRS5HLiBDVVNUT00gQVVUSE9SSVpBVElPTikgTkVFRCBUTyBCRSBVU0VEXG4gICAgICBpZiAob3B0aW9ucz8uaGVhZGVycykge1xuICAgICAgICBPYmplY3QuYXNzaWduKGhlYWRlcnMsIG9wdGlvbnMuaGVhZGVycylcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgYm9keSxcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgbWV0aG9kLFxuICAgICAgfVxuICAgIH0sXG5cbiAgICBwcm9jZXNzUmF0ZUxpbWl0ZWRQYXRocygpIHtcbiAgICAgIGNvbnN0IG5vdyA9IERhdGUubm93KClcblxuICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgcmVzdC5yYXRlTGltaXRlZFBhdGhzLmVudHJpZXMoKSkge1xuICAgICAgICAvLyAgIHJlc3QuZGVidWcoXG4gICAgICAgIC8vIGBbUkVTVCAtIHByb2Nlc3NSYXRlTGltaXRlZFBhdGhzXSBSdW5uaW5nIGZvciBvZiBsb29wLiAke1xuICAgICAgICAvLyAgIHZhbHVlLnJlc2V0VGltZXN0YW1wIC0gbm93XG4gICAgICAgIC8vIH1gXG4gICAgICAgIC8vICAgKVxuICAgICAgICAvLyBJZiB0aGUgdGltZSBoYXMgbm90IHJlYWNoZWQgY2FuY2VsXG4gICAgICAgIGlmICh2YWx1ZS5yZXNldFRpbWVzdGFtcCA+IG5vdykgY29udGludWVcblxuICAgICAgICAvLyBSYXRlIGxpbWl0IGlzIG92ZXIsIGRlbGV0ZSB0aGUgcmF0ZSBsaW1pdGVyXG4gICAgICAgIHJlc3QucmF0ZUxpbWl0ZWRQYXRocy5kZWxldGUoa2V5KVxuICAgICAgICAvLyBJZiBpdCB3YXMgZ2xvYmFsLCBhbHNvIG1hcmsgdGhlIGdsb2JhbCB2YWx1ZSBhcyBmYWxzZVxuICAgICAgICBpZiAoa2V5ID09PSAnZ2xvYmFsJykgcmVzdC5nbG9iYWxseVJhdGVMaW1pdGVkID0gZmFsc2VcbiAgICAgIH1cblxuICAgICAgLy8gQUxMIFBBVEhTIEFSRSBDTEVBUkVEIENBTiBDQU5DRUwgT1VUIVxuICAgICAgaWYgKHJlc3QucmF0ZUxpbWl0ZWRQYXRocy5zaXplID09PSAwKSB7XG4gICAgICAgIHJlc3QucHJvY2Vzc2luZ1JhdGVMaW1pdGVkUGF0aHMgPSBmYWxzZVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdC5wcm9jZXNzaW5nUmF0ZUxpbWl0ZWRQYXRocyA9IHRydWVcbiAgICAgICAgLy8gUkVDSEVDSyBJTiAxIFNFQ09ORFxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAvLyByZXN0LmRlYnVnKCdbUkVTVCAtIHByb2Nlc3NSYXRlTGltaXRlZFBhdGhzXSBSdW5uaW5nIHNldFRpbWVvdXQuJylcbiAgICAgICAgICByZXN0LnByb2Nlc3NSYXRlTGltaXRlZFBhdGhzKClcbiAgICAgICAgfSwgMTAwMClcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqIFByb2Nlc3NlcyB0aGUgcmF0ZSBsaW1pdCBoZWFkZXJzIGFuZCBkZXRlcm1pbmVzIGlmIGl0IG5lZWRzIHRvIGJlIHJhdGUgbGltaXRlZCBhbmQgcmV0dXJucyB0aGUgYnVja2V0IGlkIGlmIGF2YWlsYWJsZSAqL1xuICAgIHByb2Nlc3NIZWFkZXJzKHVybCwgaGVhZGVycywgaWRlbnRpZmllcikge1xuICAgICAgbGV0IHJhdGVMaW1pdGVkID0gZmFsc2VcblxuICAgICAgLy8gR0VUIEFMTCBORUNFU1NBUlkgSEVBREVSU1xuICAgICAgY29uc3QgcmVtYWluaW5nID0gaGVhZGVycy5nZXQoUkFURV9MSU1JVF9SRU1BSU5JTkdfSEVBREVSKVxuICAgICAgY29uc3QgcmV0cnlBZnRlciA9IGhlYWRlcnMuZ2V0KFJBVEVfTElNSVRfUkVTRVRfQUZURVJfSEVBREVSKVxuICAgICAgY29uc3QgcmVzZXQgPSBEYXRlLm5vdygpICsgTnVtYmVyKHJldHJ5QWZ0ZXIpICogMTAwMFxuICAgICAgY29uc3QgZ2xvYmFsID0gaGVhZGVycy5nZXQoUkFURV9MSU1JVF9HTE9CQUxfSEVBREVSKVxuICAgICAgLy8gdW5kZWZpbmVkIG92ZXJyaWRlIG51bGwgbmVlZGVkIGZvciB0eXBpbmdzXG4gICAgICBjb25zdCBidWNrZXRJZCA9IGhlYWRlcnMuZ2V0KFJBVEVfTElNSVRfQlVDS0VUX0hFQURFUikgPz8gdW5kZWZpbmVkXG4gICAgICBjb25zdCBsaW1pdCA9IGhlYWRlcnMuZ2V0KFJBVEVfTElNSVRfTElNSVRfSEVBREVSKVxuXG4gICAgICAvLyBJZiB3ZSBkaWRuJ3QgcmVjZWl2ZWQgdGhlIGlkZW50aWZpZXIsIGZhbGxiYWNrIHRvIHRoZSBib3QgdG9rZW5cbiAgICAgIGlkZW50aWZpZXIgPz89IGBCb3QgJHtyZXN0LnRva2VufWBcblxuICAgICAgcmVzdC5xdWV1ZXMuZ2V0KGAke2lkZW50aWZpZXJ9JHt1cmx9YCk/LmhhbmRsZUNvbXBsZXRlZFJlcXVlc3Qoe1xuICAgICAgICByZW1haW5pbmc6IHJlbWFpbmluZyA/IE51bWJlcihyZW1haW5pbmcpIDogdW5kZWZpbmVkLFxuICAgICAgICBpbnRlcnZhbDogcmV0cnlBZnRlciA/IE51bWJlcihyZXRyeUFmdGVyKSAqIDEwMDAgOiB1bmRlZmluZWQsXG4gICAgICAgIG1heDogbGltaXQgPyBOdW1iZXIobGltaXQpIDogdW5kZWZpbmVkLFxuICAgICAgfSlcblxuICAgICAgLy8gSUYgVEhFUkUgSVMgTk8gUkVNQUlOSU5HIFJBVEUgTElNSVQsIE1BUksgSVQgQVMgUkFURSBMSU1JVEVEXG4gICAgICBpZiAocmVtYWluaW5nID09PSAnMCcpIHtcbiAgICAgICAgcmF0ZUxpbWl0ZWQgPSB0cnVlXG5cbiAgICAgICAgLy8gU0FWRSBUSEUgVVJMIEFTIExJTUlURUQsIElNUE9SVEFOVCBGT1IgTkVXIFJFUVVFU1RTIEJZIFVTRVIgV0lUSE9VVCBCVUNLRVRcbiAgICAgICAgcmVzdC5yYXRlTGltaXRlZFBhdGhzLnNldChgJHtpZGVudGlmaWVyfSR7dXJsfWAsIHtcbiAgICAgICAgICB1cmwsXG4gICAgICAgICAgcmVzZXRUaW1lc3RhbXA6IHJlc2V0LFxuICAgICAgICAgIGJ1Y2tldElkLFxuICAgICAgICB9KVxuXG4gICAgICAgIC8vIFNBVkUgVEhFIEJVQ0tFVCBBUyBMSU1JVEVEIFNJTkNFIERJRkZFUkVOVCBVUkxTIE1BWSBTSEFSRSBBIEJVQ0tFVFxuICAgICAgICBpZiAoYnVja2V0SWQpIHtcbiAgICAgICAgICByZXN0LnJhdGVMaW1pdGVkUGF0aHMuc2V0KGAke2lkZW50aWZpZXJ9JHtidWNrZXRJZH1gLCB7XG4gICAgICAgICAgICB1cmwsXG4gICAgICAgICAgICByZXNldFRpbWVzdGFtcDogcmVzZXQsXG4gICAgICAgICAgICBidWNrZXRJZCxcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIElGIFRIRVJFIElTIE5PIFJFTUFJTklORyBHTE9CQUwgTElNSVQsIE1BUksgSVQgUkFURSBMSU1JVEVEIEdMT0JBTExZXG4gICAgICBpZiAoZ2xvYmFsKSB7XG4gICAgICAgIGNvbnN0IHJldHJ5QWZ0ZXIgPSBOdW1iZXIoaGVhZGVycy5nZXQoJ3JldHJ5LWFmdGVyJykpICogMTAwMFxuICAgICAgICBjb25zdCBnbG9iYWxSZXNldCA9IERhdGUubm93KCkgKyByZXRyeUFmdGVyXG4gICAgICAgIC8vICAgcmVzdC5kZWJ1ZyhcbiAgICAgICAgLy8gYFtSRVNUID0gR2xvYmFsbHkgUmF0ZSBMaW1pdGVkXSBVUkw6ICR7dXJsfSB8IEdsb2JhbCBSZXN0OiAke2dsb2JhbFJlc2V0fWBcbiAgICAgICAgLy8gICApXG4gICAgICAgIHJlc3QuZ2xvYmFsbHlSYXRlTGltaXRlZCA9IHRydWVcbiAgICAgICAgcmF0ZUxpbWl0ZWQgPSB0cnVlXG5cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgcmVzdC5nbG9iYWxseVJhdGVMaW1pdGVkID0gZmFsc2VcbiAgICAgICAgfSwgcmV0cnlBZnRlcilcblxuICAgICAgICByZXN0LnJhdGVMaW1pdGVkUGF0aHMuc2V0KCdnbG9iYWwnLCB7XG4gICAgICAgICAgdXJsOiAnZ2xvYmFsJyxcbiAgICAgICAgICByZXNldFRpbWVzdGFtcDogZ2xvYmFsUmVzZXQsXG4gICAgICAgICAgYnVja2V0SWQsXG4gICAgICAgIH0pXG5cbiAgICAgICAgaWYgKGJ1Y2tldElkKSB7XG4gICAgICAgICAgcmVzdC5yYXRlTGltaXRlZFBhdGhzLnNldChpZGVudGlmaWVyLCB7XG4gICAgICAgICAgICB1cmw6ICdnbG9iYWwnLFxuICAgICAgICAgICAgcmVzZXRUaW1lc3RhbXA6IGdsb2JhbFJlc2V0LFxuICAgICAgICAgICAgYnVja2V0SWQsXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAocmF0ZUxpbWl0ZWQgJiYgIXJlc3QucHJvY2Vzc2luZ1JhdGVMaW1pdGVkUGF0aHMpIHtcbiAgICAgICAgcmVzdC5wcm9jZXNzUmF0ZUxpbWl0ZWRQYXRocygpXG4gICAgICB9XG4gICAgICByZXR1cm4gcmF0ZUxpbWl0ZWQgPyBidWNrZXRJZCA6IHVuZGVmaW5lZFxuICAgIH0sXG5cbiAgICBhc3luYyBzZW5kUmVxdWVzdChvcHRpb25zKSB7XG4gICAgICBjb25zdCB1cmwgPSBgJHtyZXN0LmJhc2VVcmx9L3Yke3Jlc3QudmVyc2lvbn0ke29wdGlvbnMucm91dGV9YFxuICAgICAgY29uc3QgcGF5bG9hZCA9IHJlc3QuY3JlYXRlUmVxdWVzdEJvZHkob3B0aW9ucy5tZXRob2QsIG9wdGlvbnMucmVxdWVzdEJvZHlPcHRpb25zKVxuXG4gICAgICBjb25zdCBsb2dnaW5nSGVhZGVycyA9IHsgLi4ucGF5bG9hZC5oZWFkZXJzIH1cblxuICAgICAgaWYgKHBheWxvYWQuaGVhZGVycy5hdXRob3JpemF0aW9uKSB7XG4gICAgICAgIGNvbnN0IGF1dGhvcml6YXRpb25TY2hlbWUgPSBwYXlsb2FkLmhlYWRlcnMuYXV0aG9yaXphdGlvbj8uc3BsaXQoJyAnKVswXVxuICAgICAgICBsb2dnaW5nSGVhZGVycy5hdXRob3JpemF0aW9uID0gYCR7YXV0aG9yaXphdGlvblNjaGVtZX0gdG9rZW5oZXJlYFxuICAgICAgfVxuXG4gICAgICByZXN0LmxvZ2dlci5kZWJ1Zyhgc2VuZGluZyByZXF1ZXN0IHRvICR7dXJsfWAsICd3aXRoIHBheWxvYWQ6JywgeyAuLi5wYXlsb2FkLCBoZWFkZXJzOiBsb2dnaW5nSGVhZGVycyB9KVxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwsIHBheWxvYWQpLmNhdGNoKGFzeW5jIChlcnJvcikgPT4ge1xuICAgICAgICByZXN0LmxvZ2dlci5lcnJvcihlcnJvcilcbiAgICAgICAgLy8gTWFyayByZXF1ZXN0IGFuZCBjb21wbGV0ZWRcbiAgICAgICAgcmVzdC5pbnZhbGlkQnVja2V0LmhhbmRsZUNvbXBsZXRlZFJlcXVlc3QoOTk5LCBmYWxzZSlcbiAgICAgICAgb3B0aW9ucy5yZWplY3Qoe1xuICAgICAgICAgIG9rOiBmYWxzZSxcbiAgICAgICAgICBzdGF0dXM6IDk5OSxcbiAgICAgICAgICBlcnJvcjogJ1Bvc3NpYmxlIG5ldHdvcmsgb3IgcmVxdWVzdCBzaGFwZSBpc3N1ZSBvY2N1cnJlZC4gSWYgdGhpcyBpcyByYXJlLCBpdHMgYSBuZXR3b3JrIGdsaXRjaC4gSWYgaXQgb2NjdXJzIGEgbG90IHNvbWV0aGluZyBpcyB3cm9uZy4nLFxuICAgICAgICB9KVxuICAgICAgICB0aHJvdyBlcnJvclxuICAgICAgfSlcbiAgICAgIHJlc3QubG9nZ2VyLmRlYnVnKGByZXF1ZXN0IGZldGNoZWQgZnJvbSAke3VybH0gd2l0aCBzdGF0dXMgJHtyZXNwb25zZS5zdGF0dXN9ICYgJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApXG5cbiAgICAgIC8vIE1hcmsgcmVxdWVzdCBhbmQgY29tcGxldGVkXG4gICAgICByZXN0LmludmFsaWRCdWNrZXQuaGFuZGxlQ29tcGxldGVkUmVxdWVzdChyZXNwb25zZS5zdGF0dXMsIHJlc3BvbnNlLmhlYWRlcnMuZ2V0KFJBVEVfTElNSVRfU0NPUEVfSEVBREVSKSA9PT0gJ3NoYXJlZCcpXG5cbiAgICAgIC8vIFNldCB0aGUgYnVja2V0IGlkIGlmIGl0IHdhcyBhdmFpbGFibGUgb24gdGhlIGhlYWRlcnNcbiAgICAgIGNvbnN0IGJ1Y2tldElkID0gcmVzdC5wcm9jZXNzSGVhZGVycyhyZXN0LnNpbXBsaWZ5VXJsKG9wdGlvbnMucm91dGUsIG9wdGlvbnMubWV0aG9kKSwgcmVzcG9uc2UuaGVhZGVycywgcGF5bG9hZC5oZWFkZXJzLmF1dGhvcml6YXRpb24pXG5cbiAgICAgIGlmIChidWNrZXRJZCkgb3B0aW9ucy5idWNrZXRJZCA9IGJ1Y2tldElkXG5cbiAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPCBIdHRwUmVzcG9uc2VDb2RlLlN1Y2Nlc3MgfHwgcmVzcG9uc2Uuc3RhdHVzID49IEh0dHBSZXNwb25zZUNvZGUuRXJyb3IpIHtcbiAgICAgICAgcmVzdC5sb2dnZXIuZGVidWcoYFJlcXVlc3QgdG8gJHt1cmx9IGZhaWxlZC5gKVxuXG4gICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgIT09IEh0dHBSZXNwb25zZUNvZGUuVG9vTWFueVJlcXVlc3RzKSB7XG4gICAgICAgICAgb3B0aW9ucy5yZWplY3QoeyBvazogZmFsc2UsIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzLCBib2R5OiBhd2FpdCByZXNwb25zZS50ZXh0KCkgfSlcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIHJlc3QubG9nZ2VyLmRlYnVnKGBSZXF1ZXN0IHRvICR7dXJsfSB3YXMgcmF0ZWxpbWl0ZWQuYClcbiAgICAgICAgLy8gVG9vIG1hbnkgYXR0ZW1wdHMsIGdldCByaWQgb2YgcmVxdWVzdCBmcm9tIHF1ZXVlLlxuICAgICAgICBpZiAob3B0aW9ucy5yZXRyeUNvdW50ID49IHJlc3QubWF4UmV0cnlDb3VudCkge1xuICAgICAgICAgIHJlc3QubG9nZ2VyLmRlYnVnKGBSZXF1ZXN0IHRvICR7dXJsfSBleGNlZWRlZCB0aGUgbWF4aW11bSBhbGxvd2VkIHJldHJpZXMuYCwgJ3dpdGggcGF5bG9hZDonLCBwYXlsb2FkKVxuICAgICAgICAgIC8vIHJlc3QuZGVidWcoYFtSRVNUIC0gUmV0cmllc01heGVkXSAke0pTT04uc3RyaW5naWZ5KG9wdGlvbnMpfWApXG4gICAgICAgICAgb3B0aW9ucy5yZWplY3Qoe1xuICAgICAgICAgICAgb2s6IGZhbHNlLFxuICAgICAgICAgICAgc3RhdHVzOiByZXNwb25zZS5zdGF0dXMsXG4gICAgICAgICAgICBlcnJvcjogJ1RoZSByZXF1ZXN0IHdhcyByYXRlIGxpbWl0ZWQgYW5kIGl0IG1heGVkIG91dCB0aGUgcmV0cmllcyBsaW1pdC4nLFxuICAgICAgICAgIH0pXG5cbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIG9wdGlvbnMucmV0cnlDb3VudCArPSAxXG5cbiAgICAgICAgY29uc3QgcmVzZXRBZnRlciA9IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KFJBVEVfTElNSVRfUkVTRVRfQUZURVJfSEVBREVSKVxuICAgICAgICBpZiAocmVzZXRBZnRlcikgYXdhaXQgZGVsYXkoTnVtYmVyKHJlc2V0QWZ0ZXIpICogMTAwMClcbiAgICAgICAgLy8gcHJvY2VzcyB0aGUgcmVzcG9uc2UgdG8gcHJldmVudCBtZW0gbGVha1xuICAgICAgICBhd2FpdCByZXNwb25zZS5hcnJheUJ1ZmZlcigpXG5cbiAgICAgICAgcmV0dXJuIGF3YWl0IG9wdGlvbnMucmV0cnlSZXF1ZXN0Py4ob3B0aW9ucylcbiAgICAgIH1cblxuICAgICAgLy8gRGlzY29yZCBzb21ldGltZXMgc2VuZHMgbm8gcmVzcG9uc2Ugd2l0aCBubyBjb250ZW50LlxuICAgICAgb3B0aW9ucy5yZXNvbHZlKHsgb2s6IHRydWUsIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzLCBib2R5OiByZXNwb25zZS5zdGF0dXMgPT09IEh0dHBSZXNwb25zZUNvZGUuTm9Db250ZW50ID8gdW5kZWZpbmVkIDogYXdhaXQgcmVzcG9uc2UudGV4dCgpIH0pXG4gICAgfSxcblxuICAgIHNpbXBsaWZ5VXJsKHVybCwgbWV0aG9kKSB7XG4gICAgICBjb25zdCBwYXJ0cyA9IHVybC5zcGxpdCgnLycpXG4gICAgICBjb25zdCBzZWNvbmRMYXN0UGFydCA9IHBhcnRzW3BhcnRzLmxlbmd0aCAtIDJdXG5cbiAgICAgIGlmIChzZWNvbmRMYXN0UGFydCA9PT0gJ2NoYW5uZWxzJyB8fCBzZWNvbmRMYXN0UGFydCA9PT0gJ2d1aWxkcycpIHtcbiAgICAgICAgcmV0dXJuIHVybFxuICAgICAgfVxuXG4gICAgICBpZiAoc2Vjb25kTGFzdFBhcnQgPT09ICdyZWFjdGlvbnMnIHx8IHBhcnRzW3BhcnRzLmxlbmd0aCAtIDFdID09PSAnQG1lJykge1xuICAgICAgICBwYXJ0cy5zcGxpY2UoLTIpXG4gICAgICAgIHBhcnRzLnB1c2goJ3JlYWN0aW9ucycpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXJ0cy5zcGxpY2UoLTEpXG4gICAgICAgIHBhcnRzLnB1c2goJ3gnKVxuICAgICAgfVxuXG4gICAgICBpZiAocGFydHNbcGFydHMubGVuZ3RoIC0gM10gPT09ICdyZWFjdGlvbnMnKSB7XG4gICAgICAgIHBhcnRzLnNwbGljZSgtMilcbiAgICAgIH1cblxuICAgICAgaWYgKG1ldGhvZCA9PT0gJ0RFTEVURScgJiYgc2Vjb25kTGFzdFBhcnQgPT09ICdtZXNzYWdlcycpIHtcbiAgICAgICAgcmV0dXJuIGBEJHtwYXJ0cy5qb2luKCcvJyl9YFxuICAgICAgfVxuXG4gICAgICByZXR1cm4gcGFydHMuam9pbignLycpXG4gICAgfSxcblxuICAgIGFzeW5jIHByb2Nlc3NSZXF1ZXN0KHJlcXVlc3Q6IFNlbmRSZXF1ZXN0T3B0aW9ucykge1xuICAgICAgY29uc3QgdXJsID0gcmVzdC5zaW1wbGlmeVVybChyZXF1ZXN0LnJvdXRlLCByZXF1ZXN0Lm1ldGhvZClcblxuICAgICAgaWYgKHJlcXVlc3QucnVuVGhyb3VnaFF1ZXVlID09PSBmYWxzZSkge1xuICAgICAgICBhd2FpdCByZXN0LnNlbmRSZXF1ZXN0KHJlcXVlc3QpXG5cbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIC8vIElmIHdlIHRoZSByZXF1ZXN0IGhhcyBhIHRva2VuLCB1c2UgaXRcbiAgICAgIC8vIEVsc2UgZmFsbGJhY2sgdG8gcHJlZml4IHdpdGggdGhlIGJvdCB0b2tlblxuICAgICAgY29uc3QgcXVldWVJZGVudGlmaWVyID0gcmVxdWVzdC5yZXF1ZXN0Qm9keU9wdGlvbnM/LmhlYWRlcnM/LmF1dGhvcml6YXRpb24gPz8gYEJvdCAke3Jlc3QudG9rZW59YFxuXG4gICAgICBjb25zdCBxdWV1ZSA9IHJlc3QucXVldWVzLmdldChgJHtxdWV1ZUlkZW50aWZpZXJ9JHt1cmx9YClcblxuICAgICAgaWYgKHF1ZXVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcXVldWUubWFrZVJlcXVlc3QocmVxdWVzdClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIENSRUFURVMgQSBORVcgUVVFVUVcbiAgICAgICAgY29uc3QgYnVja2V0UXVldWUgPSBuZXcgUXVldWUocmVzdCwgeyB1cmwsIGRlbGV0ZVF1ZXVlRGVsYXk6IHJlc3QuZGVsZXRlUXVldWVEZWxheSwgaWRlbnRpZmllcjogcXVldWVJZGVudGlmaWVyIH0pXG5cbiAgICAgICAgLy8gU2F2ZSBxdWV1ZVxuICAgICAgICByZXN0LnF1ZXVlcy5zZXQoYCR7cXVldWVJZGVudGlmaWVyfSR7dXJsfWAsIGJ1Y2tldFF1ZXVlKVxuXG4gICAgICAgIC8vIEFkZCByZXF1ZXN0IHRvIHF1ZXVlXG4gICAgICAgIGJ1Y2tldFF1ZXVlLm1ha2VSZXF1ZXN0KHJlcXVlc3QpXG4gICAgICB9XG4gICAgfSxcblxuICAgIGFzeW5jIG1ha2VSZXF1ZXN0KG1ldGhvZCwgcm91dGUsIG9wdGlvbnMpIHtcbiAgICAgIC8vIFRoaXMgZXJyb3IgbmVlZHMgdG8gYmUgY3JlYXRlZCBoZXJlIGJlY2F1c2Ugb2YgaG93IHN0YWNrIHRyYWNlcyBnZXQgY2FsY3VsYXRlZFxuICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoKVxuICAgICAgZXJyb3IubWVzc2FnZSA9ICdGYWlsZWQgdG8gc2VuZCByZXF1ZXN0IHRvIGRpc2NvcmQuJ1xuXG4gICAgICBpZiAocmVzdC5pc1Byb3hpZWQpIHtcbiAgICAgICAgaWYgKHJlc3QuYXV0aG9yaXphdGlvbikge1xuICAgICAgICAgIG9wdGlvbnMgPz89IHt9XG4gICAgICAgICAgb3B0aW9ucy5oZWFkZXJzID8/PSB7fVxuICAgICAgICAgIG9wdGlvbnMuaGVhZGVyc1tyZXN0LmF1dGhvcml6YXRpb25IZWFkZXJdID0gcmVzdC5hdXRob3JpemF0aW9uXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBmZXRjaChgJHtyZXN0LmJhc2VVcmx9L3Yke3Jlc3QudmVyc2lvbn0ke3JvdXRlfWAsIHJlc3QuY3JlYXRlUmVxdWVzdEJvZHkobWV0aG9kLCBvcHRpb25zKSlcblxuICAgICAgICBpZiAoIXJlc3VsdC5vaykge1xuICAgICAgICAgIGNvbnN0IGVyclRleHQgPSBhd2FpdCByZXN1bHQudGV4dCgpLmNhdGNoKCgpID0+IG51bGwpXG5cbiAgICAgICAgICBpZiAoZXJyVGV4dCkge1xuICAgICAgICAgICAgZXJyb3IuY2F1c2UgPSB7XG4gICAgICAgICAgICAgIG9rOiBmYWxzZSxcbiAgICAgICAgICAgICAgc3RhdHVzOiByZXN1bHQuc3RhdHVzLFxuICAgICAgICAgICAgICBib2R5OiBlcnJUZXh0LFxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aHJvdyBlcnJvclxuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IGVyciA9IChhd2FpdCByZXN1bHQuanNvbigpLmNhdGNoKCgpID0+IHt9KSkgYXMgUmVjb3JkPHN0cmluZywgYW55PlxuICAgICAgICAgIC8vIExlZ2FjeSBIYW5kbGluZyB0byBub3QgYnJlYWsgb2xkIGNvZGUgb3Igd2hlbiBib2R5IGlzIG1pc3NpbmdcbiAgICAgICAgICBpZiAoIWVycj8uYm9keSkgdGhyb3cgbmV3IEVycm9yKGBFcnJvcjogJHtlcnIubWVzc2FnZSA/PyByZXN1bHQuc3RhdHVzVGV4dH1gKVxuXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKEpTT04uc3RyaW5naWZ5KGVycikpXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0LnN0YXR1cyAhPT0gMjA0ID8gYXdhaXQgcmVzdWx0Lmpzb24oKSA6IHVuZGVmaW5lZFxuICAgICAgfVxuXG4gICAgICByZXR1cm4gYXdhaXQgbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBjb25zdCBwYXlsb2FkOiBTZW5kUmVxdWVzdE9wdGlvbnMgPSB7XG4gICAgICAgICAgcm91dGUsXG4gICAgICAgICAgbWV0aG9kLFxuICAgICAgICAgIHJlcXVlc3RCb2R5T3B0aW9uczogb3B0aW9ucyxcbiAgICAgICAgICByZXRyeUNvdW50OiAwLFxuICAgICAgICAgIHJldHJ5UmVxdWVzdDogYXN5bmMgKHBheWxvYWQ6IFNlbmRSZXF1ZXN0T3B0aW9ucykgPT4ge1xuICAgICAgICAgICAgYXdhaXQgcmVzdC5wcm9jZXNzUmVxdWVzdChwYXlsb2FkKVxuICAgICAgICAgIH0sXG4gICAgICAgICAgcmVzb2x2ZTogKGRhdGEpID0+IHtcbiAgICAgICAgICAgIHJlc29sdmUoZGF0YS5zdGF0dXMgIT09IDIwNCA/IEpTT04ucGFyc2UoZGF0YS5ib2R5ID8/ICd7fScpIDogdW5kZWZpbmVkKVxuICAgICAgICAgIH0sXG4gICAgICAgICAgcmVqZWN0OiAocmVhc29uKSA9PiB7XG4gICAgICAgICAgICBlcnJvci5jYXVzZSA9IHJlYXNvblxuICAgICAgICAgICAgcmVqZWN0KGVycm9yKVxuICAgICAgICAgIH0sXG4gICAgICAgICAgcnVuVGhyb3VnaFF1ZXVlOiBvcHRpb25zPy5ydW5UaHJvdWdoUXVldWUsXG4gICAgICAgIH1cblxuICAgICAgICBhd2FpdCByZXN0LnByb2Nlc3NSZXF1ZXN0KHBheWxvYWQpXG4gICAgICB9KVxuICAgIH0sXG5cbiAgICBhc3luYyBnZXQ8VCA9IFJlY29yZDxzdHJpbmcsIHVua25vd24+Pih1cmw6IHN0cmluZywgb3B0aW9ucz86IE9taXQ8Q3JlYXRlUmVxdWVzdEJvZHlPcHRpb25zLCAnYm9keScgfCAnbWV0aG9kJz4pIHtcbiAgICAgIHJldHVybiBjYW1lbGl6ZShhd2FpdCByZXN0Lm1ha2VSZXF1ZXN0KCdHRVQnLCB1cmwsIG9wdGlvbnMpKSBhcyBDYW1lbGl6ZTxUPlxuICAgIH0sXG5cbiAgICBhc3luYyBwb3N0PFQgPSBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPj4odXJsOiBzdHJpbmcsIG9wdGlvbnM/OiBPbWl0PENyZWF0ZVJlcXVlc3RCb2R5T3B0aW9ucywgJ2JvZHknIHwgJ21ldGhvZCc+KSB7XG4gICAgICByZXR1cm4gY2FtZWxpemUoYXdhaXQgcmVzdC5tYWtlUmVxdWVzdCgnUE9TVCcsIHVybCwgb3B0aW9ucykpIGFzIENhbWVsaXplPFQ+XG4gICAgfSxcblxuICAgIGFzeW5jIGRlbGV0ZSh1cmw6IHN0cmluZywgb3B0aW9ucz86IE9taXQ8Q3JlYXRlUmVxdWVzdEJvZHlPcHRpb25zLCAnYm9keScgfCAnbWV0aG9kJz4pIHtcbiAgICAgIGNhbWVsaXplKGF3YWl0IHJlc3QubWFrZVJlcXVlc3QoJ0RFTEVURScsIHVybCwgb3B0aW9ucykpXG4gICAgfSxcblxuICAgIGFzeW5jIHBhdGNoPFQgPSBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPj4odXJsOiBzdHJpbmcsIG9wdGlvbnM/OiBPbWl0PENyZWF0ZVJlcXVlc3RCb2R5T3B0aW9ucywgJ2JvZHknIHwgJ21ldGhvZCc+KSB7XG4gICAgICByZXR1cm4gY2FtZWxpemUoYXdhaXQgcmVzdC5tYWtlUmVxdWVzdCgnUEFUQ0gnLCB1cmwsIG9wdGlvbnMpKSBhcyBDYW1lbGl6ZTxUPlxuICAgIH0sXG5cbiAgICBhc3luYyBwdXQ8VCA9IHZvaWQ+KHVybDogc3RyaW5nLCBvcHRpb25zPzogT21pdDxDcmVhdGVSZXF1ZXN0Qm9keU9wdGlvbnMsICdib2R5JyB8ICdtZXRob2QnPikge1xuICAgICAgcmV0dXJuIGNhbWVsaXplKGF3YWl0IHJlc3QubWFrZVJlcXVlc3QoJ1BVVCcsIHVybCwgb3B0aW9ucykpIGFzIENhbWVsaXplPFQ+XG4gICAgfSxcblxuICAgIGFzeW5jIGFkZFJlYWN0aW9uKGNoYW5uZWxJZCwgbWVzc2FnZUlkLCByZWFjdGlvbikge1xuICAgICAgcmVhY3Rpb24gPSBwcm9jZXNzUmVhY3Rpb25TdHJpbmcocmVhY3Rpb24pXG5cbiAgICAgIGF3YWl0IHJlc3QucHV0KHJlc3Qucm91dGVzLmNoYW5uZWxzLnJlYWN0aW9ucy5ib3QoY2hhbm5lbElkLCBtZXNzYWdlSWQsIHJlYWN0aW9uKSlcbiAgICB9LFxuXG4gICAgYXN5bmMgYWRkUmVhY3Rpb25zKGNoYW5uZWxJZCwgbWVzc2FnZUlkLCByZWFjdGlvbnMsIG9yZGVyZWQgPSBmYWxzZSkge1xuICAgICAgaWYgKCFvcmRlcmVkKSB7XG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgICAgIHJlYWN0aW9ucy5tYXAoYXN5bmMgKHJlYWN0aW9uKSA9PiB7XG4gICAgICAgICAgICBhd2FpdCByZXN0LmFkZFJlYWN0aW9uKGNoYW5uZWxJZCwgbWVzc2FnZUlkLCByZWFjdGlvbilcbiAgICAgICAgICB9KSxcbiAgICAgICAgKVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgZm9yIChjb25zdCByZWFjdGlvbiBvZiByZWFjdGlvbnMpIHtcbiAgICAgICAgYXdhaXQgcmVzdC5hZGRSZWFjdGlvbihjaGFubmVsSWQsIG1lc3NhZ2VJZCwgcmVhY3Rpb24pXG4gICAgICB9XG4gICAgfSxcblxuICAgIGFzeW5jIGFkZFJvbGUoZ3VpbGRJZCwgdXNlcklkLCByb2xlSWQsIHJlYXNvbikge1xuICAgICAgYXdhaXQgcmVzdC5wdXQocmVzdC5yb3V0ZXMuZ3VpbGRzLnJvbGVzLm1lbWJlcihndWlsZElkLCB1c2VySWQsIHJvbGVJZCksIHsgcmVhc29uIH0pXG4gICAgfSxcblxuICAgIGFzeW5jIGFkZFRocmVhZE1lbWJlcihjaGFubmVsSWQsIHVzZXJJZCkge1xuICAgICAgYXdhaXQgcmVzdC5wdXQocmVzdC5yb3V0ZXMuY2hhbm5lbHMudGhyZWFkcy51c2VyKGNoYW5uZWxJZCwgdXNlcklkKSlcbiAgICB9LFxuXG4gICAgYXN5bmMgYWRkRG1SZWNpcGllbnQoY2hhbm5lbElkLCB1c2VySWQsIGJvZHkpIHtcbiAgICAgIGF3YWl0IHJlc3QucHV0KHJlc3Qucm91dGVzLmNoYW5uZWxzLmRtUmVjaXBpZW50KGNoYW5uZWxJZCwgdXNlcklkKSwgeyBib2R5IH0pXG4gICAgfSxcblxuICAgIGFzeW5jIGNyZWF0ZUF1dG9tb2RSdWxlKGd1aWxkSWQsIGJvZHksIHJlYXNvbikge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QucG9zdDxEaXNjb3JkQXV0b01vZGVyYXRpb25SdWxlPihyZXN0LnJvdXRlcy5ndWlsZHMuYXV0b21vZC5ydWxlcyhndWlsZElkKSwgeyBib2R5LCByZWFzb24gfSlcbiAgICB9LFxuXG4gICAgYXN5bmMgY3JlYXRlQ2hhbm5lbChndWlsZElkLCBib2R5LCByZWFzb24pIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LnBvc3Q8RGlzY29yZENoYW5uZWw+KHJlc3Qucm91dGVzLmd1aWxkcy5jaGFubmVscyhndWlsZElkKSwgeyBib2R5LCByZWFzb24gfSlcbiAgICB9LFxuXG4gICAgYXN5bmMgY3JlYXRlRW1vamkoZ3VpbGRJZCwgYm9keSwgcmVhc29uKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5wb3N0PERpc2NvcmRFbW9qaT4ocmVzdC5yb3V0ZXMuZ3VpbGRzLmVtb2ppcyhndWlsZElkKSwgeyBib2R5LCByZWFzb24gfSlcbiAgICB9LFxuXG4gICAgYXN5bmMgY3JlYXRlQXBwbGljYXRpb25FbW9qaShib2R5KSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5wb3N0PERpc2NvcmRFbW9qaT4ocmVzdC5yb3V0ZXMuYXBwbGljYXRpb25FbW9qaXMocmVzdC5hcHBsaWNhdGlvbklkKSwgeyBib2R5IH0pXG4gICAgfSxcblxuICAgIGFzeW5jIGNyZWF0ZUdsb2JhbEFwcGxpY2F0aW9uQ29tbWFuZChib2R5LCBvcHRpb25zKSB7XG4gICAgICBjb25zdCByZXN0T3B0aW9uczogTWFrZVJlcXVlc3RPcHRpb25zID0geyBib2R5IH1cblxuICAgICAgaWYgKG9wdGlvbnM/LmJlYXJlclRva2VuKSB7XG4gICAgICAgIHJlc3RPcHRpb25zLnVuYXV0aG9yaXplZCA9IHRydWVcbiAgICAgICAgcmVzdE9wdGlvbnMuaGVhZGVycyA9IHtcbiAgICAgICAgICBhdXRob3JpemF0aW9uOiBgQmVhcmVyICR7b3B0aW9ucy5iZWFyZXJUb2tlbn1gLFxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBhd2FpdCByZXN0LnBvc3Q8RGlzY29yZEFwcGxpY2F0aW9uQ29tbWFuZD4ocmVzdC5yb3V0ZXMuaW50ZXJhY3Rpb25zLmNvbW1hbmRzLmNvbW1hbmRzKHJlc3QuYXBwbGljYXRpb25JZCksIHJlc3RPcHRpb25zKVxuICAgIH0sXG5cbiAgICBhc3luYyBjcmVhdGVHdWlsZChib2R5KSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5wb3N0PERpc2NvcmRHdWlsZD4ocmVzdC5yb3V0ZXMuZ3VpbGRzLmFsbCgpLCB7IGJvZHkgfSlcbiAgICB9LFxuXG4gICAgYXN5bmMgY3JlYXRlR3VpbGRBcHBsaWNhdGlvbkNvbW1hbmQoYm9keSwgZ3VpbGRJZCwgb3B0aW9ucykge1xuICAgICAgY29uc3QgcmVzdE9wdGlvbnM6IE1ha2VSZXF1ZXN0T3B0aW9ucyA9IHsgYm9keSB9XG5cbiAgICAgIGlmIChvcHRpb25zPy5iZWFyZXJUb2tlbikge1xuICAgICAgICByZXN0T3B0aW9ucy51bmF1dGhvcml6ZWQgPSB0cnVlXG4gICAgICAgIHJlc3RPcHRpb25zLmhlYWRlcnMgPSB7XG4gICAgICAgICAgYXV0aG9yaXphdGlvbjogYEJlYXJlciAke29wdGlvbnMuYmVhcmVyVG9rZW59YCxcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5wb3N0PERpc2NvcmRBcHBsaWNhdGlvbkNvbW1hbmQ+KHJlc3Qucm91dGVzLmludGVyYWN0aW9ucy5jb21tYW5kcy5ndWlsZHMuYWxsKHJlc3QuYXBwbGljYXRpb25JZCwgZ3VpbGRJZCksIHJlc3RPcHRpb25zKVxuICAgIH0sXG5cbiAgICBhc3luYyBjcmVhdGVHdWlsZEZyb21UZW1wbGF0ZSh0ZW1wbGF0ZUNvZGUsIGJvZHkpIHtcbiAgICAgIGlmIChib2R5Lmljb24pIHtcbiAgICAgICAgYm9keS5pY29uID0gYXdhaXQgdXJsVG9CYXNlNjQoYm9keS5pY29uKVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5wb3N0PERpc2NvcmRHdWlsZD4ocmVzdC5yb3V0ZXMuZ3VpbGRzLnRlbXBsYXRlcy5jb2RlKHRlbXBsYXRlQ29kZSksIHsgYm9keSB9KVxuICAgIH0sXG5cbiAgICBhc3luYyBjcmVhdGVHdWlsZFN0aWNrZXIoZ3VpbGRJZCwgb3B0aW9ucywgcmVhc29uKSB7XG4gICAgICBjb25zdCBmb3JtID0gbmV3IEZvcm1EYXRhKClcbiAgICAgIGZvcm0uYXBwZW5kKCdmaWxlJywgb3B0aW9ucy5maWxlLmJsb2IsIG9wdGlvbnMuZmlsZS5uYW1lKVxuICAgICAgZm9ybS5hcHBlbmQoJ25hbWUnLCBvcHRpb25zLm5hbWUpXG4gICAgICBmb3JtLmFwcGVuZCgnZGVzY3JpcHRpb24nLCBvcHRpb25zLmRlc2NyaXB0aW9uKVxuICAgICAgZm9ybS5hcHBlbmQoJ3RhZ3MnLCBvcHRpb25zLnRhZ3MpXG5cbiAgICAgIHJldHVybiBhd2FpdCByZXN0LnBvc3Q8RGlzY29yZFN0aWNrZXI+KHJlc3Qucm91dGVzLmd1aWxkcy5zdGlja2VycyhndWlsZElkKSwgeyBib2R5OiBmb3JtLCByZWFzb24gfSlcbiAgICB9LFxuXG4gICAgYXN5bmMgY3JlYXRlR3VpbGRUZW1wbGF0ZShndWlsZElkLCBib2R5KSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5wb3N0PERpc2NvcmRUZW1wbGF0ZT4ocmVzdC5yb3V0ZXMuZ3VpbGRzLnRlbXBsYXRlcy5hbGwoZ3VpbGRJZCksIHsgYm9keSB9KVxuICAgIH0sXG5cbiAgICBhc3luYyBjcmVhdGVGb3J1bVRocmVhZChjaGFubmVsSWQsIGJvZHksIHJlYXNvbikge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QucG9zdDxEaXNjb3JkQ2hhbm5lbD4ocmVzdC5yb3V0ZXMuY2hhbm5lbHMuZm9ydW0oY2hhbm5lbElkKSwgeyBib2R5LCBmaWxlczogYm9keS5maWxlcywgcmVhc29uIH0pXG4gICAgfSxcblxuICAgIGFzeW5jIGNyZWF0ZUludml0ZShjaGFubmVsSWQsIGJvZHkgPSB7fSwgcmVhc29uKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5wb3N0PERpc2NvcmRJbnZpdGU+KHJlc3Qucm91dGVzLmNoYW5uZWxzLmludml0ZXMoY2hhbm5lbElkKSwgeyBib2R5LCByZWFzb24gfSlcbiAgICB9LFxuXG4gICAgYXN5bmMgY3JlYXRlUm9sZShndWlsZElkLCBib2R5LCByZWFzb24pIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LnBvc3Q8RGlzY29yZFJvbGU+KHJlc3Qucm91dGVzLmd1aWxkcy5yb2xlcy5hbGwoZ3VpbGRJZCksIHsgYm9keSwgcmVhc29uIH0pXG4gICAgfSxcblxuICAgIGFzeW5jIGNyZWF0ZVNjaGVkdWxlZEV2ZW50KGd1aWxkSWQsIGJvZHksIHJlYXNvbikge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QucG9zdDxEaXNjb3JkU2NoZWR1bGVkRXZlbnQ+KHJlc3Qucm91dGVzLmd1aWxkcy5ldmVudHMuZXZlbnRzKGd1aWxkSWQpLCB7IGJvZHksIHJlYXNvbiB9KVxuICAgIH0sXG5cbiAgICBhc3luYyBjcmVhdGVTdGFnZUluc3RhbmNlKGJvZHksIHJlYXNvbikge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QucG9zdDxEaXNjb3JkU3RhZ2VJbnN0YW5jZT4ocmVzdC5yb3V0ZXMuY2hhbm5lbHMuc3RhZ2VzKCksIHsgYm9keSwgcmVhc29uIH0pXG4gICAgfSxcblxuICAgIGFzeW5jIGNyZWF0ZVdlYmhvb2soY2hhbm5lbElkLCBvcHRpb25zLCByZWFzb24pIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LnBvc3Q8RGlzY29yZFdlYmhvb2s+KHJlc3Qucm91dGVzLmNoYW5uZWxzLndlYmhvb2tzKGNoYW5uZWxJZCksIHtcbiAgICAgICAgYm9keToge1xuICAgICAgICAgIG5hbWU6IG9wdGlvbnMubmFtZSxcbiAgICAgICAgICBhdmF0YXI6IG9wdGlvbnMuYXZhdGFyID8gYXdhaXQgdXJsVG9CYXNlNjQob3B0aW9ucy5hdmF0YXIpIDogdW5kZWZpbmVkLFxuICAgICAgICB9LFxuICAgICAgICByZWFzb24sXG4gICAgICB9KVxuICAgIH0sXG5cbiAgICBhc3luYyBkZWxldGVBdXRvbW9kUnVsZShndWlsZElkLCBydWxlSWQsIHJlYXNvbikge1xuICAgICAgYXdhaXQgcmVzdC5kZWxldGUocmVzdC5yb3V0ZXMuZ3VpbGRzLmF1dG9tb2QucnVsZShndWlsZElkLCBydWxlSWQpLCB7IHJlYXNvbiB9KVxuICAgIH0sXG5cbiAgICBhc3luYyBkZWxldGVDaGFubmVsKGNoYW5uZWxJZCwgcmVhc29uKSB7XG4gICAgICBhd2FpdCByZXN0LmRlbGV0ZShyZXN0LnJvdXRlcy5jaGFubmVscy5jaGFubmVsKGNoYW5uZWxJZCksIHtcbiAgICAgICAgcmVhc29uLFxuICAgICAgfSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZGVsZXRlQ2hhbm5lbFBlcm1pc3Npb25PdmVycmlkZShjaGFubmVsSWQsIG92ZXJ3cml0ZUlkLCByZWFzb24pIHtcbiAgICAgIGF3YWl0IHJlc3QuZGVsZXRlKHJlc3Qucm91dGVzLmNoYW5uZWxzLm92ZXJ3cml0ZShjaGFubmVsSWQsIG92ZXJ3cml0ZUlkKSwgeyByZWFzb24gfSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZGVsZXRlRW1vamkoZ3VpbGRJZCwgaWQsIHJlYXNvbikge1xuICAgICAgYXdhaXQgcmVzdC5kZWxldGUocmVzdC5yb3V0ZXMuZ3VpbGRzLmVtb2ppKGd1aWxkSWQsIGlkKSwgeyByZWFzb24gfSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZGVsZXRlQXBwbGljYXRpb25FbW9qaShpZCkge1xuICAgICAgYXdhaXQgcmVzdC5kZWxldGUocmVzdC5yb3V0ZXMuYXBwbGljYXRpb25FbW9qaShyZXN0LmFwcGxpY2F0aW9uSWQsIGlkKSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZGVsZXRlRm9sbG93dXBNZXNzYWdlKHRva2VuLCBtZXNzYWdlSWQpIHtcbiAgICAgIGF3YWl0IHJlc3QuZGVsZXRlKHJlc3Qucm91dGVzLmludGVyYWN0aW9ucy5yZXNwb25zZXMubWVzc2FnZShyZXN0LmFwcGxpY2F0aW9uSWQsIHRva2VuLCBtZXNzYWdlSWQpLCB7IHVuYXV0aG9yaXplZDogdHJ1ZSB9KVxuICAgIH0sXG5cbiAgICBhc3luYyBkZWxldGVHbG9iYWxBcHBsaWNhdGlvbkNvbW1hbmQoY29tbWFuZElkKSB7XG4gICAgICBhd2FpdCByZXN0LmRlbGV0ZShyZXN0LnJvdXRlcy5pbnRlcmFjdGlvbnMuY29tbWFuZHMuY29tbWFuZChyZXN0LmFwcGxpY2F0aW9uSWQsIGNvbW1hbmRJZCkpXG4gICAgfSxcblxuICAgIGFzeW5jIGRlbGV0ZUd1aWxkKGd1aWxkSWQpIHtcbiAgICAgIGF3YWl0IHJlc3QuZGVsZXRlKHJlc3Qucm91dGVzLmd1aWxkcy5ndWlsZChndWlsZElkKSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZGVsZXRlR3VpbGRBcHBsaWNhdGlvbkNvbW1hbmQoY29tbWFuZElkLCBndWlsZElkKSB7XG4gICAgICBhd2FpdCByZXN0LmRlbGV0ZShyZXN0LnJvdXRlcy5pbnRlcmFjdGlvbnMuY29tbWFuZHMuZ3VpbGRzLm9uZShyZXN0LmFwcGxpY2F0aW9uSWQsIGd1aWxkSWQsIGNvbW1hbmRJZCkpXG4gICAgfSxcblxuICAgIGFzeW5jIGRlbGV0ZUd1aWxkU3RpY2tlcihndWlsZElkLCBzdGlja2VySWQsIHJlYXNvbikge1xuICAgICAgYXdhaXQgcmVzdC5kZWxldGUocmVzdC5yb3V0ZXMuZ3VpbGRzLnN0aWNrZXIoZ3VpbGRJZCwgc3RpY2tlcklkKSwgeyByZWFzb24gfSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZGVsZXRlR3VpbGRUZW1wbGF0ZShndWlsZElkLCB0ZW1wbGF0ZUNvZGUpIHtcbiAgICAgIGF3YWl0IHJlc3QuZGVsZXRlKHJlc3Qucm91dGVzLmd1aWxkcy50ZW1wbGF0ZXMuZ3VpbGQoZ3VpbGRJZCwgdGVtcGxhdGVDb2RlKSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZGVsZXRlSW50ZWdyYXRpb24oZ3VpbGRJZCwgaW50ZWdyYXRpb25JZCwgcmVhc29uKSB7XG4gICAgICBhd2FpdCByZXN0LmRlbGV0ZShyZXN0LnJvdXRlcy5ndWlsZHMuaW50ZWdyYXRpb24oZ3VpbGRJZCwgaW50ZWdyYXRpb25JZCksIHsgcmVhc29uIH0pXG4gICAgfSxcblxuICAgIGFzeW5jIGRlbGV0ZUludml0ZShpbnZpdGVDb2RlLCByZWFzb24pIHtcbiAgICAgIGF3YWl0IHJlc3QuZGVsZXRlKHJlc3Qucm91dGVzLmd1aWxkcy5pbnZpdGUoaW52aXRlQ29kZSksIHsgcmVhc29uIH0pXG4gICAgfSxcblxuICAgIGFzeW5jIGRlbGV0ZU1lc3NhZ2UoY2hhbm5lbElkLCBtZXNzYWdlSWQsIHJlYXNvbikge1xuICAgICAgYXdhaXQgcmVzdC5kZWxldGUocmVzdC5yb3V0ZXMuY2hhbm5lbHMubWVzc2FnZShjaGFubmVsSWQsIG1lc3NhZ2VJZCksIHsgcmVhc29uIH0pXG4gICAgfSxcblxuICAgIGFzeW5jIGRlbGV0ZU1lc3NhZ2VzKGNoYW5uZWxJZCwgbWVzc2FnZUlkcywgcmVhc29uKSB7XG4gICAgICBhd2FpdCByZXN0LnBvc3QocmVzdC5yb3V0ZXMuY2hhbm5lbHMuYnVsayhjaGFubmVsSWQpLCB7XG4gICAgICAgIGJvZHk6IHtcbiAgICAgICAgICBtZXNzYWdlczogbWVzc2FnZUlkcy5zbGljZSgwLCAxMDApLm1hcCgoaWQpID0+IGlkLnRvU3RyaW5nKCkpLFxuICAgICAgICB9LFxuICAgICAgICByZWFzb24sXG4gICAgICB9KVxuICAgIH0sXG5cbiAgICBhc3luYyBkZWxldGVPcmlnaW5hbEludGVyYWN0aW9uUmVzcG9uc2UodG9rZW4pIHtcbiAgICAgIGF3YWl0IHJlc3QuZGVsZXRlKHJlc3Qucm91dGVzLmludGVyYWN0aW9ucy5yZXNwb25zZXMub3JpZ2luYWwocmVzdC5hcHBsaWNhdGlvbklkLCB0b2tlbiksIHsgdW5hdXRob3JpemVkOiB0cnVlIH0pXG4gICAgfSxcblxuICAgIGFzeW5jIGRlbGV0ZU93blJlYWN0aW9uKGNoYW5uZWxJZCwgbWVzc2FnZUlkLCByZWFjdGlvbikge1xuICAgICAgcmVhY3Rpb24gPSBwcm9jZXNzUmVhY3Rpb25TdHJpbmcocmVhY3Rpb24pXG5cbiAgICAgIGF3YWl0IHJlc3QuZGVsZXRlKHJlc3Qucm91dGVzLmNoYW5uZWxzLnJlYWN0aW9ucy5ib3QoY2hhbm5lbElkLCBtZXNzYWdlSWQsIHJlYWN0aW9uKSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZGVsZXRlUmVhY3Rpb25zQWxsKGNoYW5uZWxJZCwgbWVzc2FnZUlkKSB7XG4gICAgICBhd2FpdCByZXN0LmRlbGV0ZShyZXN0LnJvdXRlcy5jaGFubmVscy5yZWFjdGlvbnMuYWxsKGNoYW5uZWxJZCwgbWVzc2FnZUlkKSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZGVsZXRlUmVhY3Rpb25zRW1vamkoY2hhbm5lbElkLCBtZXNzYWdlSWQsIHJlYWN0aW9uKSB7XG4gICAgICByZWFjdGlvbiA9IHByb2Nlc3NSZWFjdGlvblN0cmluZyhyZWFjdGlvbilcblxuICAgICAgYXdhaXQgcmVzdC5kZWxldGUocmVzdC5yb3V0ZXMuY2hhbm5lbHMucmVhY3Rpb25zLmVtb2ppKGNoYW5uZWxJZCwgbWVzc2FnZUlkLCByZWFjdGlvbikpXG4gICAgfSxcblxuICAgIGFzeW5jIGRlbGV0ZVJvbGUoZ3VpbGRJZCwgcm9sZUlkLCByZWFzb24pIHtcbiAgICAgIGF3YWl0IHJlc3QuZGVsZXRlKHJlc3Qucm91dGVzLmd1aWxkcy5yb2xlcy5vbmUoZ3VpbGRJZCwgcm9sZUlkKSwgeyByZWFzb24gfSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZGVsZXRlU2NoZWR1bGVkRXZlbnQoZ3VpbGRJZCwgZXZlbnRJZCkge1xuICAgICAgYXdhaXQgcmVzdC5kZWxldGUocmVzdC5yb3V0ZXMuZ3VpbGRzLmV2ZW50cy5ldmVudChndWlsZElkLCBldmVudElkKSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZGVsZXRlU3RhZ2VJbnN0YW5jZShjaGFubmVsSWQsIHJlYXNvbikge1xuICAgICAgYXdhaXQgcmVzdC5kZWxldGUocmVzdC5yb3V0ZXMuY2hhbm5lbHMuc3RhZ2UoY2hhbm5lbElkKSwgeyByZWFzb24gfSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZGVsZXRlVXNlclJlYWN0aW9uKGNoYW5uZWxJZCwgbWVzc2FnZUlkLCB1c2VySWQsIHJlYWN0aW9uKSB7XG4gICAgICByZWFjdGlvbiA9IHByb2Nlc3NSZWFjdGlvblN0cmluZyhyZWFjdGlvbilcblxuICAgICAgYXdhaXQgcmVzdC5kZWxldGUocmVzdC5yb3V0ZXMuY2hhbm5lbHMucmVhY3Rpb25zLnVzZXIoY2hhbm5lbElkLCBtZXNzYWdlSWQsIHJlYWN0aW9uLCB1c2VySWQpKVxuICAgIH0sXG5cbiAgICBhc3luYyBkZWxldGVXZWJob29rKHdlYmhvb2tJZCwgcmVhc29uKSB7XG4gICAgICBhd2FpdCByZXN0LmRlbGV0ZShyZXN0LnJvdXRlcy53ZWJob29rcy5pZCh3ZWJob29rSWQpLCB7IHJlYXNvbiB9KVxuICAgIH0sXG5cbiAgICBhc3luYyBkZWxldGVXZWJob29rTWVzc2FnZSh3ZWJob29rSWQsIHRva2VuLCBtZXNzYWdlSWQsIG9wdGlvbnMpIHtcbiAgICAgIGF3YWl0IHJlc3QuZGVsZXRlKHJlc3Qucm91dGVzLndlYmhvb2tzLm1lc3NhZ2Uod2ViaG9va0lkLCB0b2tlbiwgbWVzc2FnZUlkLCBvcHRpb25zKSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZGVsZXRlV2ViaG9va1dpdGhUb2tlbih3ZWJob29rSWQsIHRva2VuKSB7XG4gICAgICBhd2FpdCByZXN0LmRlbGV0ZShyZXN0LnJvdXRlcy53ZWJob29rcy53ZWJob29rKHdlYmhvb2tJZCwgdG9rZW4pLCB7XG4gICAgICAgIHVuYXV0aG9yaXplZDogdHJ1ZSxcbiAgICAgIH0pXG4gICAgfSxcblxuICAgIGFzeW5jIGVkaXRBcHBsaWNhdGlvbkNvbW1hbmRQZXJtaXNzaW9ucyhndWlsZElkLCBjb21tYW5kSWQsIGJlYXJlclRva2VuLCBwZXJtaXNzaW9ucykge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QucHV0PERpc2NvcmRHdWlsZEFwcGxpY2F0aW9uQ29tbWFuZFBlcm1pc3Npb25zPihcbiAgICAgICAgcmVzdC5yb3V0ZXMuaW50ZXJhY3Rpb25zLmNvbW1hbmRzLnBlcm1pc3Npb24ocmVzdC5hcHBsaWNhdGlvbklkLCBndWlsZElkLCBjb21tYW5kSWQpLFxuICAgICAgICB7XG4gICAgICAgICAgYm9keToge1xuICAgICAgICAgICAgcGVybWlzc2lvbnMsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBoZWFkZXJzOiB7IGF1dGhvcml6YXRpb246IGBCZWFyZXIgJHtiZWFyZXJUb2tlbn1gIH0sXG4gICAgICAgIH0sXG4gICAgICApXG4gICAgfSxcblxuICAgIGFzeW5jIGVkaXRBdXRvbW9kUnVsZShndWlsZElkLCBydWxlSWQsIGJvZHksIHJlYXNvbikge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QucGF0Y2g8RGlzY29yZEF1dG9Nb2RlcmF0aW9uUnVsZT4ocmVzdC5yb3V0ZXMuZ3VpbGRzLmF1dG9tb2QucnVsZShndWlsZElkLCBydWxlSWQpLCB7IGJvZHksIHJlYXNvbiB9KVxuICAgIH0sXG5cbiAgICBhc3luYyBlZGl0Qm90UHJvZmlsZShvcHRpb25zKSB7XG4gICAgICBjb25zdCBhdmF0YXIgPSBvcHRpb25zPy5ib3RBdmF0YXJVUkwgPyBhd2FpdCB1cmxUb0Jhc2U2NChvcHRpb25zPy5ib3RBdmF0YXJVUkwpIDogb3B0aW9ucz8uYm90QXZhdGFyVVJMXG4gICAgICBjb25zdCBiYW5uZXIgPSBvcHRpb25zPy5ib3RCYW5uZXJVUkwgPyBhd2FpdCB1cmxUb0Jhc2U2NChvcHRpb25zPy5ib3RCYW5uZXJVUkwpIDogb3B0aW9ucz8uYm90QmFubmVyVVJMXG5cbiAgICAgIHJldHVybiBhd2FpdCByZXN0LnBhdGNoPERpc2NvcmRVc2VyPihyZXN0LnJvdXRlcy5jdXJyZW50VXNlcigpLCB7XG4gICAgICAgIGJvZHk6IHtcbiAgICAgICAgICB1c2VybmFtZTogb3B0aW9ucy51c2VybmFtZT8udHJpbSgpLFxuICAgICAgICAgIGF2YXRhcixcbiAgICAgICAgICBiYW5uZXIsXG4gICAgICAgIH0sXG4gICAgICB9KVxuICAgIH0sXG5cbiAgICBhc3luYyBlZGl0Q2hhbm5lbChjaGFubmVsSWQsIGJvZHksIHJlYXNvbikge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QucGF0Y2g8RGlzY29yZENoYW5uZWw+KHJlc3Qucm91dGVzLmNoYW5uZWxzLmNoYW5uZWwoY2hhbm5lbElkKSwgeyBib2R5LCByZWFzb24gfSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZWRpdENoYW5uZWxQZXJtaXNzaW9uT3ZlcnJpZGVzKGNoYW5uZWxJZCwgYm9keSwgcmVhc29uKSB7XG4gICAgICBhd2FpdCByZXN0LnB1dChyZXN0LnJvdXRlcy5jaGFubmVscy5vdmVyd3JpdGUoY2hhbm5lbElkLCBib2R5LmlkKSwgeyBib2R5LCByZWFzb24gfSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZWRpdENoYW5uZWxQb3NpdGlvbnMoZ3VpbGRJZCwgYm9keSkge1xuICAgICAgYXdhaXQgcmVzdC5wYXRjaChyZXN0LnJvdXRlcy5ndWlsZHMuY2hhbm5lbHMoZ3VpbGRJZCksIHsgYm9keSB9KVxuICAgIH0sXG5cbiAgICBhc3luYyBlZGl0RW1vamkoZ3VpbGRJZCwgaWQsIGJvZHksIHJlYXNvbikge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QucGF0Y2g8RGlzY29yZEVtb2ppPihyZXN0LnJvdXRlcy5ndWlsZHMuZW1vamkoZ3VpbGRJZCwgaWQpLCB7IGJvZHksIHJlYXNvbiB9KVxuICAgIH0sXG5cbiAgICBhc3luYyBlZGl0QXBwbGljYXRpb25FbW9qaShpZCwgYm9keSkge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QucGF0Y2g8RGlzY29yZEVtb2ppPihyZXN0LnJvdXRlcy5hcHBsaWNhdGlvbkVtb2ppKHJlc3QuYXBwbGljYXRpb25JZCwgaWQpLCB7IGJvZHkgfSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZWRpdEZvbGxvd3VwTWVzc2FnZSh0b2tlbiwgbWVzc2FnZUlkLCBib2R5KSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5wYXRjaDxEaXNjb3JkTWVzc2FnZT4ocmVzdC5yb3V0ZXMuaW50ZXJhY3Rpb25zLnJlc3BvbnNlcy5tZXNzYWdlKHJlc3QuYXBwbGljYXRpb25JZCwgdG9rZW4sIG1lc3NhZ2VJZCksIHtcbiAgICAgICAgYm9keSxcbiAgICAgICAgZmlsZXM6IGJvZHkuZmlsZXMsXG4gICAgICAgIHVuYXV0aG9yaXplZDogdHJ1ZSxcbiAgICAgIH0pXG4gICAgfSxcblxuICAgIGFzeW5jIGVkaXRHbG9iYWxBcHBsaWNhdGlvbkNvbW1hbmQoY29tbWFuZElkLCBib2R5KSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5wYXRjaDxEaXNjb3JkQXBwbGljYXRpb25Db21tYW5kPihyZXN0LnJvdXRlcy5pbnRlcmFjdGlvbnMuY29tbWFuZHMuY29tbWFuZChyZXN0LmFwcGxpY2F0aW9uSWQsIGNvbW1hbmRJZCksIHsgYm9keSB9KVxuICAgIH0sXG5cbiAgICBhc3luYyBlZGl0R3VpbGQoZ3VpbGRJZCwgYm9keSwgcmVhc29uKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5wYXRjaDxEaXNjb3JkR3VpbGQ+KHJlc3Qucm91dGVzLmd1aWxkcy5ndWlsZChndWlsZElkKSwgeyBib2R5LCByZWFzb24gfSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZWRpdEd1aWxkQXBwbGljYXRpb25Db21tYW5kKGNvbW1hbmRJZCwgZ3VpbGRJZCwgYm9keSkge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QucGF0Y2g8RGlzY29yZEFwcGxpY2F0aW9uQ29tbWFuZD4ocmVzdC5yb3V0ZXMuaW50ZXJhY3Rpb25zLmNvbW1hbmRzLmd1aWxkcy5vbmUocmVzdC5hcHBsaWNhdGlvbklkLCBndWlsZElkLCBjb21tYW5kSWQpLCB7XG4gICAgICAgIGJvZHksXG4gICAgICB9KVxuICAgIH0sXG5cbiAgICBhc3luYyBlZGl0R3VpbGRNZmFMZXZlbChndWlsZElkOiBCaWdTdHJpbmcsIG1mYUxldmVsOiBNZmFMZXZlbHMsIHJlYXNvbj86IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgYXdhaXQgcmVzdC5wb3N0KHJlc3Qucm91dGVzLmd1aWxkcy5tZmEoZ3VpbGRJZCksIHsgYm9keTogeyBsZXZlbDogbWZhTGV2ZWwgfSwgcmVhc29uIH0pXG4gICAgfSxcblxuICAgIGFzeW5jIGVkaXRHdWlsZFN0aWNrZXIoZ3VpbGRJZCwgc3RpY2tlcklkLCBib2R5LCByZWFzb24pIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LnBhdGNoPERpc2NvcmRTdGlja2VyPihyZXN0LnJvdXRlcy5ndWlsZHMuc3RpY2tlcihndWlsZElkLCBzdGlja2VySWQpLCB7IGJvZHksIHJlYXNvbiB9KVxuICAgIH0sXG5cbiAgICBhc3luYyBlZGl0R3VpbGRUZW1wbGF0ZShndWlsZElkLCB0ZW1wbGF0ZUNvZGU6IHN0cmluZywgYm9keTogTW9kaWZ5R3VpbGRUZW1wbGF0ZSk6IFByb21pc2U8Q2FtZWxpemU8RGlzY29yZFRlbXBsYXRlPj4ge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QucGF0Y2g8RGlzY29yZFRlbXBsYXRlPihyZXN0LnJvdXRlcy5ndWlsZHMudGVtcGxhdGVzLmd1aWxkKGd1aWxkSWQsIHRlbXBsYXRlQ29kZSksIHsgYm9keSB9KVxuICAgIH0sXG5cbiAgICBhc3luYyBlZGl0TWVzc2FnZShjaGFubmVsSWQsIG1lc3NhZ2VJZCwgYm9keSkge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QucGF0Y2g8RGlzY29yZE1lc3NhZ2U+KHJlc3Qucm91dGVzLmNoYW5uZWxzLm1lc3NhZ2UoY2hhbm5lbElkLCBtZXNzYWdlSWQpLCB7IGJvZHksIGZpbGVzOiBib2R5LmZpbGVzIH0pXG4gICAgfSxcblxuICAgIGFzeW5jIGVkaXRPcmlnaW5hbEludGVyYWN0aW9uUmVzcG9uc2UodG9rZW4sIGJvZHkpIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LnBhdGNoPERpc2NvcmRNZXNzYWdlPihyZXN0LnJvdXRlcy5pbnRlcmFjdGlvbnMucmVzcG9uc2VzLm9yaWdpbmFsKHJlc3QuYXBwbGljYXRpb25JZCwgdG9rZW4pLCB7XG4gICAgICAgIGJvZHksXG4gICAgICAgIGZpbGVzOiBib2R5LmZpbGVzLFxuICAgICAgfSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZWRpdE9yaWdpbmFsV2ViaG9va01lc3NhZ2Uod2ViaG9va0lkLCB0b2tlbiwgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QucGF0Y2g8RGlzY29yZE1lc3NhZ2U+KHJlc3Qucm91dGVzLndlYmhvb2tzLm9yaWdpbmFsKHdlYmhvb2tJZCwgdG9rZW4sIG9wdGlvbnMpLCB7XG4gICAgICAgIGJvZHk6IHtcbiAgICAgICAgICB0eXBlOiBJbnRlcmFjdGlvblJlc3BvbnNlVHlwZXMuVXBkYXRlTWVzc2FnZSxcbiAgICAgICAgICBkYXRhOiBvcHRpb25zLFxuICAgICAgICB9LFxuICAgICAgICBmaWxlczogb3B0aW9ucy5maWxlcyxcbiAgICAgICAgdW5hdXRob3JpemVkOiB0cnVlLFxuICAgICAgfSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZWRpdE93blZvaWNlU3RhdGUoZ3VpbGRJZCwgb3B0aW9ucykge1xuICAgICAgYXdhaXQgcmVzdC5wYXRjaChyZXN0LnJvdXRlcy5ndWlsZHMudm9pY2UoZ3VpbGRJZCksIHtcbiAgICAgICAgYm9keToge1xuICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgcmVxdWVzdFRvU3BlYWtUaW1lc3RhbXA6IG9wdGlvbnMucmVxdWVzdFRvU3BlYWtUaW1lc3RhbXBcbiAgICAgICAgICAgID8gbmV3IERhdGUob3B0aW9ucy5yZXF1ZXN0VG9TcGVha1RpbWVzdGFtcCkudG9JU09TdHJpbmcoKVxuICAgICAgICAgICAgOiBvcHRpb25zLnJlcXVlc3RUb1NwZWFrVGltZXN0YW1wLFxuICAgICAgICB9LFxuICAgICAgfSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZWRpdFNjaGVkdWxlZEV2ZW50KGd1aWxkSWQsIGV2ZW50SWQsIGJvZHksIHJlYXNvbikge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QucGF0Y2g8RGlzY29yZFNjaGVkdWxlZEV2ZW50PihyZXN0LnJvdXRlcy5ndWlsZHMuZXZlbnRzLmV2ZW50KGd1aWxkSWQsIGV2ZW50SWQpLCB7IGJvZHksIHJlYXNvbiB9KVxuICAgIH0sXG5cbiAgICBhc3luYyBlZGl0Um9sZShndWlsZElkLCByb2xlSWQsIGJvZHksIHJlYXNvbikge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QucGF0Y2g8RGlzY29yZFJvbGU+KHJlc3Qucm91dGVzLmd1aWxkcy5yb2xlcy5vbmUoZ3VpbGRJZCwgcm9sZUlkKSwgeyBib2R5LCByZWFzb24gfSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZWRpdFJvbGVQb3NpdGlvbnMoZ3VpbGRJZCwgYm9keSwgcmVhc29uKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5wYXRjaDxEaXNjb3JkUm9sZVtdPihyZXN0LnJvdXRlcy5ndWlsZHMucm9sZXMuYWxsKGd1aWxkSWQpLCB7IGJvZHksIHJlYXNvbiB9KVxuICAgIH0sXG5cbiAgICBhc3luYyBlZGl0U3RhZ2VJbnN0YW5jZShjaGFubmVsSWQsIHRvcGljLCByZWFzb24/OiBzdHJpbmcpIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LnBhdGNoPERpc2NvcmRTdGFnZUluc3RhbmNlPihyZXN0LnJvdXRlcy5jaGFubmVscy5zdGFnZShjaGFubmVsSWQpLCB7IGJvZHk6IHsgdG9waWMgfSwgcmVhc29uIH0pXG4gICAgfSxcblxuICAgIGFzeW5jIGVkaXRVc2VyVm9pY2VTdGF0ZShndWlsZElkLCBvcHRpb25zKSB7XG4gICAgICBhd2FpdCByZXN0LnBhdGNoKHJlc3Qucm91dGVzLmd1aWxkcy52b2ljZShndWlsZElkLCBvcHRpb25zLnVzZXJJZCksIHsgYm9keTogb3B0aW9ucyB9KVxuICAgIH0sXG5cbiAgICBhc3luYyBlZGl0V2ViaG9vayh3ZWJob29rSWQsIGJvZHksIHJlYXNvbikge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QucGF0Y2g8RGlzY29yZFdlYmhvb2s+KHJlc3Qucm91dGVzLndlYmhvb2tzLmlkKHdlYmhvb2tJZCksIHsgYm9keSwgcmVhc29uIH0pXG4gICAgfSxcblxuICAgIGFzeW5jIGVkaXRXZWJob29rTWVzc2FnZSh3ZWJob29rSWQsIHRva2VuLCBtZXNzYWdlSWQsIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LnBhdGNoPERpc2NvcmRNZXNzYWdlPihyZXN0LnJvdXRlcy53ZWJob29rcy5tZXNzYWdlKHdlYmhvb2tJZCwgdG9rZW4sIG1lc3NhZ2VJZCwgb3B0aW9ucyksIHtcbiAgICAgICAgYm9keTogb3B0aW9ucyxcbiAgICAgICAgZmlsZXM6IG9wdGlvbnMuZmlsZXMsXG4gICAgICAgIHVuYXV0aG9yaXplZDogdHJ1ZSxcbiAgICAgIH0pXG4gICAgfSxcblxuICAgIGFzeW5jIGVkaXRXZWJob29rV2l0aFRva2VuKHdlYmhvb2tJZCwgdG9rZW4sIGJvZHkpIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LnBhdGNoPERpc2NvcmRXZWJob29rPihyZXN0LnJvdXRlcy53ZWJob29rcy53ZWJob29rKHdlYmhvb2tJZCwgdG9rZW4pLCB7XG4gICAgICAgIGJvZHksXG4gICAgICAgIHVuYXV0aG9yaXplZDogdHJ1ZSxcbiAgICAgIH0pXG4gICAgfSxcblxuICAgIGFzeW5jIGVkaXRXZWxjb21lU2NyZWVuKGd1aWxkSWQsIGJvZHksIHJlYXNvbikge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QucGF0Y2g8RGlzY29yZFdlbGNvbWVTY3JlZW4+KHJlc3Qucm91dGVzLmd1aWxkcy53ZWxjb21lKGd1aWxkSWQpLCB7IGJvZHksIHJlYXNvbiB9KVxuICAgIH0sXG5cbiAgICBhc3luYyBlZGl0V2lkZ2V0U2V0dGluZ3MoZ3VpbGRJZCwgYm9keSwgcmVhc29uKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5wYXRjaDxEaXNjb3JkR3VpbGRXaWRnZXRTZXR0aW5ncz4ocmVzdC5yb3V0ZXMuZ3VpbGRzLndpZGdldChndWlsZElkKSwgeyBib2R5LCByZWFzb24gfSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZXhlY3V0ZVdlYmhvb2sod2ViaG9va0lkLCB0b2tlbiwgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QucG9zdDxEaXNjb3JkTWVzc2FnZT4ocmVzdC5yb3V0ZXMud2ViaG9va3Mud2ViaG9vayh3ZWJob29rSWQsIHRva2VuLCBvcHRpb25zKSwge1xuICAgICAgICBib2R5OiBvcHRpb25zLFxuICAgICAgICB1bmF1dGhvcml6ZWQ6IHRydWUsXG4gICAgICB9KVxuICAgIH0sXG5cbiAgICBhc3luYyBmb2xsb3dBbm5vdW5jZW1lbnQoc291cmNlQ2hhbm5lbElkLCB0YXJnZXRDaGFubmVsSWQsIHJlYXNvbikge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QucG9zdDxEaXNjb3JkRm9sbG93ZWRDaGFubmVsPihyZXN0LnJvdXRlcy5jaGFubmVscy5mb2xsb3coc291cmNlQ2hhbm5lbElkKSwge1xuICAgICAgICBib2R5OiB7XG4gICAgICAgICAgd2ViaG9va0NoYW5uZWxJZDogdGFyZ2V0Q2hhbm5lbElkLFxuICAgICAgICB9LFxuICAgICAgICByZWFzb24sXG4gICAgICB9KVxuICAgIH0sXG5cbiAgICBhc3luYyBnZXRBY3RpdmVUaHJlYWRzKGd1aWxkSWQpIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LmdldDxEaXNjb3JkTGlzdEFjdGl2ZVRocmVhZHM+KHJlc3Qucm91dGVzLmNoYW5uZWxzLnRocmVhZHMuYWN0aXZlKGd1aWxkSWQpKVxuICAgIH0sXG5cbiAgICBhc3luYyBnZXRBcHBsaWNhdGlvbkNvbW1hbmRQZXJtaXNzaW9uKGd1aWxkSWQsIGNvbW1hbmRJZCwgb3B0aW9ucykge1xuICAgICAgY29uc3QgcmVzdE9wdGlvbnM6IE9taXQ8TWFrZVJlcXVlc3RPcHRpb25zLCAnYm9keSc+ID0ge31cblxuICAgICAgaWYgKG9wdGlvbnM/LmFjY2Vzc1Rva2VuKSB7XG4gICAgICAgIHJlc3RPcHRpb25zLnVuYXV0aG9yaXplZCA9IHRydWVcbiAgICAgICAgcmVzdE9wdGlvbnMuaGVhZGVycyA9IHtcbiAgICAgICAgICBhdXRob3JpemF0aW9uOiBgQmVhcmVyICR7b3B0aW9ucy5hY2Nlc3NUb2tlbn1gLFxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBhd2FpdCByZXN0LmdldDxEaXNjb3JkR3VpbGRBcHBsaWNhdGlvbkNvbW1hbmRQZXJtaXNzaW9ucz4oXG4gICAgICAgIHJlc3Qucm91dGVzLmludGVyYWN0aW9ucy5jb21tYW5kcy5wZXJtaXNzaW9uKG9wdGlvbnM/LmFwcGxpY2F0aW9uSWQgPz8gcmVzdC5hcHBsaWNhdGlvbklkLCBndWlsZElkLCBjb21tYW5kSWQpLFxuICAgICAgICByZXN0T3B0aW9ucyxcbiAgICAgIClcbiAgICB9LFxuXG4gICAgYXN5bmMgZ2V0QXBwbGljYXRpb25Db21tYW5kUGVybWlzc2lvbnMoZ3VpbGRJZCwgb3B0aW9ucykge1xuICAgICAgY29uc3QgcmVzdE9wdGlvbnM6IE9taXQ8TWFrZVJlcXVlc3RPcHRpb25zLCAnYm9keSc+ID0ge31cblxuICAgICAgaWYgKG9wdGlvbnM/LmFjY2Vzc1Rva2VuKSB7XG4gICAgICAgIHJlc3RPcHRpb25zLnVuYXV0aG9yaXplZCA9IHRydWVcbiAgICAgICAgcmVzdE9wdGlvbnMuaGVhZGVycyA9IHtcbiAgICAgICAgICBhdXRob3JpemF0aW9uOiBgQmVhcmVyICR7b3B0aW9ucy5hY2Nlc3NUb2tlbn1gLFxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBhd2FpdCByZXN0LmdldDxEaXNjb3JkR3VpbGRBcHBsaWNhdGlvbkNvbW1hbmRQZXJtaXNzaW9uc1tdPihcbiAgICAgICAgcmVzdC5yb3V0ZXMuaW50ZXJhY3Rpb25zLmNvbW1hbmRzLnBlcm1pc3Npb25zKG9wdGlvbnM/LmFwcGxpY2F0aW9uSWQgPz8gcmVzdC5hcHBsaWNhdGlvbklkLCBndWlsZElkKSxcbiAgICAgICAgcmVzdE9wdGlvbnMsXG4gICAgICApXG4gICAgfSxcblxuICAgIGFzeW5jIGdldEFwcGxpY2F0aW9uSW5mbygpIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LmdldDxEaXNjb3JkQXBwbGljYXRpb24+KHJlc3Qucm91dGVzLm9hdXRoMi5hcHBsaWNhdGlvbigpKVxuICAgIH0sXG5cbiAgICBhc3luYyBlZGl0QXBwbGljYXRpb25JbmZvKGJvZHkpIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LnBhdGNoPERpc2NvcmRBcHBsaWNhdGlvbj4ocmVzdC5yb3V0ZXMuYXBwbGljYXRpb24oKSwge1xuICAgICAgICBib2R5LFxuICAgICAgfSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZ2V0Q3VycmVudEF1dGhlbnRpY2F0aW9uSW5mbyh0b2tlbikge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QuZ2V0PERpc2NvcmRDdXJyZW50QXV0aG9yaXphdGlvbj4ocmVzdC5yb3V0ZXMub2F1dGgyLmN1cnJlbnRBdXRob3JpemF0aW9uKCksIHtcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIGF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0b2tlbn1gLFxuICAgICAgICB9LFxuICAgICAgICB1bmF1dGhvcml6ZWQ6IHRydWUsXG4gICAgICB9KVxuICAgIH0sXG5cbiAgICBhc3luYyBleGNoYW5nZVRva2VuKGNsaWVudElkLCBjbGllbnRTZWNyZXQsIGJvZHkpIHtcbiAgICAgIGNvbnN0IGJhc2ljQ3JlZGVudGlhbHMgPSBCdWZmZXIuZnJvbShgJHtjbGllbnRJZH06JHtjbGllbnRTZWNyZXR9YClcblxuICAgICAgY29uc3QgcmVzdE9wdGlvbnM6IE1ha2VSZXF1ZXN0T3B0aW9ucyA9IHtcbiAgICAgICAgYm9keSxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdjb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJyxcbiAgICAgICAgICBhdXRob3JpemF0aW9uOiBgQmFzaWMgJHtiYXNpY0NyZWRlbnRpYWxzLnRvU3RyaW5nKCdiYXNlNjQnKX1gLFxuICAgICAgICB9LFxuICAgICAgICBydW5UaHJvdWdoUXVldWU6IGZhbHNlLFxuICAgICAgICB1bmF1dGhvcml6ZWQ6IHRydWUsXG4gICAgICB9XG5cbiAgICAgIGlmIChib2R5LmdyYW50VHlwZSA9PT0gJ2NsaWVudF9jcmVkZW50aWFscycpIHtcbiAgICAgICAgcmVzdE9wdGlvbnMuYm9keS5zY29wZSA9IGJvZHkuc2NvcGUuam9pbignICcpXG4gICAgICB9XG5cbiAgICAgIHJldHVybiBhd2FpdCByZXN0LnBvc3Q8RGlzY29yZEFjY2Vzc1Rva2VuUmVzcG9uc2U+KHJlc3Qucm91dGVzLm9hdXRoMi50b2tlbkV4Y2hhbmdlKCksIHJlc3RPcHRpb25zKVxuICAgIH0sXG5cbiAgICBhc3luYyByZXZva2VUb2tlbihjbGllbnRJZCwgY2xpZW50U2VjcmV0LCBib2R5KSB7XG4gICAgICBjb25zdCBiYXNpY0NyZWRlbnRpYWxzID0gQnVmZmVyLmZyb20oYCR7Y2xpZW50SWR9OiR7Y2xpZW50U2VjcmV0fWApXG5cbiAgICAgIGF3YWl0IHJlc3QucG9zdChyZXN0LnJvdXRlcy5vYXV0aDIudG9rZW5SZXZva2UoKSwge1xuICAgICAgICBib2R5LFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnLFxuICAgICAgICAgIGF1dGhvcml6YXRpb246IGBCYXNpYyAke2Jhc2ljQ3JlZGVudGlhbHMudG9TdHJpbmcoJ2Jhc2U2NCcpfWAsXG4gICAgICAgIH0sXG4gICAgICAgIHVuYXV0aG9yaXplZDogdHJ1ZSxcbiAgICAgIH0pXG4gICAgfSxcblxuICAgIGFzeW5jIGdldEF1ZGl0TG9nKGd1aWxkSWQsIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LmdldDxEaXNjb3JkQXVkaXRMb2c+KHJlc3Qucm91dGVzLmd1aWxkcy5hdWRpdGxvZ3MoZ3VpbGRJZCwgb3B0aW9ucykpXG4gICAgfSxcblxuICAgIGFzeW5jIGdldEF1dG9tb2RSdWxlKGd1aWxkSWQsIHJ1bGVJZCkge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QuZ2V0PERpc2NvcmRBdXRvTW9kZXJhdGlvblJ1bGU+KHJlc3Qucm91dGVzLmd1aWxkcy5hdXRvbW9kLnJ1bGUoZ3VpbGRJZCwgcnVsZUlkKSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZ2V0QXV0b21vZFJ1bGVzKGd1aWxkSWQpIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LmdldDxEaXNjb3JkQXV0b01vZGVyYXRpb25SdWxlW10+KHJlc3Qucm91dGVzLmd1aWxkcy5hdXRvbW9kLnJ1bGVzKGd1aWxkSWQpKVxuICAgIH0sXG5cbiAgICBhc3luYyBnZXRBdmFpbGFibGVWb2ljZVJlZ2lvbnMoKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5nZXQ8RGlzY29yZFZvaWNlUmVnaW9uW10+KHJlc3Qucm91dGVzLnJlZ2lvbnMoKSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZ2V0QmFuKGd1aWxkSWQsIHVzZXJJZCkge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QuZ2V0PERpc2NvcmRCYW4+KHJlc3Qucm91dGVzLmd1aWxkcy5tZW1iZXJzLmJhbihndWlsZElkLCB1c2VySWQpKVxuICAgIH0sXG5cbiAgICBhc3luYyBnZXRCYW5zKGd1aWxkSWQsIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LmdldDxEaXNjb3JkQmFuW10+KHJlc3Qucm91dGVzLmd1aWxkcy5tZW1iZXJzLmJhbnMoZ3VpbGRJZCwgb3B0aW9ucykpXG4gICAgfSxcblxuICAgIGFzeW5jIGdldENoYW5uZWwoaWQpIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LmdldDxEaXNjb3JkQ2hhbm5lbD4ocmVzdC5yb3V0ZXMuY2hhbm5lbHMuY2hhbm5lbChpZCkpXG4gICAgfSxcblxuICAgIGFzeW5jIGdldENoYW5uZWxJbnZpdGVzKGNoYW5uZWxJZCkge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QuZ2V0PERpc2NvcmRJbnZpdGVNZXRhZGF0YVtdPihyZXN0LnJvdXRlcy5jaGFubmVscy5pbnZpdGVzKGNoYW5uZWxJZCkpXG4gICAgfSxcblxuICAgIGFzeW5jIGdldENoYW5uZWxzKGd1aWxkSWQpIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LmdldDxEaXNjb3JkQ2hhbm5lbFtdPihyZXN0LnJvdXRlcy5ndWlsZHMuY2hhbm5lbHMoZ3VpbGRJZCkpXG4gICAgfSxcblxuICAgIGFzeW5jIGdldENoYW5uZWxXZWJob29rcyhjaGFubmVsSWQpIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LmdldDxEaXNjb3JkV2ViaG9va1tdPihyZXN0LnJvdXRlcy5jaGFubmVscy53ZWJob29rcyhjaGFubmVsSWQpKVxuICAgIH0sXG5cbiAgICBhc3luYyBnZXREbUNoYW5uZWwodXNlcklkKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5wb3N0PERpc2NvcmRDaGFubmVsPihyZXN0LnJvdXRlcy5jaGFubmVscy5kbSgpLCB7XG4gICAgICAgIGJvZHk6IHsgcmVjaXBpZW50SWQ6IHVzZXJJZCB9LFxuICAgICAgfSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZ2V0R3JvdXBEbUNoYW5uZWwoYm9keSkge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QucG9zdDxEaXNjb3JkQ2hhbm5lbD4ocmVzdC5yb3V0ZXMuY2hhbm5lbHMuZG0oKSwge1xuICAgICAgICBib2R5LFxuICAgICAgfSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZ2V0RW1vamkoZ3VpbGRJZCwgZW1vamlJZCkge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QuZ2V0PERpc2NvcmRFbW9qaT4ocmVzdC5yb3V0ZXMuZ3VpbGRzLmVtb2ppKGd1aWxkSWQsIGVtb2ppSWQpKVxuICAgIH0sXG5cbiAgICBhc3luYyBnZXRBcHBsaWNhdGlvbkVtb2ppKGVtb2ppSWQpIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LmdldDxEaXNjb3JkRW1vamk+KHJlc3Qucm91dGVzLmFwcGxpY2F0aW9uRW1vamkocmVzdC5hcHBsaWNhdGlvbklkLCBlbW9qaUlkKSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZ2V0RW1vamlzKGd1aWxkSWQpIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LmdldDxEaXNjb3JkRW1vamlbXT4ocmVzdC5yb3V0ZXMuZ3VpbGRzLmVtb2ppcyhndWlsZElkKSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZ2V0QXBwbGljYXRpb25FbW9qaXMoKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5nZXQ8eyBpdGVtczogRGlzY29yZEVtb2ppW10gfT4ocmVzdC5yb3V0ZXMuYXBwbGljYXRpb25FbW9qaXMocmVzdC5hcHBsaWNhdGlvbklkKSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZ2V0Rm9sbG93dXBNZXNzYWdlKHRva2VuLCBtZXNzYWdlSWQpIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LmdldDxEaXNjb3JkTWVzc2FnZT4ocmVzdC5yb3V0ZXMuaW50ZXJhY3Rpb25zLnJlc3BvbnNlcy5tZXNzYWdlKHJlc3QuYXBwbGljYXRpb25JZCwgdG9rZW4sIG1lc3NhZ2VJZCksIHsgdW5hdXRob3JpemVkOiB0cnVlIH0pXG4gICAgfSxcblxuICAgIGFzeW5jIGdldEdhdGV3YXlCb3QoKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5nZXQ8RGlzY29yZEdldEdhdGV3YXlCb3Q+KHJlc3Qucm91dGVzLmdhdGV3YXlCb3QoKSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZ2V0R2xvYmFsQXBwbGljYXRpb25Db21tYW5kKGNvbW1hbmRJZCkge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QuZ2V0PERpc2NvcmRBcHBsaWNhdGlvbkNvbW1hbmQ+KHJlc3Qucm91dGVzLmludGVyYWN0aW9ucy5jb21tYW5kcy5jb21tYW5kKHJlc3QuYXBwbGljYXRpb25JZCwgY29tbWFuZElkKSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZ2V0R2xvYmFsQXBwbGljYXRpb25Db21tYW5kcygpIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LmdldDxEaXNjb3JkQXBwbGljYXRpb25Db21tYW5kW10+KHJlc3Qucm91dGVzLmludGVyYWN0aW9ucy5jb21tYW5kcy5jb21tYW5kcyhyZXN0LmFwcGxpY2F0aW9uSWQpKVxuICAgIH0sXG5cbiAgICBhc3luYyBnZXRHdWlsZChndWlsZElkLCBvcHRpb25zID0geyBjb3VudHM6IHRydWUgfSkge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QuZ2V0PERpc2NvcmRHdWlsZD4ocmVzdC5yb3V0ZXMuZ3VpbGRzLmd1aWxkKGd1aWxkSWQsIG9wdGlvbnMuY291bnRzKSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZ2V0R3VpbGRzKHRva2VuLCBvcHRpb25zKSB7XG4gICAgICBjb25zdCBtYWtlUmVxdWVzdE9wdGlvbnM6IE1ha2VSZXF1ZXN0T3B0aW9ucyB8IHVuZGVmaW5lZCA9IHRva2VuXG4gICAgICAgID8ge1xuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICBhdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dG9rZW59YCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB1bmF1dGhvcml6ZWQ6IHRydWUsXG4gICAgICAgICAgfVxuICAgICAgICA6IHVuZGVmaW5lZFxuXG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5nZXQ8UGFydGlhbDxEaXNjb3JkR3VpbGQ+W10+KHJlc3Qucm91dGVzLmd1aWxkcy51c2VyR3VpbGRzKG9wdGlvbnMpLCBtYWtlUmVxdWVzdE9wdGlvbnMpXG4gICAgfSxcblxuICAgIGFzeW5jIGdldEd1aWxkQXBwbGljYXRpb25Db21tYW5kKGNvbW1hbmRJZCwgZ3VpbGRJZCkge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QuZ2V0PERpc2NvcmRBcHBsaWNhdGlvbkNvbW1hbmQ+KHJlc3Qucm91dGVzLmludGVyYWN0aW9ucy5jb21tYW5kcy5ndWlsZHMub25lKHJlc3QuYXBwbGljYXRpb25JZCwgZ3VpbGRJZCwgY29tbWFuZElkKSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZ2V0R3VpbGRBcHBsaWNhdGlvbkNvbW1hbmRzKGd1aWxkSWQpIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LmdldDxEaXNjb3JkQXBwbGljYXRpb25Db21tYW5kW10+KHJlc3Qucm91dGVzLmludGVyYWN0aW9ucy5jb21tYW5kcy5ndWlsZHMuYWxsKHJlc3QuYXBwbGljYXRpb25JZCwgZ3VpbGRJZCkpXG4gICAgfSxcblxuICAgIGFzeW5jIGdldEd1aWxkUHJldmlldyhndWlsZElkKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5nZXQ8RGlzY29yZEd1aWxkUHJldmlldz4ocmVzdC5yb3V0ZXMuZ3VpbGRzLnByZXZpZXcoZ3VpbGRJZCkpXG4gICAgfSxcblxuICAgIGFzeW5jIGdldEd1aWxkVGVtcGxhdGUodGVtcGxhdGVDb2RlKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5nZXQ8RGlzY29yZFRlbXBsYXRlPihyZXN0LnJvdXRlcy5ndWlsZHMudGVtcGxhdGVzLmNvZGUodGVtcGxhdGVDb2RlKSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZ2V0R3VpbGRUZW1wbGF0ZXMoZ3VpbGRJZCkge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QuZ2V0PERpc2NvcmRUZW1wbGF0ZVtdPihyZXN0LnJvdXRlcy5ndWlsZHMudGVtcGxhdGVzLmFsbChndWlsZElkKSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZ2V0R3VpbGRXZWJob29rcyhndWlsZElkKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5nZXQ8RGlzY29yZFdlYmhvb2tbXT4ocmVzdC5yb3V0ZXMuZ3VpbGRzLndlYmhvb2tzKGd1aWxkSWQpKVxuICAgIH0sXG5cbiAgICBhc3luYyBnZXRJbnRlZ3JhdGlvbnMoZ3VpbGRJZCkge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QuZ2V0PERpc2NvcmRJbnRlZ3JhdGlvbltdPihyZXN0LnJvdXRlcy5ndWlsZHMuaW50ZWdyYXRpb25zKGd1aWxkSWQpKVxuICAgIH0sXG5cbiAgICBhc3luYyBnZXRJbnZpdGUoaW52aXRlQ29kZSwgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QuZ2V0PERpc2NvcmRJbnZpdGVNZXRhZGF0YT4ocmVzdC5yb3V0ZXMuZ3VpbGRzLmludml0ZShpbnZpdGVDb2RlLCBvcHRpb25zKSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZ2V0SW52aXRlcyhndWlsZElkKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5nZXQ8RGlzY29yZEludml0ZU1ldGFkYXRhW10+KHJlc3Qucm91dGVzLmd1aWxkcy5pbnZpdGVzKGd1aWxkSWQpKVxuICAgIH0sXG5cbiAgICBhc3luYyBnZXRNZXNzYWdlKGNoYW5uZWxJZCwgbWVzc2FnZUlkKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5nZXQ8RGlzY29yZE1lc3NhZ2U+KHJlc3Qucm91dGVzLmNoYW5uZWxzLm1lc3NhZ2UoY2hhbm5lbElkLCBtZXNzYWdlSWQpKVxuICAgIH0sXG5cbiAgICBhc3luYyBnZXRNZXNzYWdlcyhjaGFubmVsSWQsIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LmdldDxEaXNjb3JkTWVzc2FnZVtdPihyZXN0LnJvdXRlcy5jaGFubmVscy5tZXNzYWdlcyhjaGFubmVsSWQsIG9wdGlvbnMpKVxuICAgIH0sXG5cbiAgICBhc3luYyBnZXRTdGlja2VyUGFjayhzdGlja2VyUGFja0lkKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5nZXQ8RGlzY29yZFN0aWNrZXJQYWNrPihyZXN0LnJvdXRlcy5zdGlja2VyUGFjayhzdGlja2VyUGFja0lkKSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZ2V0U3RpY2tlclBhY2tzKCkge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QuZ2V0PERpc2NvcmRTdGlja2VyUGFja1tdPihyZXN0LnJvdXRlcy5zdGlja2VyUGFja3MoKSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZ2V0T3JpZ2luYWxJbnRlcmFjdGlvblJlc3BvbnNlKHRva2VuKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5nZXQ8RGlzY29yZE1lc3NhZ2U+KHJlc3Qucm91dGVzLmludGVyYWN0aW9ucy5yZXNwb25zZXMub3JpZ2luYWwocmVzdC5hcHBsaWNhdGlvbklkLCB0b2tlbiksIHsgdW5hdXRob3JpemVkOiB0cnVlIH0pXG4gICAgfSxcblxuICAgIGFzeW5jIGdldFBpbm5lZE1lc3NhZ2VzKGNoYW5uZWxJZCkge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QuZ2V0PERpc2NvcmRNZXNzYWdlW10+KHJlc3Qucm91dGVzLmNoYW5uZWxzLnBpbnMoY2hhbm5lbElkKSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZ2V0UHJpdmF0ZUFyY2hpdmVkVGhyZWFkcyhjaGFubmVsSWQsIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LmdldDxEaXNjb3JkTGlzdEFyY2hpdmVkVGhyZWFkcz4ocmVzdC5yb3V0ZXMuY2hhbm5lbHMudGhyZWFkcy5wcml2YXRlKGNoYW5uZWxJZCwgb3B0aW9ucykpXG4gICAgfSxcblxuICAgIGFzeW5jIGdldFByaXZhdGVKb2luZWRBcmNoaXZlZFRocmVhZHMoY2hhbm5lbElkLCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5nZXQ8RGlzY29yZExpc3RBcmNoaXZlZFRocmVhZHM+KHJlc3Qucm91dGVzLmNoYW5uZWxzLnRocmVhZHMuam9pbmVkKGNoYW5uZWxJZCwgb3B0aW9ucykpXG4gICAgfSxcblxuICAgIGFzeW5jIGdldFBydW5lQ291bnQoZ3VpbGRJZCwgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QuZ2V0PERpc2NvcmRQcnVuZWRDb3VudD4ocmVzdC5yb3V0ZXMuZ3VpbGRzLnBydW5lKGd1aWxkSWQsIG9wdGlvbnMpKVxuICAgIH0sXG5cbiAgICBhc3luYyBnZXRQdWJsaWNBcmNoaXZlZFRocmVhZHMoY2hhbm5lbElkLCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5nZXQ8RGlzY29yZExpc3RBcmNoaXZlZFRocmVhZHM+KHJlc3Qucm91dGVzLmNoYW5uZWxzLnRocmVhZHMucHVibGljKGNoYW5uZWxJZCwgb3B0aW9ucykpXG4gICAgfSxcblxuICAgIGFzeW5jIGdldFJvbGVzKGd1aWxkSWQpIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LmdldDxEaXNjb3JkUm9sZVtdPihyZXN0LnJvdXRlcy5ndWlsZHMucm9sZXMuYWxsKGd1aWxkSWQpKVxuICAgIH0sXG5cbiAgICBhc3luYyBnZXRSb2xlKGd1aWxkSWQsIHJvbGVJZCkge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QuZ2V0PERpc2NvcmRSb2xlPihyZXN0LnJvdXRlcy5ndWlsZHMucm9sZXMub25lKGd1aWxkSWQsIHJvbGVJZCkpXG4gICAgfSxcblxuICAgIGFzeW5jIGdldFNjaGVkdWxlZEV2ZW50KGd1aWxkSWQsIGV2ZW50SWQsIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LmdldDxEaXNjb3JkU2NoZWR1bGVkRXZlbnQ+KHJlc3Qucm91dGVzLmd1aWxkcy5ldmVudHMuZXZlbnQoZ3VpbGRJZCwgZXZlbnRJZCwgb3B0aW9ucz8ud2l0aFVzZXJDb3VudCkpXG4gICAgfSxcblxuICAgIGFzeW5jIGdldFNjaGVkdWxlZEV2ZW50cyhndWlsZElkLCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5nZXQ8RGlzY29yZFNjaGVkdWxlZEV2ZW50W10+KHJlc3Qucm91dGVzLmd1aWxkcy5ldmVudHMuZXZlbnRzKGd1aWxkSWQsIG9wdGlvbnM/LndpdGhVc2VyQ291bnQpKVxuICAgIH0sXG5cbiAgICBhc3luYyBnZXRTY2hlZHVsZWRFdmVudFVzZXJzKGd1aWxkSWQsIGV2ZW50SWQsIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LmdldDxBcnJheTx7IHVzZXI6IERpc2NvcmRVc2VyOyBtZW1iZXI/OiBEaXNjb3JkTWVtYmVyIH0+PihyZXN0LnJvdXRlcy5ndWlsZHMuZXZlbnRzLnVzZXJzKGd1aWxkSWQsIGV2ZW50SWQsIG9wdGlvbnMpKVxuICAgIH0sXG5cbiAgICBhc3luYyBnZXRTZXNzaW9uSW5mbygpIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LmdldEdhdGV3YXlCb3QoKVxuICAgIH0sXG5cbiAgICBhc3luYyBnZXRTdGFnZUluc3RhbmNlKGNoYW5uZWxJZCkge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QuZ2V0PERpc2NvcmRTdGFnZUluc3RhbmNlPihyZXN0LnJvdXRlcy5jaGFubmVscy5zdGFnZShjaGFubmVsSWQpKVxuICAgIH0sXG5cbiAgICBhc3luYyBnZXRPd25Wb2ljZVN0YXRlKGd1aWxkSWQpIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LmdldDxEaXNjb3JkVm9pY2VTdGF0ZT4ocmVzdC5yb3V0ZXMuZ3VpbGRzLnZvaWNlKGd1aWxkSWQpKVxuICAgIH0sXG5cbiAgICBhc3luYyBnZXRVc2VyVm9pY2VTdGF0ZShndWlsZElkLCB1c2VySWQpIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LmdldDxEaXNjb3JkVm9pY2VTdGF0ZT4ocmVzdC5yb3V0ZXMuZ3VpbGRzLnZvaWNlKGd1aWxkSWQsIHVzZXJJZCkpXG4gICAgfSxcblxuICAgIGFzeW5jIGdldFN0aWNrZXIoc3RpY2tlcklkOiBCaWdTdHJpbmcpIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LmdldDxEaXNjb3JkU3RpY2tlcj4ocmVzdC5yb3V0ZXMuc3RpY2tlcihzdGlja2VySWQpKVxuICAgIH0sXG5cbiAgICBhc3luYyBnZXRHdWlsZFN0aWNrZXIoZ3VpbGRJZCwgc3RpY2tlcklkKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5nZXQ8RGlzY29yZFN0aWNrZXI+KHJlc3Qucm91dGVzLmd1aWxkcy5zdGlja2VyKGd1aWxkSWQsIHN0aWNrZXJJZCkpXG4gICAgfSxcblxuICAgIGFzeW5jIGdldEd1aWxkU3RpY2tlcnMoZ3VpbGRJZCkge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QuZ2V0PERpc2NvcmRTdGlja2VyW10+KHJlc3Qucm91dGVzLmd1aWxkcy5zdGlja2VycyhndWlsZElkKSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZ2V0VGhyZWFkTWVtYmVyKGNoYW5uZWxJZCwgdXNlcklkKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5nZXQ8RGlzY29yZFRocmVhZE1lbWJlcj4ocmVzdC5yb3V0ZXMuY2hhbm5lbHMudGhyZWFkcy51c2VyKGNoYW5uZWxJZCwgdXNlcklkKSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZ2V0VGhyZWFkTWVtYmVycyhjaGFubmVsSWQpIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LmdldDxEaXNjb3JkVGhyZWFkTWVtYmVyW10+KHJlc3Qucm91dGVzLmNoYW5uZWxzLnRocmVhZHMubWVtYmVycyhjaGFubmVsSWQpKVxuICAgIH0sXG5cbiAgICBhc3luYyBnZXRSZWFjdGlvbnMoY2hhbm5lbElkLCBtZXNzYWdlSWQsIHJlYWN0aW9uLCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5nZXQ8RGlzY29yZFVzZXJbXT4ocmVzdC5yb3V0ZXMuY2hhbm5lbHMucmVhY3Rpb25zLm1lc3NhZ2UoY2hhbm5lbElkLCBtZXNzYWdlSWQsIHJlYWN0aW9uLCBvcHRpb25zKSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZ2V0VXNlcihpZCkge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QuZ2V0PERpc2NvcmRVc2VyPihyZXN0LnJvdXRlcy51c2VyKGlkKSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZ2V0Q3VycmVudFVzZXIodG9rZW4pIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LmdldDxEaXNjb3JkVXNlcj4ocmVzdC5yb3V0ZXMuY3VycmVudFVzZXIoKSwge1xuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgYXV0aG9yaXphdGlvbjogYEJlYXJlciAke3Rva2VufWAsXG4gICAgICAgIH0sXG4gICAgICAgIHVuYXV0aG9yaXplZDogdHJ1ZSxcbiAgICAgIH0pXG4gICAgfSxcblxuICAgIGFzeW5jIGdldFVzZXJDb25uZWN0aW9ucyh0b2tlbikge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QuZ2V0PERpc2NvcmRDb25uZWN0aW9uW10+KHJlc3Qucm91dGVzLm9hdXRoMi5jb25uZWN0aW9ucygpLCB7XG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICBhdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dG9rZW59YCxcbiAgICAgICAgfSxcbiAgICAgICAgdW5hdXRob3JpemVkOiB0cnVlLFxuICAgICAgfSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZ2V0VXNlckFwcGxpY2F0aW9uUm9sZUNvbm5lY3Rpb24odG9rZW4sIGFwcGxpY2F0aW9uSWQpIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LmdldDxEaXNjb3JkQXBwbGljYXRpb25Sb2xlQ29ubmVjdGlvbj4ocmVzdC5yb3V0ZXMub2F1dGgyLnJvbGVDb25uZWN0aW9ucyhhcHBsaWNhdGlvbklkKSwge1xuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgYXV0aG9yaXphdGlvbjogYEJlYXJlciAke3Rva2VufWAsXG4gICAgICAgIH0sXG4gICAgICAgIHVuYXV0aG9yaXplZDogdHJ1ZSxcbiAgICAgIH0pXG4gICAgfSxcblxuICAgIGFzeW5jIGdldFZhbml0eVVybChndWlsZElkKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5nZXQ8RGlzY29yZFZhbml0eVVybD4ocmVzdC5yb3V0ZXMuZ3VpbGRzLnZhbml0eShndWlsZElkKSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZ2V0Vm9pY2VSZWdpb25zKGd1aWxkSWQpIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LmdldDxEaXNjb3JkVm9pY2VSZWdpb25bXT4ocmVzdC5yb3V0ZXMuZ3VpbGRzLnJlZ2lvbnMoZ3VpbGRJZCkpXG4gICAgfSxcblxuICAgIGFzeW5jIGdldFdlYmhvb2sod2ViaG9va0lkKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5nZXQ8RGlzY29yZFdlYmhvb2s+KHJlc3Qucm91dGVzLndlYmhvb2tzLmlkKHdlYmhvb2tJZCkpXG4gICAgfSxcblxuICAgIGFzeW5jIGdldFdlYmhvb2tNZXNzYWdlKHdlYmhvb2tJZCwgdG9rZW4sIG1lc3NhZ2VJZCwgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QuZ2V0PERpc2NvcmRNZXNzYWdlPihyZXN0LnJvdXRlcy53ZWJob29rcy5tZXNzYWdlKHdlYmhvb2tJZCwgdG9rZW4sIG1lc3NhZ2VJZCwgb3B0aW9ucyksIHtcbiAgICAgICAgdW5hdXRob3JpemVkOiB0cnVlLFxuICAgICAgfSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZ2V0V2ViaG9va1dpdGhUb2tlbih3ZWJob29rSWQsIHRva2VuKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5nZXQ8RGlzY29yZFdlYmhvb2s+KHJlc3Qucm91dGVzLndlYmhvb2tzLndlYmhvb2sod2ViaG9va0lkLCB0b2tlbiksIHtcbiAgICAgICAgdW5hdXRob3JpemVkOiB0cnVlLFxuICAgICAgfSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZ2V0V2VsY29tZVNjcmVlbihndWlsZElkKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5nZXQ8RGlzY29yZFdlbGNvbWVTY3JlZW4+KHJlc3Qucm91dGVzLmd1aWxkcy53ZWxjb21lKGd1aWxkSWQpKVxuICAgIH0sXG5cbiAgICBhc3luYyBnZXRXaWRnZXQoZ3VpbGRJZCkge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QuZ2V0PERpc2NvcmRHdWlsZFdpZGdldD4ocmVzdC5yb3V0ZXMuZ3VpbGRzLndpZGdldEpzb24oZ3VpbGRJZCkpXG4gICAgfSxcblxuICAgIGFzeW5jIGdldFdpZGdldFNldHRpbmdzKGd1aWxkSWQpIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LmdldDxEaXNjb3JkR3VpbGRXaWRnZXRTZXR0aW5ncz4ocmVzdC5yb3V0ZXMuZ3VpbGRzLndpZGdldChndWlsZElkKSlcbiAgICB9LFxuXG4gICAgYXN5bmMgam9pblRocmVhZChjaGFubmVsSWQpIHtcbiAgICAgIGF3YWl0IHJlc3QucHV0KHJlc3Qucm91dGVzLmNoYW5uZWxzLnRocmVhZHMubWUoY2hhbm5lbElkKSlcbiAgICB9LFxuXG4gICAgYXN5bmMgbGVhdmVHdWlsZChndWlsZElkKSB7XG4gICAgICBhd2FpdCByZXN0LmRlbGV0ZShyZXN0LnJvdXRlcy5ndWlsZHMubGVhdmUoZ3VpbGRJZCkpXG4gICAgfSxcblxuICAgIGFzeW5jIGxlYXZlVGhyZWFkKGNoYW5uZWxJZCkge1xuICAgICAgYXdhaXQgcmVzdC5kZWxldGUocmVzdC5yb3V0ZXMuY2hhbm5lbHMudGhyZWFkcy5tZShjaGFubmVsSWQpKVxuICAgIH0sXG5cbiAgICBhc3luYyBwdWJsaXNoTWVzc2FnZShjaGFubmVsSWQsIG1lc3NhZ2VJZCkge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QucG9zdDxEaXNjb3JkTWVzc2FnZT4ocmVzdC5yb3V0ZXMuY2hhbm5lbHMuY3Jvc3Nwb3N0KGNoYW5uZWxJZCwgbWVzc2FnZUlkKSlcbiAgICB9LFxuXG4gICAgYXN5bmMgcmVtb3ZlUm9sZShndWlsZElkLCB1c2VySWQsIHJvbGVJZCwgcmVhc29uKSB7XG4gICAgICBhd2FpdCByZXN0LmRlbGV0ZShyZXN0LnJvdXRlcy5ndWlsZHMucm9sZXMubWVtYmVyKGd1aWxkSWQsIHVzZXJJZCwgcm9sZUlkKSwgeyByZWFzb24gfSlcbiAgICB9LFxuXG4gICAgYXN5bmMgcmVtb3ZlVGhyZWFkTWVtYmVyKGNoYW5uZWxJZCwgdXNlcklkKSB7XG4gICAgICBhd2FpdCByZXN0LmRlbGV0ZShyZXN0LnJvdXRlcy5jaGFubmVscy50aHJlYWRzLnVzZXIoY2hhbm5lbElkLCB1c2VySWQpKVxuICAgIH0sXG5cbiAgICBhc3luYyByZW1vdmVEbVJlY2lwaWVudChjaGFubmVsSWQsIHVzZXJJZCkge1xuICAgICAgYXdhaXQgcmVzdC5kZWxldGUocmVzdC5yb3V0ZXMuY2hhbm5lbHMuZG1SZWNpcGllbnQoY2hhbm5lbElkLCB1c2VySWQpKVxuICAgIH0sXG5cbiAgICBhc3luYyBzZW5kRm9sbG93dXBNZXNzYWdlKHRva2VuLCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5wb3N0KHJlc3Qucm91dGVzLndlYmhvb2tzLndlYmhvb2socmVzdC5hcHBsaWNhdGlvbklkLCB0b2tlbiksIHtcbiAgICAgICAgYm9keTogb3B0aW9ucyxcbiAgICAgICAgZmlsZXM6IG9wdGlvbnMuZmlsZXMsXG4gICAgICAgIHVuYXV0aG9yaXplZDogdHJ1ZSxcbiAgICAgIH0pXG4gICAgfSxcblxuICAgIGFzeW5jIHNlbmRJbnRlcmFjdGlvblJlc3BvbnNlKGludGVyYWN0aW9uSWQsIHRva2VuLCBvcHRpb25zLCBwYXJhbXMpIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LnBvc3Q8dm9pZCB8IERpc2NvcmRJbnRlcmFjdGlvbkNhbGxiYWNrUmVzcG9uc2U+KHJlc3Qucm91dGVzLmludGVyYWN0aW9ucy5yZXNwb25zZXMuY2FsbGJhY2soaW50ZXJhY3Rpb25JZCwgdG9rZW4sIHBhcmFtcyksIHtcbiAgICAgICAgYm9keTogb3B0aW9ucyxcbiAgICAgICAgZmlsZXM6IG9wdGlvbnMuZGF0YT8uZmlsZXMsXG4gICAgICAgIHJ1blRocm91Z2hRdWV1ZTogZmFsc2UsXG4gICAgICAgIHVuYXV0aG9yaXplZDogdHJ1ZSxcbiAgICAgIH0pXG4gICAgfSxcblxuICAgIGFzeW5jIHNlbmRNZXNzYWdlKGNoYW5uZWxJZCwgYm9keSkge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QucG9zdDxEaXNjb3JkTWVzc2FnZT4ocmVzdC5yb3V0ZXMuY2hhbm5lbHMubWVzc2FnZXMoY2hhbm5lbElkKSwgeyBib2R5LCBmaWxlczogYm9keS5maWxlcyB9KVxuICAgIH0sXG5cbiAgICBhc3luYyBzdGFydFRocmVhZFdpdGhNZXNzYWdlKGNoYW5uZWxJZCwgbWVzc2FnZUlkLCBib2R5LCByZWFzb24pIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LnBvc3Q8RGlzY29yZENoYW5uZWw+KHJlc3Qucm91dGVzLmNoYW5uZWxzLnRocmVhZHMubWVzc2FnZShjaGFubmVsSWQsIG1lc3NhZ2VJZCksIHsgYm9keSwgcmVhc29uIH0pXG4gICAgfSxcblxuICAgIGFzeW5jIHN0YXJ0VGhyZWFkV2l0aG91dE1lc3NhZ2UoY2hhbm5lbElkLCBib2R5LCByZWFzb24pIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LnBvc3Q8RGlzY29yZENoYW5uZWw+KHJlc3Qucm91dGVzLmNoYW5uZWxzLnRocmVhZHMuYWxsKGNoYW5uZWxJZCksIHsgYm9keSwgcmVhc29uIH0pXG4gICAgfSxcblxuICAgIGFzeW5jIGdldFBvbGxBbnN3ZXJWb3RlcnMoY2hhbm5lbElkLCBtZXNzYWdlSWQsIGFuc3dlcklkLCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5nZXQ8RGlzY29yZEdldEFuc3dlclZvdGVzUmVzcG9uc2U+KHJlc3Qucm91dGVzLmNoYW5uZWxzLnBvbGxzLnZvdGVzKGNoYW5uZWxJZCwgbWVzc2FnZUlkLCBhbnN3ZXJJZCwgb3B0aW9ucykpXG4gICAgfSxcblxuICAgIGFzeW5jIGVuZFBvbGwoY2hhbm5lbElkLCBtZXNzYWdlSWQpIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LnBvc3Q8RGlzY29yZE1lc3NhZ2U+KHJlc3Qucm91dGVzLmNoYW5uZWxzLnBvbGxzLmV4cGlyZShjaGFubmVsSWQsIG1lc3NhZ2VJZCkpXG4gICAgfSxcblxuICAgIGFzeW5jIHN5bmNHdWlsZFRlbXBsYXRlKGd1aWxkSWQpIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LnB1dDxEaXNjb3JkVGVtcGxhdGU+KHJlc3Qucm91dGVzLmd1aWxkcy50ZW1wbGF0ZXMuYWxsKGd1aWxkSWQpKVxuICAgIH0sXG5cbiAgICBhc3luYyBiYW5NZW1iZXIoZ3VpbGRJZCwgdXNlcklkLCBib2R5LCByZWFzb24pIHtcbiAgICAgIGF3YWl0IHJlc3QucHV0PHZvaWQ+KHJlc3Qucm91dGVzLmd1aWxkcy5tZW1iZXJzLmJhbihndWlsZElkLCB1c2VySWQpLCB7IGJvZHksIHJlYXNvbiB9KVxuICAgIH0sXG5cbiAgICBhc3luYyBidWxrQmFuTWVtYmVycyhndWlsZElkLCBvcHRpb25zLCByZWFzb24pIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LnBvc3Q8RGlzY29yZEJ1bGtCYW4+KHJlc3Qucm91dGVzLmd1aWxkcy5tZW1iZXJzLmJ1bGtCYW4oZ3VpbGRJZCksIHsgYm9keTogb3B0aW9ucywgcmVhc29uIH0pXG4gICAgfSxcblxuICAgIGFzeW5jIGVkaXRCb3RNZW1iZXIoZ3VpbGRJZCwgYm9keSwgcmVhc29uKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5wYXRjaDxEaXNjb3JkTWVtYmVyPihyZXN0LnJvdXRlcy5ndWlsZHMubWVtYmVycy5ib3QoZ3VpbGRJZCksIHsgYm9keSwgcmVhc29uIH0pXG4gICAgfSxcblxuICAgIGFzeW5jIGVkaXRNZW1iZXIoZ3VpbGRJZCwgdXNlcklkLCBib2R5LCByZWFzb24pIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LnBhdGNoPERpc2NvcmRNZW1iZXJXaXRoVXNlcj4ocmVzdC5yb3V0ZXMuZ3VpbGRzLm1lbWJlcnMubWVtYmVyKGd1aWxkSWQsIHVzZXJJZCksIHsgYm9keSwgcmVhc29uIH0pXG4gICAgfSxcblxuICAgIGFzeW5jIGdldE1lbWJlcihndWlsZElkLCB1c2VySWQpIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LmdldDxEaXNjb3JkTWVtYmVyV2l0aFVzZXI+KHJlc3Qucm91dGVzLmd1aWxkcy5tZW1iZXJzLm1lbWJlcihndWlsZElkLCB1c2VySWQpKVxuICAgIH0sXG5cbiAgICBhc3luYyBnZXRDdXJyZW50TWVtYmVyKGd1aWxkSWQsIHRva2VuKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5nZXQ8RGlzY29yZE1lbWJlcldpdGhVc2VyPihyZXN0LnJvdXRlcy5ndWlsZHMubWVtYmVycy5jdXJyZW50TWVtYmVyKGd1aWxkSWQpLCB7XG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICBhdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dG9rZW59YCxcbiAgICAgICAgfSxcbiAgICAgICAgdW5hdXRob3JpemVkOiB0cnVlLFxuICAgICAgfSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZ2V0TWVtYmVycyhndWlsZElkLCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5nZXQ8RGlzY29yZE1lbWJlcldpdGhVc2VyW10+KHJlc3Qucm91dGVzLmd1aWxkcy5tZW1iZXJzLm1lbWJlcnMoZ3VpbGRJZCwgb3B0aW9ucykpXG4gICAgfSxcblxuICAgIGFzeW5jIGdldEFwcGxpY2F0aW9uQWN0aXZpdHlJbnN0YW5jZShhcHBsaWNhdGlvbklkLCBpbnN0YW5jZUlkKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5nZXQ8RGlzY29yZEFjdGl2aXR5SW5zdGFuY2U+KHJlc3Qucm91dGVzLmFwcGxpY2F0aW9uQWN0aXZpdHlJbnN0YW5jZShhcHBsaWNhdGlvbklkLCBpbnN0YW5jZUlkKSlcbiAgICB9LFxuXG4gICAgYXN5bmMga2lja01lbWJlcihndWlsZElkLCB1c2VySWQsIHJlYXNvbikge1xuICAgICAgYXdhaXQgcmVzdC5kZWxldGUocmVzdC5yb3V0ZXMuZ3VpbGRzLm1lbWJlcnMubWVtYmVyKGd1aWxkSWQsIHVzZXJJZCksIHtcbiAgICAgICAgcmVhc29uLFxuICAgICAgfSlcbiAgICB9LFxuXG4gICAgYXN5bmMgcGluTWVzc2FnZShjaGFubmVsSWQsIG1lc3NhZ2VJZCwgcmVhc29uKSB7XG4gICAgICBhd2FpdCByZXN0LnB1dChyZXN0LnJvdXRlcy5jaGFubmVscy5waW4oY2hhbm5lbElkLCBtZXNzYWdlSWQpLCB7IHJlYXNvbiB9KVxuICAgIH0sXG5cbiAgICBhc3luYyBwcnVuZU1lbWJlcnMoZ3VpbGRJZCwgYm9keSwgcmVhc29uKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5wb3N0PHsgcHJ1bmVkOiBudW1iZXIgfCBudWxsIH0+KHJlc3Qucm91dGVzLmd1aWxkcy5tZW1iZXJzLnBydW5lKGd1aWxkSWQpLCB7IGJvZHksIHJlYXNvbiB9KVxuICAgIH0sXG5cbiAgICBhc3luYyBzZWFyY2hNZW1iZXJzKGd1aWxkSWQsIHF1ZXJ5LCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5nZXQ8RGlzY29yZE1lbWJlcldpdGhVc2VyW10+KHJlc3Qucm91dGVzLmd1aWxkcy5tZW1iZXJzLnNlYXJjaChndWlsZElkLCBxdWVyeSwgb3B0aW9ucykpXG4gICAgfSxcblxuICAgIGFzeW5jIGdldEd1aWxkT25ib2FyZGluZyhndWlsZElkKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5nZXQ8RGlzY29yZEd1aWxkT25ib2FyZGluZz4ocmVzdC5yb3V0ZXMuZ3VpbGRzLm9uYm9hcmRpbmcoZ3VpbGRJZCkpXG4gICAgfSxcblxuICAgIGFzeW5jIGVkaXRHdWlsZE9uYm9hcmRpbmcoZ3VpbGRJZCwgb3B0aW9ucywgcmVhc29uKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5wdXQ8RGlzY29yZEd1aWxkT25ib2FyZGluZz4ocmVzdC5yb3V0ZXMuZ3VpbGRzLm9uYm9hcmRpbmcoZ3VpbGRJZCksIHtcbiAgICAgICAgYm9keTogb3B0aW9ucyxcbiAgICAgICAgcmVhc29uLFxuICAgICAgfSlcbiAgICB9LFxuXG4gICAgYXN5bmMgdW5iYW5NZW1iZXIoZ3VpbGRJZCwgdXNlcklkLCByZWFzb24pIHtcbiAgICAgIGF3YWl0IHJlc3QuZGVsZXRlKHJlc3Qucm91dGVzLmd1aWxkcy5tZW1iZXJzLmJhbihndWlsZElkLCB1c2VySWQpLCB7IHJlYXNvbiB9KVxuICAgIH0sXG5cbiAgICBhc3luYyB1bnBpbk1lc3NhZ2UoY2hhbm5lbElkLCBtZXNzYWdlSWQsIHJlYXNvbikge1xuICAgICAgYXdhaXQgcmVzdC5kZWxldGUocmVzdC5yb3V0ZXMuY2hhbm5lbHMucGluKGNoYW5uZWxJZCwgbWVzc2FnZUlkKSwgeyByZWFzb24gfSlcbiAgICB9LFxuXG4gICAgYXN5bmMgdHJpZ2dlclR5cGluZ0luZGljYXRvcihjaGFubmVsSWQpIHtcbiAgICAgIGF3YWl0IHJlc3QucG9zdChyZXN0LnJvdXRlcy5jaGFubmVscy50eXBpbmcoY2hhbm5lbElkKSlcbiAgICB9LFxuXG4gICAgYXN5bmMgdXBzZXJ0R2xvYmFsQXBwbGljYXRpb25Db21tYW5kcyhib2R5LCBvcHRpb25zKSB7XG4gICAgICBjb25zdCByZXN0T3B0aW9uczogTWFrZVJlcXVlc3RPcHRpb25zID0geyBib2R5IH1cblxuICAgICAgaWYgKG9wdGlvbnM/LmJlYXJlclRva2VuKSB7XG4gICAgICAgIHJlc3RPcHRpb25zLnVuYXV0aG9yaXplZCA9IHRydWVcbiAgICAgICAgcmVzdE9wdGlvbnMuaGVhZGVycyA9IHtcbiAgICAgICAgICBhdXRob3JpemF0aW9uOiBgQmVhcmVyICR7b3B0aW9ucy5iZWFyZXJUb2tlbn1gLFxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBhd2FpdCByZXN0LnB1dDxEaXNjb3JkQXBwbGljYXRpb25Db21tYW5kW10+KHJlc3Qucm91dGVzLmludGVyYWN0aW9ucy5jb21tYW5kcy5jb21tYW5kcyhyZXN0LmFwcGxpY2F0aW9uSWQpLCByZXN0T3B0aW9ucylcbiAgICB9LFxuXG4gICAgYXN5bmMgdXBzZXJ0R3VpbGRBcHBsaWNhdGlvbkNvbW1hbmRzKGd1aWxkSWQsIGJvZHksIG9wdGlvbnMpIHtcbiAgICAgIGNvbnN0IHJlc3RPcHRpb25zOiBNYWtlUmVxdWVzdE9wdGlvbnMgPSB7IGJvZHkgfVxuXG4gICAgICBpZiAob3B0aW9ucz8uYmVhcmVyVG9rZW4pIHtcbiAgICAgICAgcmVzdE9wdGlvbnMudW5hdXRob3JpemVkID0gdHJ1ZVxuICAgICAgICByZXN0T3B0aW9ucy5oZWFkZXJzID0ge1xuICAgICAgICAgIGF1dGhvcml6YXRpb246IGBCZWFyZXIgJHtvcHRpb25zLmJlYXJlclRva2VufWAsXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QucHV0PERpc2NvcmRBcHBsaWNhdGlvbkNvbW1hbmRbXT4ocmVzdC5yb3V0ZXMuaW50ZXJhY3Rpb25zLmNvbW1hbmRzLmd1aWxkcy5hbGwocmVzdC5hcHBsaWNhdGlvbklkLCBndWlsZElkKSwgcmVzdE9wdGlvbnMpXG4gICAgfSxcblxuICAgIGFzeW5jIGVkaXRVc2VyQXBwbGljYXRpb25Sb2xlQ29ubmVjdGlvbih0b2tlbiwgYXBwbGljYXRpb25JZCwgYm9keSkge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QucHV0PERpc2NvcmRBcHBsaWNhdGlvblJvbGVDb25uZWN0aW9uPihyZXN0LnJvdXRlcy5vYXV0aDIucm9sZUNvbm5lY3Rpb25zKGFwcGxpY2F0aW9uSWQpLCB7XG4gICAgICAgIGJvZHksXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICBhdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dG9rZW59YCxcbiAgICAgICAgfSxcbiAgICAgICAgdW5hdXRob3JpemVkOiB0cnVlLFxuICAgICAgfSlcbiAgICB9LFxuXG4gICAgYXN5bmMgYWRkR3VpbGRNZW1iZXIoZ3VpbGRJZCwgdXNlcklkLCBib2R5KSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5wdXQocmVzdC5yb3V0ZXMuZ3VpbGRzLm1lbWJlcnMubWVtYmVyKGd1aWxkSWQsIHVzZXJJZCksIHtcbiAgICAgICAgYm9keSxcbiAgICAgIH0pXG4gICAgfSxcblxuICAgIGFzeW5jIGNyZWF0ZVRlc3RFbnRpdGxlbWVudChhcHBsaWNhdGlvbklkLCBib2R5KSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5wb3N0PERpc2NvcmRFbnRpdGxlbWVudD4ocmVzdC5yb3V0ZXMubW9uZXRpemF0aW9uLmVudGl0bGVtZW50cyhhcHBsaWNhdGlvbklkKSwge1xuICAgICAgICBib2R5LFxuICAgICAgfSlcbiAgICB9LFxuXG4gICAgYXN5bmMgbGlzdEVudGl0bGVtZW50cyhhcHBsaWNhdGlvbklkLCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5nZXQ8RGlzY29yZEVudGl0bGVtZW50W10+KHJlc3Qucm91dGVzLm1vbmV0aXphdGlvbi5lbnRpdGxlbWVudHMoYXBwbGljYXRpb25JZCwgb3B0aW9ucykpXG4gICAgfSxcblxuICAgIGFzeW5jIGdldEVudGl0bGVtZW50KGFwcGxpY2F0aW9uSWQsIGVudGl0bGVtZW50SWQpIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LmdldDxEaXNjb3JkRW50aXRsZW1lbnQ+KHJlc3Qucm91dGVzLm1vbmV0aXphdGlvbi5lbnRpdGxlbWVudChhcHBsaWNhdGlvbklkLCBlbnRpdGxlbWVudElkKSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZGVsZXRlVGVzdEVudGl0bGVtZW50KGFwcGxpY2F0aW9uSWQsIGVudGl0bGVtZW50SWQpIHtcbiAgICAgIGF3YWl0IHJlc3QuZGVsZXRlKHJlc3Qucm91dGVzLm1vbmV0aXphdGlvbi5lbnRpdGxlbWVudChhcHBsaWNhdGlvbklkLCBlbnRpdGxlbWVudElkKSlcbiAgICB9LFxuXG4gICAgYXN5bmMgY29uc3VtZUVudGl0bGVtZW50KGFwcGxpY2F0aW9uSWQsIGVudGl0bGVtZW50SWQpIHtcbiAgICAgIGF3YWl0IHJlc3QucG9zdChyZXN0LnJvdXRlcy5tb25ldGl6YXRpb24uY29uc3VtZUVudGl0bGVtZW50KGFwcGxpY2F0aW9uSWQsIGVudGl0bGVtZW50SWQpKVxuICAgIH0sXG5cbiAgICBhc3luYyBsaXN0U2t1cyhhcHBsaWNhdGlvbklkKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5nZXQ8RGlzY29yZFNrdVtdPihyZXN0LnJvdXRlcy5tb25ldGl6YXRpb24uc2t1cyhhcHBsaWNhdGlvbklkKSlcbiAgICB9LFxuXG4gICAgYXN5bmMgbGlzdFN1YnNjcmlwdGlvbnMoc2t1SWQsIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LmdldDxEaXNjb3JkU3Vic2NyaXB0aW9uW10+KHJlc3Qucm91dGVzLm1vbmV0aXphdGlvbi5zdWJzY3JpcHRpb25zKHNrdUlkLCBvcHRpb25zKSlcbiAgICB9LFxuXG4gICAgYXN5bmMgZ2V0U3Vic2NyaXB0aW9uKHNrdUlkLCBzdWJzY3JpcHRpb25JZCkge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QuZ2V0PERpc2NvcmRTdWJzY3JpcHRpb24+KHJlc3Qucm91dGVzLm1vbmV0aXphdGlvbi5zdWJzY3JpcHRpb24oc2t1SWQsIHN1YnNjcmlwdGlvbklkKSlcbiAgICB9LFxuXG4gICAgYXN5bmMgc2VuZFNvdW5kYm9hcmRTb3VuZChjaGFubmVsSWQsIG9wdGlvbnMpIHtcbiAgICAgIGF3YWl0IHJlc3QucG9zdChyZXN0LnJvdXRlcy5zb3VuZGJvYXJkLnNlbmRTb3VuZChjaGFubmVsSWQpLCB7XG4gICAgICAgIGJvZHk6IG9wdGlvbnMsXG4gICAgICB9KVxuICAgIH0sXG5cbiAgICBhc3luYyBsaXN0RGVmYXVsdFNvdW5kYm9hcmRTb3VuZHMoKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5nZXQ8RGlzY29yZFNvdW5kYm9hcmRTb3VuZFtdPihyZXN0LnJvdXRlcy5zb3VuZGJvYXJkLmxpc3REZWZhdWx0KCkpXG4gICAgfSxcblxuICAgIGFzeW5jIGxpc3RHdWlsZFNvdW5kYm9hcmRTb3VuZHMoZ3VpbGRJZCkge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QuZ2V0PHsgaXRlbXM6IERpc2NvcmRTb3VuZGJvYXJkU291bmRbXSB9PihyZXN0LnJvdXRlcy5zb3VuZGJvYXJkLmd1aWxkU291bmRzKGd1aWxkSWQpKVxuICAgIH0sXG5cbiAgICBhc3luYyBnZXRHdWlsZFNvdW5kYm9hcmRTb3VuZChndWlsZElkLCBzb3VuZElkKSB7XG4gICAgICByZXR1cm4gYXdhaXQgcmVzdC5nZXQ8RGlzY29yZFNvdW5kYm9hcmRTb3VuZD4ocmVzdC5yb3V0ZXMuc291bmRib2FyZC5ndWlsZFNvdW5kKGd1aWxkSWQsIHNvdW5kSWQpKVxuICAgIH0sXG5cbiAgICBhc3luYyBjcmVhdGVHdWlsZFNvdW5kYm9hcmRTb3VuZChndWlsZElkLCBvcHRpb25zLCByZWFzb24pIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LnBvc3Q8RGlzY29yZFNvdW5kYm9hcmRTb3VuZD4ocmVzdC5yb3V0ZXMuc291bmRib2FyZC5ndWlsZFNvdW5kcyhndWlsZElkKSwge1xuICAgICAgICBib2R5OiBvcHRpb25zLFxuICAgICAgICByZWFzb24sXG4gICAgICB9KVxuICAgIH0sXG5cbiAgICBhc3luYyBtb2RpZnlHdWlsZFNvdW5kYm9hcmRTb3VuZChndWlsZElkLCBzb3VuZElkLCBvcHRpb25zLCByZWFzb24pIHtcbiAgICAgIHJldHVybiBhd2FpdCByZXN0LnBvc3Q8RGlzY29yZFNvdW5kYm9hcmRTb3VuZD4ocmVzdC5yb3V0ZXMuc291bmRib2FyZC5ndWlsZFNvdW5kKGd1aWxkSWQsIHNvdW5kSWQpLCB7XG4gICAgICAgIGJvZHk6IG9wdGlvbnMsXG4gICAgICAgIHJlYXNvbixcbiAgICAgIH0pXG4gICAgfSxcblxuICAgIGFzeW5jIGRlbGV0ZUd1aWxkU291bmRib2FyZFNvdW5kKGd1aWxkSWQsIHNvdW5kSWQsIHJlYXNvbikge1xuICAgICAgcmV0dXJuIGF3YWl0IHJlc3QuZGVsZXRlKHJlc3Qucm91dGVzLnNvdW5kYm9hcmQuZ3VpbGRTb3VuZChndWlsZElkLCBzb3VuZElkKSwge1xuICAgICAgICByZWFzb24sXG4gICAgICB9KVxuICAgIH0sXG5cbiAgICBwcmVmZXJTbmFrZUNhc2UoZW5hYmxlZDogYm9vbGVhbikge1xuICAgICAgY29uc3QgY2FtZWxpemVyID0gZW5hYmxlZCA/ICh4OiBhbnkpID0+IHggOiBjYW1lbGl6ZVxuXG4gICAgICByZXN0LmdldCA9IGFzeW5jICh1cmwsIG9wdGlvbnMpID0+IHtcbiAgICAgICAgcmV0dXJuIGNhbWVsaXplcihhd2FpdCByZXN0Lm1ha2VSZXF1ZXN0KCdHRVQnLCB1cmwsIG9wdGlvbnMpKVxuICAgICAgfVxuXG4gICAgICByZXN0LnBvc3QgPSBhc3luYyAodXJsOiBzdHJpbmcsIG9wdGlvbnM/OiBPbWl0PENyZWF0ZVJlcXVlc3RCb2R5T3B0aW9ucywgJ2JvZHknIHwgJ21ldGhvZCc+KSA9PiB7XG4gICAgICAgIHJldHVybiBjYW1lbGl6ZXIoYXdhaXQgcmVzdC5tYWtlUmVxdWVzdCgnUE9TVCcsIHVybCwgb3B0aW9ucykpXG4gICAgICB9XG5cbiAgICAgIHJlc3QuZGVsZXRlID0gYXN5bmMgKHVybDogc3RyaW5nLCBvcHRpb25zPzogT21pdDxDcmVhdGVSZXF1ZXN0Qm9keU9wdGlvbnMsICdib2R5JyB8ICdtZXRob2QnPikgPT4ge1xuICAgICAgICBjYW1lbGl6ZXIoYXdhaXQgcmVzdC5tYWtlUmVxdWVzdCgnREVMRVRFJywgdXJsLCBvcHRpb25zKSlcbiAgICAgIH1cblxuICAgICAgcmVzdC5wYXRjaCA9IGFzeW5jICh1cmw6IHN0cmluZywgb3B0aW9ucz86IE9taXQ8Q3JlYXRlUmVxdWVzdEJvZHlPcHRpb25zLCAnYm9keScgfCAnbWV0aG9kJz4pID0+IHtcbiAgICAgICAgcmV0dXJuIGNhbWVsaXplcihhd2FpdCByZXN0Lm1ha2VSZXF1ZXN0KCdQQVRDSCcsIHVybCwgb3B0aW9ucykpXG4gICAgICB9XG5cbiAgICAgIHJlc3QucHV0ID0gYXN5bmMgKHVybDogc3RyaW5nLCBvcHRpb25zPzogT21pdDxDcmVhdGVSZXF1ZXN0Qm9keU9wdGlvbnMsICdib2R5JyB8ICdtZXRob2QnPikgPT4ge1xuICAgICAgICByZXR1cm4gY2FtZWxpemVyKGF3YWl0IHJlc3QubWFrZVJlcXVlc3QoJ1BVVCcsIHVybCwgb3B0aW9ucykpXG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXN0XG4gICAgfSxcbiAgfVxuXG4gIHJldHVybiByZXN0XG59XG5cbmVudW0gSHR0cFJlc3BvbnNlQ29kZSB7XG4gIC8qKiBNaW5pbXVtIHZhbHVlIG9mIGEgY29kZSBpbiBvZGVyIHRvIGNvbnNpZGVyIHRoYXQgaXQgd2FzIHN1Y2Nlc3NmdWwuICovXG4gIFN1Y2Nlc3MgPSAyMDAsXG4gIC8qKiBSZXF1ZXN0IGNvbXBsZXRlZCBzdWNjZXNzZnVsbHksIGJ1dCBEaXNjb3JkIHJldHVybmVkIGFuIGVtcHR5IGJvZHkuICovXG4gIE5vQ29udGVudCA9IDIwNCxcbiAgLyoqIE1pbmltdW0gdmFsdWUgb2YgYSBjb2RlIGluIG9yZGVyIHRvIGNvbnNpZGVyIHRoYXQgc29tZXRoaW5nIHdlbnQgd3JvbmcuICovXG4gIEVycm9yID0gNDAwLFxuICAvKiogVGhpcyByZXF1ZXN0IGdvdCByYXRlIGxpbWl0ZWQuICovXG4gIFRvb01hbnlSZXF1ZXN0cyA9IDQyOSxcbn1cbiJdLCJuYW1lcyI6WyJBVURJVF9MT0dfUkVBU09OX0hFQURFUiIsIkRJU0NPUkRfQVBJX1VSTCIsIkRJU0NPUkRfQVBJX1ZFUlNJT04iLCJSQVRFX0xJTUlUX0JVQ0tFVF9IRUFERVIiLCJSQVRFX0xJTUlUX0dMT0JBTF9IRUFERVIiLCJSQVRFX0xJTUlUX0xJTUlUX0hFQURFUiIsIlJBVEVfTElNSVRfUkVNQUlOSU5HX0hFQURFUiIsIlJBVEVfTElNSVRfUkVTRVRfQUZURVJfSEVBREVSIiwiUkFURV9MSU1JVF9TQ09QRV9IRUFERVIiLCJjcmVhdGVSZXN0TWFuYWdlciIsIm9wdGlvbnMiLCJhcHBsaWNhdGlvbklkIiwiQmlnSW50IiwiZ2V0Qm90SWRGcm9tVG9rZW4iLCJ0b2tlbiIsImJhc2VVcmwiLCJwcm94eSIsInJlc3QiLCJhdXRob3JpemF0aW9uIiwiYXV0aG9yaXphdGlvbkhlYWRlciIsImRlbGV0ZVF1ZXVlRGVsYXkiLCJnbG9iYWxseVJhdGVMaW1pdGVkIiwiaW52YWxpZEJ1Y2tldCIsImNyZWF0ZUludmFsaWRSZXF1ZXN0QnVja2V0IiwibG9nZ2VyIiwiaXNQcm94aWVkIiwic3RhcnRzV2l0aCIsInVwZGF0ZUJlYXJlclRva2VuRW5kcG9pbnQiLCJtYXhSZXRyeUNvdW50IiwiSW5maW5pdHkiLCJwcm9jZXNzaW5nUmF0ZUxpbWl0ZWRQYXRocyIsInF1ZXVlcyIsIk1hcCIsInJhdGVMaW1pdGVkUGF0aHMiLCJ2ZXJzaW9uIiwicm91dGVzIiwiY3JlYXRlUm91dGVzIiwiY3JlYXRlQmFzZUhlYWRlcnMiLCJESVNDT1JERU5PX1ZFUlNJT04iLCJjaGVja1JhdGVMaW1pdHMiLCJ1cmwiLCJpZGVudGlmaWVyIiwicmF0ZWxpbWl0ZWQiLCJnZXQiLCJnbG9iYWwiLCJub3ciLCJEYXRlIiwicmVzZXRUaW1lc3RhbXAiLCJ1cGRhdGVUb2tlblF1ZXVlcyIsIm9sZFRva2VuIiwibmV3VG9rZW4iLCJFcnJvciIsImhlYWRlcnMiLCJ1bmRlZmluZWQiLCJmZXRjaCIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwibmV3SWRlbnRpZmllciIsImtleSIsInF1ZXVlIiwiZW50cmllcyIsImRlbGV0ZSIsIm5ld0tleSIsIm5ld1F1ZXVlIiwid2FpdGluZyIsInVuc2hpZnQiLCJwZW5kaW5nIiwiY2xlYW51cCIsInNldCIsInJhdGVsaW1pdFBhdGgiLCJidWNrZXRJZCIsImNoYW5nZVRvRGlzY29yZEZvcm1hdCIsIm9iaiIsIkFycmF5IiwiaXNBcnJheSIsIm1hcCIsIml0ZW0iLCJuZXdPYmoiLCJPYmplY3QiLCJrZXlzIiwidmFsdWUiLCJpbmNsdWRlcyIsImNhbGN1bGF0ZUJpdHMiLCJkZWZhdWx0X21lbWJlcl9wZXJtaXNzaW9ucyIsIm5hbWVfbG9jYWxpemF0aW9ucyIsImRlc2NyaXB0aW9uX2xvY2FsaXphdGlvbnMiLCJjYW1lbFRvU25ha2VDYXNlIiwidG9TdHJpbmciLCJjcmVhdGVSZXF1ZXN0Qm9keSIsInVuYXV0aG9yaXplZCIsInJlYXNvbiIsImVuY29kZVVSSUNvbXBvbmVudCIsImZpbGVzIiwiZm9ybSIsIkZvcm1EYXRhIiwiaSIsImxlbmd0aCIsImFwcGVuZCIsImJsb2IiLCJuYW1lIiwiZm9ybUJvZHkiLCJkaXNjb3JkQm9keSIsInByb3AiLCJwdXNoIiwiam9pbiIsImFzc2lnbiIsInByb2Nlc3NSYXRlTGltaXRlZFBhdGhzIiwic2l6ZSIsInNldFRpbWVvdXQiLCJwcm9jZXNzSGVhZGVycyIsInJhdGVMaW1pdGVkIiwicmVtYWluaW5nIiwicmV0cnlBZnRlciIsInJlc2V0IiwiTnVtYmVyIiwibGltaXQiLCJoYW5kbGVDb21wbGV0ZWRSZXF1ZXN0IiwiaW50ZXJ2YWwiLCJtYXgiLCJnbG9iYWxSZXNldCIsInNlbmRSZXF1ZXN0Iiwicm91dGUiLCJwYXlsb2FkIiwicmVxdWVzdEJvZHlPcHRpb25zIiwibG9nZ2luZ0hlYWRlcnMiLCJhdXRob3JpemF0aW9uU2NoZW1lIiwic3BsaXQiLCJkZWJ1ZyIsInJlc3BvbnNlIiwiY2F0Y2giLCJlcnJvciIsInJlamVjdCIsIm9rIiwic3RhdHVzIiwic3RhdHVzVGV4dCIsInNpbXBsaWZ5VXJsIiwidGV4dCIsInJldHJ5Q291bnQiLCJyZXNldEFmdGVyIiwiZGVsYXkiLCJhcnJheUJ1ZmZlciIsInJldHJ5UmVxdWVzdCIsInJlc29sdmUiLCJwYXJ0cyIsInNlY29uZExhc3RQYXJ0Iiwic3BsaWNlIiwicHJvY2Vzc1JlcXVlc3QiLCJyZXF1ZXN0IiwicnVuVGhyb3VnaFF1ZXVlIiwicXVldWVJZGVudGlmaWVyIiwibWFrZVJlcXVlc3QiLCJidWNrZXRRdWV1ZSIsIlF1ZXVlIiwibWVzc2FnZSIsInJlc3VsdCIsImVyclRleHQiLCJjYXVzZSIsImVyciIsImpzb24iLCJQcm9taXNlIiwiZGF0YSIsInBhcnNlIiwiY2FtZWxpemUiLCJwb3N0IiwicGF0Y2giLCJwdXQiLCJhZGRSZWFjdGlvbiIsImNoYW5uZWxJZCIsIm1lc3NhZ2VJZCIsInJlYWN0aW9uIiwicHJvY2Vzc1JlYWN0aW9uU3RyaW5nIiwiY2hhbm5lbHMiLCJyZWFjdGlvbnMiLCJib3QiLCJhZGRSZWFjdGlvbnMiLCJvcmRlcmVkIiwiYWxsIiwiYWRkUm9sZSIsImd1aWxkSWQiLCJ1c2VySWQiLCJyb2xlSWQiLCJndWlsZHMiLCJyb2xlcyIsIm1lbWJlciIsImFkZFRocmVhZE1lbWJlciIsInRocmVhZHMiLCJ1c2VyIiwiYWRkRG1SZWNpcGllbnQiLCJkbVJlY2lwaWVudCIsImNyZWF0ZUF1dG9tb2RSdWxlIiwiYXV0b21vZCIsInJ1bGVzIiwiY3JlYXRlQ2hhbm5lbCIsImNyZWF0ZUVtb2ppIiwiZW1vamlzIiwiY3JlYXRlQXBwbGljYXRpb25FbW9qaSIsImFwcGxpY2F0aW9uRW1vamlzIiwiY3JlYXRlR2xvYmFsQXBwbGljYXRpb25Db21tYW5kIiwicmVzdE9wdGlvbnMiLCJiZWFyZXJUb2tlbiIsImludGVyYWN0aW9ucyIsImNvbW1hbmRzIiwiY3JlYXRlR3VpbGQiLCJjcmVhdGVHdWlsZEFwcGxpY2F0aW9uQ29tbWFuZCIsImNyZWF0ZUd1aWxkRnJvbVRlbXBsYXRlIiwidGVtcGxhdGVDb2RlIiwiaWNvbiIsInVybFRvQmFzZTY0IiwidGVtcGxhdGVzIiwiY29kZSIsImNyZWF0ZUd1aWxkU3RpY2tlciIsImZpbGUiLCJkZXNjcmlwdGlvbiIsInRhZ3MiLCJzdGlja2VycyIsImNyZWF0ZUd1aWxkVGVtcGxhdGUiLCJjcmVhdGVGb3J1bVRocmVhZCIsImZvcnVtIiwiY3JlYXRlSW52aXRlIiwiaW52aXRlcyIsImNyZWF0ZVJvbGUiLCJjcmVhdGVTY2hlZHVsZWRFdmVudCIsImV2ZW50cyIsImNyZWF0ZVN0YWdlSW5zdGFuY2UiLCJzdGFnZXMiLCJjcmVhdGVXZWJob29rIiwid2ViaG9va3MiLCJhdmF0YXIiLCJkZWxldGVBdXRvbW9kUnVsZSIsInJ1bGVJZCIsInJ1bGUiLCJkZWxldGVDaGFubmVsIiwiY2hhbm5lbCIsImRlbGV0ZUNoYW5uZWxQZXJtaXNzaW9uT3ZlcnJpZGUiLCJvdmVyd3JpdGVJZCIsIm92ZXJ3cml0ZSIsImRlbGV0ZUVtb2ppIiwiaWQiLCJlbW9qaSIsImRlbGV0ZUFwcGxpY2F0aW9uRW1vamkiLCJhcHBsaWNhdGlvbkVtb2ppIiwiZGVsZXRlRm9sbG93dXBNZXNzYWdlIiwicmVzcG9uc2VzIiwiZGVsZXRlR2xvYmFsQXBwbGljYXRpb25Db21tYW5kIiwiY29tbWFuZElkIiwiY29tbWFuZCIsImRlbGV0ZUd1aWxkIiwiZ3VpbGQiLCJkZWxldGVHdWlsZEFwcGxpY2F0aW9uQ29tbWFuZCIsIm9uZSIsImRlbGV0ZUd1aWxkU3RpY2tlciIsInN0aWNrZXJJZCIsInN0aWNrZXIiLCJkZWxldGVHdWlsZFRlbXBsYXRlIiwiZGVsZXRlSW50ZWdyYXRpb24iLCJpbnRlZ3JhdGlvbklkIiwiaW50ZWdyYXRpb24iLCJkZWxldGVJbnZpdGUiLCJpbnZpdGVDb2RlIiwiaW52aXRlIiwiZGVsZXRlTWVzc2FnZSIsImRlbGV0ZU1lc3NhZ2VzIiwibWVzc2FnZUlkcyIsImJ1bGsiLCJtZXNzYWdlcyIsInNsaWNlIiwiZGVsZXRlT3JpZ2luYWxJbnRlcmFjdGlvblJlc3BvbnNlIiwib3JpZ2luYWwiLCJkZWxldGVPd25SZWFjdGlvbiIsImRlbGV0ZVJlYWN0aW9uc0FsbCIsImRlbGV0ZVJlYWN0aW9uc0Vtb2ppIiwiZGVsZXRlUm9sZSIsImRlbGV0ZVNjaGVkdWxlZEV2ZW50IiwiZXZlbnRJZCIsImV2ZW50IiwiZGVsZXRlU3RhZ2VJbnN0YW5jZSIsInN0YWdlIiwiZGVsZXRlVXNlclJlYWN0aW9uIiwiZGVsZXRlV2ViaG9vayIsIndlYmhvb2tJZCIsImRlbGV0ZVdlYmhvb2tNZXNzYWdlIiwiZGVsZXRlV2ViaG9va1dpdGhUb2tlbiIsIndlYmhvb2siLCJlZGl0QXBwbGljYXRpb25Db21tYW5kUGVybWlzc2lvbnMiLCJwZXJtaXNzaW9ucyIsInBlcm1pc3Npb24iLCJlZGl0QXV0b21vZFJ1bGUiLCJlZGl0Qm90UHJvZmlsZSIsImJvdEF2YXRhclVSTCIsImJhbm5lciIsImJvdEJhbm5lclVSTCIsImN1cnJlbnRVc2VyIiwidXNlcm5hbWUiLCJ0cmltIiwiZWRpdENoYW5uZWwiLCJlZGl0Q2hhbm5lbFBlcm1pc3Npb25PdmVycmlkZXMiLCJlZGl0Q2hhbm5lbFBvc2l0aW9ucyIsImVkaXRFbW9qaSIsImVkaXRBcHBsaWNhdGlvbkVtb2ppIiwiZWRpdEZvbGxvd3VwTWVzc2FnZSIsImVkaXRHbG9iYWxBcHBsaWNhdGlvbkNvbW1hbmQiLCJlZGl0R3VpbGQiLCJlZGl0R3VpbGRBcHBsaWNhdGlvbkNvbW1hbmQiLCJlZGl0R3VpbGRNZmFMZXZlbCIsIm1mYUxldmVsIiwibWZhIiwibGV2ZWwiLCJlZGl0R3VpbGRTdGlja2VyIiwiZWRpdEd1aWxkVGVtcGxhdGUiLCJlZGl0TWVzc2FnZSIsImVkaXRPcmlnaW5hbEludGVyYWN0aW9uUmVzcG9uc2UiLCJlZGl0T3JpZ2luYWxXZWJob29rTWVzc2FnZSIsInR5cGUiLCJJbnRlcmFjdGlvblJlc3BvbnNlVHlwZXMiLCJVcGRhdGVNZXNzYWdlIiwiZWRpdE93blZvaWNlU3RhdGUiLCJ2b2ljZSIsInJlcXVlc3RUb1NwZWFrVGltZXN0YW1wIiwidG9JU09TdHJpbmciLCJlZGl0U2NoZWR1bGVkRXZlbnQiLCJlZGl0Um9sZSIsImVkaXRSb2xlUG9zaXRpb25zIiwiZWRpdFN0YWdlSW5zdGFuY2UiLCJ0b3BpYyIsImVkaXRVc2VyVm9pY2VTdGF0ZSIsImVkaXRXZWJob29rIiwiZWRpdFdlYmhvb2tNZXNzYWdlIiwiZWRpdFdlYmhvb2tXaXRoVG9rZW4iLCJlZGl0V2VsY29tZVNjcmVlbiIsIndlbGNvbWUiLCJlZGl0V2lkZ2V0U2V0dGluZ3MiLCJ3aWRnZXQiLCJleGVjdXRlV2ViaG9vayIsImZvbGxvd0Fubm91bmNlbWVudCIsInNvdXJjZUNoYW5uZWxJZCIsInRhcmdldENoYW5uZWxJZCIsImZvbGxvdyIsIndlYmhvb2tDaGFubmVsSWQiLCJnZXRBY3RpdmVUaHJlYWRzIiwiYWN0aXZlIiwiZ2V0QXBwbGljYXRpb25Db21tYW5kUGVybWlzc2lvbiIsImFjY2Vzc1Rva2VuIiwiZ2V0QXBwbGljYXRpb25Db21tYW5kUGVybWlzc2lvbnMiLCJnZXRBcHBsaWNhdGlvbkluZm8iLCJvYXV0aDIiLCJhcHBsaWNhdGlvbiIsImVkaXRBcHBsaWNhdGlvbkluZm8iLCJnZXRDdXJyZW50QXV0aGVudGljYXRpb25JbmZvIiwiY3VycmVudEF1dGhvcml6YXRpb24iLCJleGNoYW5nZVRva2VuIiwiY2xpZW50SWQiLCJjbGllbnRTZWNyZXQiLCJiYXNpY0NyZWRlbnRpYWxzIiwiQnVmZmVyIiwiZnJvbSIsImdyYW50VHlwZSIsInNjb3BlIiwidG9rZW5FeGNoYW5nZSIsInJldm9rZVRva2VuIiwidG9rZW5SZXZva2UiLCJnZXRBdWRpdExvZyIsImF1ZGl0bG9ncyIsImdldEF1dG9tb2RSdWxlIiwiZ2V0QXV0b21vZFJ1bGVzIiwiZ2V0QXZhaWxhYmxlVm9pY2VSZWdpb25zIiwicmVnaW9ucyIsImdldEJhbiIsIm1lbWJlcnMiLCJiYW4iLCJnZXRCYW5zIiwiYmFucyIsImdldENoYW5uZWwiLCJnZXRDaGFubmVsSW52aXRlcyIsImdldENoYW5uZWxzIiwiZ2V0Q2hhbm5lbFdlYmhvb2tzIiwiZ2V0RG1DaGFubmVsIiwiZG0iLCJyZWNpcGllbnRJZCIsImdldEdyb3VwRG1DaGFubmVsIiwiZ2V0RW1vamkiLCJlbW9qaUlkIiwiZ2V0QXBwbGljYXRpb25FbW9qaSIsImdldEVtb2ppcyIsImdldEFwcGxpY2F0aW9uRW1vamlzIiwiZ2V0Rm9sbG93dXBNZXNzYWdlIiwiZ2V0R2F0ZXdheUJvdCIsImdhdGV3YXlCb3QiLCJnZXRHbG9iYWxBcHBsaWNhdGlvbkNvbW1hbmQiLCJnZXRHbG9iYWxBcHBsaWNhdGlvbkNvbW1hbmRzIiwiZ2V0R3VpbGQiLCJjb3VudHMiLCJnZXRHdWlsZHMiLCJtYWtlUmVxdWVzdE9wdGlvbnMiLCJ1c2VyR3VpbGRzIiwiZ2V0R3VpbGRBcHBsaWNhdGlvbkNvbW1hbmQiLCJnZXRHdWlsZEFwcGxpY2F0aW9uQ29tbWFuZHMiLCJnZXRHdWlsZFByZXZpZXciLCJwcmV2aWV3IiwiZ2V0R3VpbGRUZW1wbGF0ZSIsImdldEd1aWxkVGVtcGxhdGVzIiwiZ2V0R3VpbGRXZWJob29rcyIsImdldEludGVncmF0aW9ucyIsImludGVncmF0aW9ucyIsImdldEludml0ZSIsImdldEludml0ZXMiLCJnZXRNZXNzYWdlIiwiZ2V0TWVzc2FnZXMiLCJnZXRTdGlja2VyUGFjayIsInN0aWNrZXJQYWNrSWQiLCJzdGlja2VyUGFjayIsImdldFN0aWNrZXJQYWNrcyIsInN0aWNrZXJQYWNrcyIsImdldE9yaWdpbmFsSW50ZXJhY3Rpb25SZXNwb25zZSIsImdldFBpbm5lZE1lc3NhZ2VzIiwicGlucyIsImdldFByaXZhdGVBcmNoaXZlZFRocmVhZHMiLCJwcml2YXRlIiwiZ2V0UHJpdmF0ZUpvaW5lZEFyY2hpdmVkVGhyZWFkcyIsImpvaW5lZCIsImdldFBydW5lQ291bnQiLCJwcnVuZSIsImdldFB1YmxpY0FyY2hpdmVkVGhyZWFkcyIsInB1YmxpYyIsImdldFJvbGVzIiwiZ2V0Um9sZSIsImdldFNjaGVkdWxlZEV2ZW50Iiwid2l0aFVzZXJDb3VudCIsImdldFNjaGVkdWxlZEV2ZW50cyIsImdldFNjaGVkdWxlZEV2ZW50VXNlcnMiLCJ1c2VycyIsImdldFNlc3Npb25JbmZvIiwiZ2V0U3RhZ2VJbnN0YW5jZSIsImdldE93blZvaWNlU3RhdGUiLCJnZXRVc2VyVm9pY2VTdGF0ZSIsImdldFN0aWNrZXIiLCJnZXRHdWlsZFN0aWNrZXIiLCJnZXRHdWlsZFN0aWNrZXJzIiwiZ2V0VGhyZWFkTWVtYmVyIiwiZ2V0VGhyZWFkTWVtYmVycyIsImdldFJlYWN0aW9ucyIsImdldFVzZXIiLCJnZXRDdXJyZW50VXNlciIsImdldFVzZXJDb25uZWN0aW9ucyIsImNvbm5lY3Rpb25zIiwiZ2V0VXNlckFwcGxpY2F0aW9uUm9sZUNvbm5lY3Rpb24iLCJyb2xlQ29ubmVjdGlvbnMiLCJnZXRWYW5pdHlVcmwiLCJ2YW5pdHkiLCJnZXRWb2ljZVJlZ2lvbnMiLCJnZXRXZWJob29rIiwiZ2V0V2ViaG9va01lc3NhZ2UiLCJnZXRXZWJob29rV2l0aFRva2VuIiwiZ2V0V2VsY29tZVNjcmVlbiIsImdldFdpZGdldCIsIndpZGdldEpzb24iLCJnZXRXaWRnZXRTZXR0aW5ncyIsImpvaW5UaHJlYWQiLCJtZSIsImxlYXZlR3VpbGQiLCJsZWF2ZSIsImxlYXZlVGhyZWFkIiwicHVibGlzaE1lc3NhZ2UiLCJjcm9zc3Bvc3QiLCJyZW1vdmVSb2xlIiwicmVtb3ZlVGhyZWFkTWVtYmVyIiwicmVtb3ZlRG1SZWNpcGllbnQiLCJzZW5kRm9sbG93dXBNZXNzYWdlIiwic2VuZEludGVyYWN0aW9uUmVzcG9uc2UiLCJpbnRlcmFjdGlvbklkIiwicGFyYW1zIiwiY2FsbGJhY2siLCJzZW5kTWVzc2FnZSIsInN0YXJ0VGhyZWFkV2l0aE1lc3NhZ2UiLCJzdGFydFRocmVhZFdpdGhvdXRNZXNzYWdlIiwiZ2V0UG9sbEFuc3dlclZvdGVycyIsImFuc3dlcklkIiwicG9sbHMiLCJ2b3RlcyIsImVuZFBvbGwiLCJleHBpcmUiLCJzeW5jR3VpbGRUZW1wbGF0ZSIsImJhbk1lbWJlciIsImJ1bGtCYW5NZW1iZXJzIiwiYnVsa0JhbiIsImVkaXRCb3RNZW1iZXIiLCJlZGl0TWVtYmVyIiwiZ2V0TWVtYmVyIiwiZ2V0Q3VycmVudE1lbWJlciIsImN1cnJlbnRNZW1iZXIiLCJnZXRNZW1iZXJzIiwiZ2V0QXBwbGljYXRpb25BY3Rpdml0eUluc3RhbmNlIiwiaW5zdGFuY2VJZCIsImFwcGxpY2F0aW9uQWN0aXZpdHlJbnN0YW5jZSIsImtpY2tNZW1iZXIiLCJwaW5NZXNzYWdlIiwicGluIiwicHJ1bmVNZW1iZXJzIiwic2VhcmNoTWVtYmVycyIsInF1ZXJ5Iiwic2VhcmNoIiwiZ2V0R3VpbGRPbmJvYXJkaW5nIiwib25ib2FyZGluZyIsImVkaXRHdWlsZE9uYm9hcmRpbmciLCJ1bmJhbk1lbWJlciIsInVucGluTWVzc2FnZSIsInRyaWdnZXJUeXBpbmdJbmRpY2F0b3IiLCJ0eXBpbmciLCJ1cHNlcnRHbG9iYWxBcHBsaWNhdGlvbkNvbW1hbmRzIiwidXBzZXJ0R3VpbGRBcHBsaWNhdGlvbkNvbW1hbmRzIiwiZWRpdFVzZXJBcHBsaWNhdGlvblJvbGVDb25uZWN0aW9uIiwiYWRkR3VpbGRNZW1iZXIiLCJjcmVhdGVUZXN0RW50aXRsZW1lbnQiLCJtb25ldGl6YXRpb24iLCJlbnRpdGxlbWVudHMiLCJsaXN0RW50aXRsZW1lbnRzIiwiZ2V0RW50aXRsZW1lbnQiLCJlbnRpdGxlbWVudElkIiwiZW50aXRsZW1lbnQiLCJkZWxldGVUZXN0RW50aXRsZW1lbnQiLCJjb25zdW1lRW50aXRsZW1lbnQiLCJsaXN0U2t1cyIsInNrdXMiLCJsaXN0U3Vic2NyaXB0aW9ucyIsInNrdUlkIiwic3Vic2NyaXB0aW9ucyIsImdldFN1YnNjcmlwdGlvbiIsInN1YnNjcmlwdGlvbklkIiwic3Vic2NyaXB0aW9uIiwic2VuZFNvdW5kYm9hcmRTb3VuZCIsInNvdW5kYm9hcmQiLCJzZW5kU291bmQiLCJsaXN0RGVmYXVsdFNvdW5kYm9hcmRTb3VuZHMiLCJsaXN0RGVmYXVsdCIsImxpc3RHdWlsZFNvdW5kYm9hcmRTb3VuZHMiLCJndWlsZFNvdW5kcyIsImdldEd1aWxkU291bmRib2FyZFNvdW5kIiwic291bmRJZCIsImd1aWxkU291bmQiLCJjcmVhdGVHdWlsZFNvdW5kYm9hcmRTb3VuZCIsIm1vZGlmeUd1aWxkU291bmRib2FyZFNvdW5kIiwiZGVsZXRlR3VpbGRTb3VuZGJvYXJkU291bmQiLCJwcmVmZXJTbmFrZUNhc2UiLCJlbmFibGVkIiwiY2FtZWxpemVyIiwieCIsIkh0dHBSZXNwb25zZUNvZGUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0lBNEVhQSx1QkFBdUI7ZUFBdkJBOztJQUZBQyxlQUFlO2VBQWZBOztJQURBQyxtQkFBbUI7ZUFBbkJBOztJQU9BQyx3QkFBd0I7ZUFBeEJBOztJQURBQyx3QkFBd0I7ZUFBeEJBOztJQUVBQyx1QkFBdUI7ZUFBdkJBOztJQUpBQywyQkFBMkI7ZUFBM0JBOztJQUNBQyw2QkFBNkI7ZUFBN0JBOztJQUlBQyx1QkFBdUI7ZUFBdkJBOztJQUVHQyxpQkFBaUI7ZUFBakJBOzs7NEJBcEZPO3VCQXdEaEI7dUJBV0E7K0JBQ29DO3VCQUNyQjt3QkFDTztBQUd0QixNQUFNUCxzQkFBc0I7QUFDNUIsTUFBTUQsa0JBQWtCO0FBRXhCLE1BQU1ELDBCQUEwQjtBQUNoQyxNQUFNTSw4QkFBOEI7QUFDcEMsTUFBTUMsZ0NBQWdDO0FBQ3RDLE1BQU1ILDJCQUEyQjtBQUNqQyxNQUFNRCwyQkFBMkI7QUFDakMsTUFBTUUsMEJBQTBCO0FBQ2hDLE1BQU1HLDBCQUEwQjtBQUVoQyxTQUFTQyxrQkFBa0JDLE9BQWlDO0lBQ2pFLE1BQU1DLGdCQUFnQkQsUUFBUUMsYUFBYSxHQUFHQyxPQUFPRixRQUFRQyxhQUFhLElBQUlFLElBQUFBLHdCQUFpQixFQUFDSCxRQUFRSSxLQUFLO0lBRTdHLE1BQU1DLFVBQVVMLFFBQVFNLEtBQUssRUFBRUQsV0FBV2Q7SUFFMUMsTUFBTWdCLE9BQW9CO1FBQ3hCTjtRQUNBTyxlQUFlUixRQUFRTSxLQUFLLEVBQUVFO1FBQzlCQyxxQkFBcUJULFFBQVFNLEtBQUssRUFBRUcsdUJBQXVCO1FBQzNESjtRQUNBSyxrQkFBa0I7UUFDbEJDLHFCQUFxQjtRQUNy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